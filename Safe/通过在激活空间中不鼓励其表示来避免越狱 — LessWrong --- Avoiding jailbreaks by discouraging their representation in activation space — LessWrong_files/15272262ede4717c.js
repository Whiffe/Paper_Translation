;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="dcaeba0c-475c-c24b-8f3a-af814cf6ddac")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,898298,186947,e=>{"use strict";var t=e.i(271645),n=e.i(161517),r=e.i(798908),o=e.i(714818);let i=()=>{var e,t;return o.isClient&&(null==(t=window)||null==(e=t.navigator)?void 0:e.userAgent)&&(r.default.mobile||r.default.tablet)};e.s(["isMobile",0,i],186947),e.s(["useHover",0,function(){let{eventProps:e,onEnter:r,onLeave:o,disabledOnMobile:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,s]=(0,t.useState)(!1),[u,c]=(0,t.useState)(!1),[d,p]=(0,t.useState)(null),f=(0,t.useRef)(null),v=(0,t.useRef)(null),{captureEvent:g}=(0,n.useTracking)({eventType:"hoverEventTriggered",eventProps:e});(0,t.useEffect)(()=>()=>{s(!1),p(null)},[]);let m=(0,t.useCallback)(()=>{i()||g("hoverEventTriggered",{timeToCapture:new Date}),clearTimeout(f.current)},[g]);return{eventHandlers:{onMouseOver:(0,t.useCallback)(e=>{a&&i()||(s(e=>(e||null==r||r(),!0)),c(!0),p(e.currentTarget),v.current=new Date,clearTimeout(f.current),f.current=setTimeout(m,500))},[m,r,a]),onMouseLeave:(0,t.useCallback)(()=>{if(s(e=>(e&&(null==o||o()),!1)),p(null),clearTimeout(f.current),v.current){let e=new Date-v.current;e>2e3&&g("hoverEventTriggered",{hoverEventType:"longHoverEvent",hoverDuration:e}),v.current=null}},[g,o])},hover:l,everHovered:u,anchorEl:d,forceUnHover:(0,t.useCallback)(()=>{s(e=>(e&&(null==o||o()),!1)),p(null),clearTimeout(f.current)},[o])}}],898298)},110601,e=>{"use strict";var t=e.i(843476),n=e.i(271645),r=e.i(538794),o=e.i(898298),i=e.i(343794),a=e.i(903780);let l=(0,r.registerComponent)("LWTooltip",e=>{let{title:r,placement:l="bottom-start",tooltip:s=!0,flip:u=!0,clickable:c=!1,inlineBlock:d=!0,As:p="span",disabled:f=!1,disabledOnMobile:v=!1,hideOnTouchScreens:g=!1,analyticsProps:m,otherEventProps:h,titleClassName:E,popperClassName:T,onShow:y,onHide:A,children:x,className:w,forceOpen:C,renderWithoutHover:S,classes:R}=e,[I,P]=(0,n.useState)(!1),b=(0,n.useRef)(null),N=(0,n.useRef)(null),O=(0,n.useCallback)(()=>{b.current&&(clearTimeout(b.current),b.current=null)},[]),{hover:D,everHovered:_,anchorEl:j,eventHandlers:U}=(0,o.useHover)({eventProps:{pageElementContext:"tooltipHovered",title:"string"==typeof r?r:void 0,...m,...h},disabledOnMobile:v,onEnter:y,onLeave:()=>{null==A||A(),O(),P(!1)}});return((0,n.useEffect)(()=>(D&&c?(O(),b.current=setTimeout(()=>{P(!0),b.current=null},200)):(O(),P(!1)),O),[D,c,O]),r)?(0,t.jsxs)(p,{className:(0,i.default)(d&&R.root,w),...U,ref:N,children:[(_||S)&&(0,t.jsx)(a.default,{placement:l,open:C||D&&!f,anchorEl:null!=j?j:N.current,tooltip:s,allowOverflow:!u,clickable:I,hideOnTouchScreens:g,className:T,children:(0,t.jsx)("div",{className:(0,i.default)(s&&R.tooltip,E),children:r})}),x]}):(0,t.jsx)(t.Fragment,{children:x})},{styles:e=>({root:{display:"inline-block"},tooltip:{maxWidth:300,"& img":{maxWidth:"100%"}}}),stylePriority:-1});e.s(["default",0,l])},382560,(e,t,n)=>{var r=e.r(773759),o=1/0;t.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},304653,(e,t,n)=>{var r=e.r(382560);t.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},641015,(e,t,n)=>{var r=e.r(361884);t.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],l=t(a);if(null!=l&&(void 0===s?l==l&&!r(l):n(l,s)))var s=l,u=a}return u}},580957,(e,t,n)=>{t.exports=function(e,t){return e>t}},419530,(e,t,n)=>{var r=e.r(641015),o=e.r(580957),i=e.r(666305);t.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},603509,e=>{"use strict";function t(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"===r||"+"===r||"?"===r){t.push({type:"MODIFIER",index:n,value:e[n++]});continue}if("\\"===r){t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if("{"===r){t.push({type:"OPEN",index:n,value:e[n++]});continue}if("}"===r){t.push({type:"CLOSE",index:n,value:e[n++]});continue}if(":"===r){for(var o="",i=n+1;i<e.length;){var a=e.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a){o+=e[i++];continue}break}if(!o)throw TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:o}),n=i;continue}if("("===r){var l=1,s="",i=n+1;if("?"===e[i])throw TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<e.length;){if("\\"===e[i]){s+=e[i++]+e[i++];continue}if(")"===e[i]){if(0==--l){i++;break}}else if("("===e[i]&&(l++,"?"!==e[i+1]))throw TypeError("Capturing groups are not allowed at ".concat(i));s+=e[i++]}if(l)throw TypeError("Unbalanced pattern at ".concat(n));if(!s)throw TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:s}),n=i;continue}t.push({type:"CHAR",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),o=t.prefixes,i=void 0===o?"./":o,a=t.delimiter,l=void 0===a?"/#?":a,s=[],u=0,c=0,d="",p=function(e){if(c<r.length&&r[c].type===e)return r[c++].value},f=function(e){var t=p(e);if(void 0!==t)return t;var n=r[c],o=n.type,i=n.index;throw TypeError("Unexpected ".concat(o," at ").concat(i,", expected ").concat(e))},v=function(){for(var e,t="";e=p("CHAR")||p("ESCAPED_CHAR");)t+=e;return t},g=function(e){for(var t=0;t<l.length;t++){var n=l[t];if(e.indexOf(n)>-1)return!0}return!1},m=function(e){var t=s[s.length-1],r=e||(t&&"string"==typeof t?t:"");if(t&&!r)throw TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!r||g(r)?"[^".concat(n(l),"]+?"):"(?:(?!".concat(n(r),")[^").concat(n(l),"])+?")};c<r.length;){var h=p("CHAR"),E=p("NAME"),T=p("PATTERN");if(E||T){var y=h||"";-1===i.indexOf(y)&&(d+=y,y=""),d&&(s.push(d),d=""),s.push({name:E||u++,prefix:y,suffix:"",pattern:T||m(y),modifier:p("MODIFIER")||""});continue}var A=h||p("ESCAPED_CHAR");if(A){d+=A;continue}if(d&&(s.push(d),d=""),p("OPEN")){var y=v(),x=p("NAME")||"",w=p("PATTERN")||"",C=v();f("CLOSE"),s.push({name:x||(w?u++:""),pattern:x&&!w?m(y):w,prefix:y,suffix:C,modifier:p("MODIFIER")||""});continue}f("END")}return s}function n(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function r(e){return e&&e.sensitive?"":"i"}let o={},i=0;function a(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};("string"==typeof a||Array.isArray(a))&&(a={path:a});let{path:l,exact:s=!1,strict:u=!1,sensitive:c=!1}=a;for(let a of[].concat(l)){if(!a&&""!==a)continue;let{regexp:l,keys:d}=function(e,a){let l="".concat(a.exact).concat(a.strict).concat(a.sensitive),s=o[l]||(o[l]={});if(s[e])return s[e];let u=[],c={regexp:function e(o,i,a){if(o instanceof RegExp){var l;if(!i)return o;for(var s=/\((?:\?<(.*?)>)?(?!\?)/g,u=0,c=s.exec(o.source);c;)i.push({name:c[1]||u++,prefix:"",suffix:"",modifier:"",pattern:""}),c=s.exec(o.source);return o}return Array.isArray(o)?(l=o.map(function(t){return e(t,i,a).source}),new RegExp("(?:".concat(l.join("|"),")"),r(a))):function(e,t,o){void 0===o&&(o={});for(var i=o.strict,a=void 0!==i&&i,l=o.start,s=o.end,u=o.encode,c=void 0===u?function(e){return e}:u,d=o.delimiter,p=o.endsWith,f="[".concat(n(void 0===p?"":p),"]|$"),v="[".concat(n(void 0===d?"/#?":d),"]"),g=void 0===l||l?"^":"",m=0;m<e.length;m++){var h=e[m];if("string"==typeof h)g+=n(c(h));else{var E=n(c(h.prefix)),T=n(c(h.suffix));if(h.pattern)if(t&&t.push(h),E||T)if("+"===h.modifier||"*"===h.modifier){var y="*"===h.modifier?"?":"";g+="(?:".concat(E,"((?:").concat(h.pattern,")(?:").concat(T).concat(E,"(?:").concat(h.pattern,"))*)").concat(T,")").concat(y)}else g+="(?:".concat(E,"(").concat(h.pattern,")").concat(T,")").concat(h.modifier);else{if("+"===h.modifier||"*"===h.modifier)throw TypeError('Can not repeat "'.concat(h.name,'" without a prefix and suffix'));g+="(".concat(h.pattern,")").concat(h.modifier)}else g+="(?:".concat(E).concat(T,")").concat(h.modifier)}}if(void 0===s||s)a||(g+="".concat(v,"?")),g+=o.endsWith?"(?=".concat(f,")"):"$";else{var A=e[e.length-1],x="string"==typeof A?v.indexOf(A[A.length-1])>-1:void 0===A;a||(g+="(?:".concat(v,"(?=").concat(f,"))?")),x||(g+="(?=".concat(v,"|").concat(f,")"))}return new RegExp(g,r(o))}(t(o,a),i,a)}(e,u,a),keys:u};return i<1e4&&(s[e]=c,i++),c}(a,{exact:s,strict:u,sensitive:c}),p=l.exec(e);if(!p)continue;let[f,...v]=p,g=e===f;if(!s||g)return{path:a,url:"/"===a&&""===f?"/":f,isExact:g,params:d.reduce((e,t,n)=>(e[t.name]=v[n],e),{})}}return null}function l(e,n){var o,i,a,l,s,u,c,d,p;return(i=t(e.replaceAll("?","\\?"),o={validate:!1}),void 0===(a=o)&&(a={}),l=r(a),u=void 0===(s=a.encode)?function(e){return e}:s,d=void 0===(c=a.validate)||c,p=i.map(function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),l)}),function(e){for(var t="",n=0;n<i.length;n++){var r=i[n];if("string"==typeof r){t+=r;continue}var o=e?e[r.name]:void 0,a="?"===r.modifier||"*"===r.modifier,l="*"===r.modifier||"+"===r.modifier;if(Array.isArray(o)){if(!l)throw TypeError('Expected "'.concat(r.name,'" to not repeat, but got an array'));if(0===o.length){if(a)continue;throw TypeError('Expected "'.concat(r.name,'" to not be empty'))}for(var s=0;s<o.length;s++){var c=u(o[s],r);if(d&&!p[n].test(c))throw TypeError('Expected all "'.concat(r.name,'" to match "').concat(r.pattern,'", but got "').concat(c,'"'));t+=r.prefix+c+r.suffix}continue}if("string"==typeof o||"number"==typeof o){var c=u(String(o),r);if(d&&!p[n].test(c))throw TypeError('Expected "'.concat(r.name,'" to match "').concat(r.pattern,'", but got "').concat(c,'"'));t+=r.prefix+c+r.suffix;continue}if(!a){var f=l?"an array":"a string";throw TypeError('Expected "'.concat(r.name,'" to be ').concat(f))}}return t})(n)}e.s(["applyParamsToPathname",()=>l,"default",0,a,"matchPath",()=>a],603509)},976075,(e,t,n)=>{var r=e.r(139088),o=e.r(304653),i=e.r(773759),a=e.r(702922),l=r.isFinite,s=Math.min;t.exports=function(e){var t=Math[e];return function(e,n){if(e=i(e),(n=null==n?0:s(o(n),292))&&l(e)){var r=(a(e)+"e").split("e");return+((r=(a(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(r[1]-n))}return t(e)}}},357705,(e,t,n)=>{t.exports=e.r(976075)("round")},495314,e=>{"use strict";let t;var n,r=e.i(843476),o=e.i(357705),i=e.i(166540);e.i(552275);var a=e.i(935132),l=e.i(345955),s=e.i(714818);let u=new l.TupleSet(["rationality","modeling","optimization","ai strategy","ai safety","practical"]),c=new l.TupleSet([2018,2019,2020,2021,2022,2023]),d=new l.TupleSet([...c,2024]),p=new l.TupleSet([2024,2025]);function f(e){let t=parseInt(e);if(d.has(t))return t;throw Error("Not a valid Review Year")}function v(e){return"The ".concat(e," Review")}new l.TupleSet(["UNSTARTED","NOMINATIONS","REVIEWS","VOTING","RESULTS","COMPLETE"]);let g=(n=()=>S(),t=null,{get:()=>{let e=new Date().getTime();return(!t||e>t.expiresAt)&&(t={value:n(),expiresAt:e+1e3}),t.value}});function m(e){return e?S(e):g.get()}let h=s.isDevelopment?-48:8;function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2024;return i.default.utc("".concat(e,"-01-01")).add(h,"hours")}function T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2024;return i.default.utc("".concat(e+1,"-01-01")).add(h,"hours")}let y=e=>i.default.utc("".concat(e+1,"-12-01")).add(h,"hours"),A=e=>i.default.utc("".concat(e+1,"-12-16")).add(h,"hours"),x=e=>i.default.utc("".concat(e+2,"-01-16")).add(h,"hours"),w=e=>i.default.utc("".concat(e+2,"-02-06")).add(h,"hours"),C=e=>i.default.utc("".concat(e+2,"-02-10")).add(h,"hours");function S(e){if(e&&2024!==e)return"COMPLETE";let t=i.default.utc();if(t<y(2024))return"UNSTARTED";let n=A(2024),r=x(2024),o=w(2024),a=C(2024);return t<n?"NOMINATIONS":t<r?"REVIEWS":t<o?"VOTING":t<a?"RESULTS":"COMPLETE"}function R(e){return"NOMINATIONS"===(null!=e?e:m())?1:2}function I(){return(0,a.isLWorAF)()&&"COMPLETE"!==m()&&"UNSTARTED"!==m()}function P(e){return!(!e||(0,a.isLWorAF)()&&i.default.utc(e.createdAt).isAfter(i.default.utc("".concat(2024,"-01-01")))||(0,a.isEAForum)()&&i.default.utc(e.createdAt).isAfter(y(2024)))}let b=["MquvZCGWyYinsN49c","5n2ZQcbc7r4R8mvqc"];function N(e){return!(b.includes(e._id)||i.default.utc(e.postedAt)>i.default.utc("".concat(2025,"-01-01"))||(0,a.isLWorAF)()&&i.default.utc(e.postedAt)<i.default.utc("".concat(2024,"-01-01")))&&!e.shortform}function O(e){return"NOMINATIONS"===m()||e.positiveReviewVoteCount>=2}function D(e,t){var n;return!(!P(e)||e&&(t.userId===e._id||(null==(n=t.coauthors)?void 0:n.map(e=>null==e?void 0:e._id).includes(e._id))))&&N(t)}let _=e=>(0,o.default)((-1+Math.sqrt(8*e+1))/2,1);e.s(["BEST_OF_LESSWRONG_PUBLISH_YEAR",0,2023,"QUICK_REVIEW_SCORE_THRESHOLD",0,4,"REVIEW_AND_VOTING_PHASE_VOTECOUNT_THRESHOLD",0,2,"REVIEW_YEAR",0,2024,"VOTING_PHASE_REVIEW_THRESHOLD",0,1,"canNominate",()=>D,"eligibleToNominate",()=>P,"getCostData",0,e=>{let{costTotal:t=500}=e,n=t>500?t/500:1,o=1!==n?(0,r.jsx)("div",{children:(0,r.jsx)("em",{children:"Your vote is downweighted because you spent 500+ points"})}):null;return{0:{value:null,cost:0,tooltip:null},1:{value:-_(45/n),cost:45,tooltip:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Highly misleading, harmful, or unimportant."}),(0,r.jsx)("div",{children:(0,r.jsx)("em",{children:"Costs 45 points (of 500)"})}),o]})},2:{value:-_(10/n),cost:10,tooltip:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Very misleading, harmful, or unimportant."}),(0,r.jsx)("div",{children:(0,r.jsx)("em",{children:"Costs 10 points (of 500)"})}),o]})},3:{value:-_(1/n),cost:1,tooltip:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Misleading, harmful or unimportant."}),(0,r.jsx)("div",{children:(0,r.jsx)("em",{children:"Costs 1 point (of 500)"})}),o]})},4:{value:0,cost:0,tooltip:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"No strong opinion on this post,"}),(0,r.jsx)("div",{children:(0,r.jsx)("em",{children:"Costs 0 points (of 500)"})}),o]})},5:{value:_(1/n),cost:1,tooltip:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Good"}),(0,r.jsx)("div",{children:(0,r.jsx)("em",{children:"Costs 1 point (of 500)"})}),o]})},6:{value:_(10/n),cost:10,tooltip:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Quite important"}),(0,r.jsx)("div",{children:(0,r.jsx)("em",{children:"Costs 10 points (of 500)"})}),o]})},7:{value:_(45/n),cost:45,tooltip:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Extremely important"}),(0,r.jsx)("div",{children:(0,r.jsx)("em",{children:"Costs 45 points (of 500)"})}),o]})}}},"getNominationPhaseEnd",0,A,"getNominationPhaseEndDisplay",0,e=>A(e).subtract(1,"days"),"getPositiveVoteThreshold",()=>R,"getResultsPhaseEnd",0,C,"getReviewNameInSitu",0,()=>(0,a.isEAForum)()?"Decade Review":"".concat(2024," Review"),"getReviewPeriodEnd",()=>T,"getReviewPeriodStart",()=>E,"getReviewPhase",()=>m,"getReviewPhaseEnd",0,x,"getReviewPhaseEndDisplay",0,e=>x(e).subtract(1,"days"),"getReviewStart",0,y,"getReviewTitle",()=>v,"getReviewYearFromString",()=>f,"getVotingPhaseEnd",0,w,"getVotingPhaseEndDisplay",0,e=>w(e).subtract(1,"days"),"longformReviewTagId",0,"iAmF7peh3Trtdxobd","postEligibleForReview",()=>N,"postPassedNomination",()=>O,"predictedReviewYears",0,p,"publishedReviewYears",0,c,"reviewExcludedPostIds",0,b,"reviewIsActive",()=>I,"reviewPostPath",0,"/posts/ZpRzTr5QBT6C3Faor/the-2024-lesswrong-review","reviewWinnerCategories",0,u,"reviewYears",0,d],495314)},501159,e=>{"use strict";e.s(["jsonArrayContainsSelector",0,(e,t)=>({$expr:{$jsonArrayContains:[e,t]}}),"viewFieldAllowAny",0,{allowAny:!0},"viewFieldNullOrMissing",0,{nullOrMissing:!0}])},422046,e=>{"use strict";var t=e.i(495314),n=e.i(501159);let r={curated:{curatedDate:{$gt:new Date(0)}},uncurated:{curatedDate:n.viewFieldNullOrMissing},nonSticky:{sticky:!1},frontpage:{frontpageDate:{$gt:new Date(0)}},all:{groupId:null},questions:{question:!0,hiddenRelatedQuestion:n.viewFieldAllowAny},events:{isEvent:!0,groupId:null},untagged:{tagRelevance:{}},unnominated2019:{nominationCount2019:0},unnominated:{positiveReviewVoteCount:{$lt:t.REVIEW_AND_VOTING_PHASE_VOTECOUNT_THRESHOLD}},unNonCoreTagged:{tagRelevance:{$exists:!0},baseScore:{$gt:25},$expr:{$lt:[{$size:{$filter:{input:{$objectToArray:"$tagRelevance"},cond:{$not:{$in:["$$this.k",["xexCWMyds6QLWognu","sYm3HiWcfZvrGu3ui","izp6eeJJEg9v5zcur","fkABsGCJZ6y9qConW","Ng8Gice9KNkncxqcj","MfpEPj6kJneT9gWT6","3uE2pXvbcnS9nnZRE"]]}}}}},1]}},tagged:{tagRelevance:{$ne:{}}},includeMetaAndPersonal:{},linkpost:{url:{$exists:!0}}};e.s(["EVENT_TYPES",0,[{value:"presentation",label:"Presentation"},{value:"discussion",label:"Discussion"},{value:"workshop",label:"Workshop"},{value:"social",label:"Social"},{value:"coworking",label:"Coworking"},{value:"course",label:"Course"},{value:"conference",label:"Conference"}],"MODERATION_GUIDELINES_OPTIONS",0,[{value:"",label:"No Moderation"},{value:"easy-going",label:"Easy Going - I just delete obvious spam and trolling."},{value:"norm-enforcing",label:"Norm Enforcing - I try to enforce particular rules (see below)"},{value:"reign-of-terror",label:"Reign of Terror - I delete anything I judge to be annoying or counterproductive"}],"filters",0,r,"postStatusLabels",0,[{value:1,label:"pending"},{value:2,label:"approved"},{value:3,label:"rejected"},{value:4,label:"spam"},{value:5,label:"deleted"}],"postStatuses",0,{STATUS_PENDING:1,STATUS_APPROVED:2,STATUS_REJECTED:3,STATUS_SPAM:4,STATUS_DELETED:5},"responseToText",0,{yes:"Going",maybe:"Maybe",no:"Can't Go"},"sideCommentFilterMinKarma",0,10,"stickiedPostTerms",0,{view:"stickied",limit:4,forum:!0}])},182584,e=>{"use strict";var t=e.i(552275),n=e.i(935132),r=e.i(100916),o=e.i(673991),i=e.i(820010),a=e.i(422046),l=e.i(419530),s=e.i(345955),u=e.i(495314),c=e.i(166540),d=e.i(714818),p=e.i(651605),f=e.i(424935);e.i(603509);let v=new s.TupleSet(["post","linkpost","question"]),g=(0,p.getUrlClass)();function m(e){let t="http"===e.slice(0,4)?e:"https://".concat(e);try{let e=new g(t),n=function(e){if(d.isServer)return new g(e).protocol;var t=document.createElement("a");return t.href=e,t.protocol}(t),r=function(e){if(d.isServer)return new g(e).hostname;var t=document.createElement("a");return t.href=e,t.hostname}(t);return{protocol:n,hostname:r,parsedUrl:e}}catch(n){(0,f.captureException)("Tried to parse url ".concat(e," as ").concat(t," and failed"))}return{}}let h=async function(e,t){var n,r=await t.Users.findOne({_id:e.userId});return r?(0,i.userGetDisplayName)(r):null!=(n=e.author)?n:"[unknown author]"},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t?(0,r.getSiteUrl)().slice(0,-1):"";return n?"".concat(o,"/s/").concat(n,"/p/").concat(e._id):e.isEvent?"".concat(o,"/events/").concat(e._id,"/").concat(e.slug):e.groupId?"".concat(o,"/g/").concat(e.groupId,"/p/").concat(e._id,"/"):"".concat(o,"/posts/").concat(e._id,"/").concat(e.slug)},T=e=>(0,n.isAF)()?e.afCommentCount||0:e.commentCount||0,y=async(e,t,n)=>{var r;let{loaders:o}=n,i="group"in t?null==(r=t.group)?void 0:r._id:t.groupId;if(!e||!i)return!1;let a=await o.Localgroups.load(i);return!!a&&a.organizerIds.some(t=>t===e._id)};function A(e,t){var n;return!!(t.userId===e||(null==(n=t.coauthorUserIds)?void 0:n.includes(e)))}function x(e){return(0,o.userIsAdminOrMod)(e)||(0,o.userOverNKarmaOrApproved)(1)(e)}function w(e,t){var n,r;return!!e&&!!e._id&&"contents"===t&&(null!=(n=e.shareWithUsers)&&!!n.length||null!=(r=e.sharingSettings)&&!!r.anyoneWithLinkCan&&"none"!==e.sharingSettings.anyoneWithLinkCan||!!e.collabEditorDialogue)}function C(){return(0,n.forumSelect)({EAForum:"eaEmojis",LessWrong:"namesAttachedReactions",AlignmentForum:"namesAttachedReactions",default:"default"})}let S=e=>e?(0,c.default)(e).format("YYYY-MM-DD"):"";e.s(["DEFAULT_QUALITATIVE_VOTE",0,4,"MINIMUM_COAUTHOR_KARMA",0,1,"allPostsParams",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.REVIEW_YEAR,t=(0,u.getReviewPeriodStart)(e).toDate(),n=(0,u.getReviewPeriodEnd)(e).toDate();return{after:S(t),before:S(n),sortedBy:"top",timeframe:"yearly",frontpage:"true",unnominated:"true",limit:"100"}},"canUserEditPostMetadata",0,(e,t)=>{var n,r,a,l;if(!e)return!1;let s=null==t||null==(n=t.group)?void 0:n.organizerIds;return!!(s&&s.some(t=>t===(null==e?void 0:e._id))||(0,o.userOwns)(e,t)||(0,o.userCanDo)(e,"posts.edit.all")||t.coauthorUserIds.includes(e._id)||(0,i.userIsSharedOn)(e,t)&&(null==(r=t.sharingSettings)?void 0:r.anyoneWithLinkCan)==="edit"||(null==(a=t.shareWithUsers)?void 0:a.includes(e._id))&&(null==(l=t.sharingSettings)?void 0:l.explicitlySharedUsersCan)==="edit")},"detectLinkpost",0,(e,t)=>{if(!e.url)return{isLinkpost:!1};let{hostname:n}=m(e.url);return t?{isLinkpost:n!==t,linkpostDomain:n}:{isLinkpost:!0,linkpostDomain:n}},"extractGoogleDocId",0,e=>{let t=e.match(/.*docs\.google\.com.*\/d\/(.+?)(\/|$)/);return t?t[1]:null},"getDefaultVotingSystem",()=>C,"getPostCollaborateUrl",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,o=t?(0,r.getSiteUrl)().slice(0,-1):"";return n?"".concat(o,"/collaborateOnPost?postId=").concat(e,"&key=").concat(n):"".concat(o,"/collaborateOnPost?postId=").concat(e)},"getResponseCounts",0,e=>{let{post:t,answers:n}=e,r=n.filter(e=>!e.deleted),o=n.reduce((e,t)=>e+t.descendentCount,0)+n.length;return{answerCount:r.length,commentCount:T(t)-o}},"googleDocIdToUrl",0,e=>"https://docs.google.com/document/d/".concat(e,"/edit"),"isCollaborative",()=>w,"isDialogueParticipant",()=>A,"isNotHostedHere",0,e=>{var t,n;return(null==e||null==(t=e.fmCrosspost)?void 0:t.isCrosspost)&&!(null==e||null==(n=e.fmCrosspost)?void 0:n.hostedHere)},"isPostAllowedType3Audio",0,e=>{if(!t.allowTypeIIIPlayerSetting.get())return!1;try{let n=new Date(t.type3DateCutoffSetting.get()),r=t.type3ExplicitlyAllowedPostIdsSetting.get();return(new Date(e.postedAt)>=n||r.includes(e._id)||e.baseScore>t.type3KarmaCutoffSetting.get()||e.forceAllowType3Audio)&&!e.draft&&!e.authorIsUnreviewed&&!e.rejected&&!e.podcastEpisodeId&&!e.isEvent&&!e.question&&!e.debate&&!e.shortform&&e.status===a.postStatuses.STATUS_APPROVED}catch(e){return console.error(e),!1}},"isPostCategory",0,e=>v.has(e),"isRecombeeRecommendablePost",0,e=>!(e.shortform||e.unlisted||e.rejected||e.isEvent||e.groupId||e.disableRecommendation||2!==e.status||e._id===t.aboutPostIdSetting.get()),"parseUnsafeUrl",()=>m,"postCanDelete",0,(e,t)=>{var n;if((0,o.userCanDo)(e,"posts.remove.all"))return!0;let r=null==(n=t.group)?void 0:n.organizerIds,i=!!r&&r.some(t=>t===(null==e?void 0:e._id));return((0,o.userOwns)(e,t)||i)&&!!t.draft},"postCanEditHideCommentKarma",0,(e,t)=>!!((null==e?void 0:e.showHideKarmaOption)&&(!t||!T(t))),"postDefaultCategory",0,"post","postGetAnswerCountStr",0,e=>e?1===e?"1 answer":e+" answers":"No answers","postGetAuthorName",0,h,"postGetCommentCount",0,T,"postGetCommentCountStr",0,(e,t)=>{let n=void 0!==t?t:e?T(e):0;return n?1===n?"1 comment":n+" comments":"No comments"},"postGetCommentsUrl",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return E(e,t,n)+"#comments"},"postGetEditUrl",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=t?(0,r.getSiteUrl)().slice(0,-1):"",a="".concat(i,"/editPost?postId=").concat(e);return n&&(a+="&key=".concat(n)),o&&(a+="&version=".concat(o)),a},"postGetKarma",0,e=>((0,n.isAF)()?e.afBaseScore:e.baseScore)||0,"postGetLastCommentPromotedAt",0,e=>(0,n.isAF)()?null:e.lastCommentPromotedAt?new Date(e.lastCommentPromotedAt):null,"postGetLastCommentedAt",0,e=>(0,n.isAF)()?e.afLastCommentedAt?new Date(e.afLastCommentedAt):null:e.lastCommentedAt?new Date(e.lastCommentedAt):null,"postGetLink",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.url?e.url:E(e,t)},"postGetLinkTarget",0,function(e){return e.url?"_blank":""},"postGetPageUrl",0,E,"postGetPrimaryTag",0,function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{tags:o,tagRelevance:i}=e,a=o.filter(e=>{let{core:t}=e;return t}),s=(t=a.length<1&&r?o:a,null!=(n=(0,l.default)(t,e=>{var t;let{_id:n}=e;return null!=(t=i[n])?t:0}))?n:null);return"object"==typeof s?s:void 0},"userCanEditCoauthors",()=>x,"userIsPostCoauthor",0,(e,t)=>{var n,r;return!!e&&null!=(r=null==(n=t.coauthorUserIds)?void 0:n.includes(e._id))&&r},"userIsPostGroupOrganizer",0,y,"userPassesCrosspostingKarmaThreshold",0,e=>{let n=t.crosspostKarmaThreshold.get();return null===n||(0,o.userOverNKarmaFunc)(n-1)(e)}])}]);

//# debugId=dcaeba0c-475c-c24b-8f3a-af814cf6ddac
//# sourceMappingURL=c0d4b034e0607455.js.map