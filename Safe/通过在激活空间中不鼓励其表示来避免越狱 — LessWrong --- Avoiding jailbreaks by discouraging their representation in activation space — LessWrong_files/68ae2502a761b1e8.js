;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f3f2e05f-2671-3f1a-8c0c-33e47343ad28")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81500,e=>{"use strict";var t=e.i(843476),o=e.i(538794),n=e.i(527633),i=e.i(343794),r=e.i(161517);let a=(0,o.registerComponent)("EAButton",e=>{let{style:o,variant:a="contained",eventProps:s,className:l,children:c,classes:d,...u}=e,{captureEvent:p}=(0,r.useTracking)();return(0,t.jsx)(n.default,{variant:a,color:"primary",className:(0,i.default)(d.root,l,{[d.variantContained]:"contained"===a,[d.greyContained]:"contained"===a&&"grey"===o,[d.greyOutlined]:"outlined"===a&&"grey"===o}),...u,onClick:e=>{var t;u.href?p("linkClicked",{to:u.href,...s}):p("buttonClicked",s),null==(t=u.onClick)||t.call(u,e)},children:c})},{styles:e=>({root:{minWidth:30,fontSize:14,lineHeight:"20px",textTransform:"none",padding:"8px 12px",borderRadius:e.borderRadius.default,boxShadow:"none","&:hover":{opacity:1},"& .Loading-spinner":{height:"unset"}},variantContained:{backgroundColor:e.palette.buttons.alwaysPrimary,color:e.palette.text.alwaysWhite,"&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:e.palette.buttons.alwaysPrimary,color:e.palette.text.alwaysWhite,opacity:.5}},greyContained:{backgroundColor:e.palette.grey[250],color:e.palette.grey[1e3],"&:hover":{backgroundColor:e.palette.grey[300]}},greyOutlined:{border:"1px solid ".concat(e.palette.border.eaButtonGreyOutline),color:e.palette.grey[1e3],"&:hover":{border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[200]}}}),stylePriority:-2});e.s(["default",0,a])},144437,e=>{"use strict";var t=e.i(271645);let o=t.default.createContext(null);e.s(["MessageFunctionsContext",0,o,"useMessages",0,()=>(0,t.useContext)(o)])},329039,e=>{"use strict";var t=e.i(843476),o=e.i(271645),n=e.i(79732),i=e.i(429329),r=e.i(343794),a=e.i(174080);let s=(0,i.defineStyles)("Backdrop",e=>({root:{zIndex:e.zIndexes.backdrop,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:0,transition:"opacity 0.3s ease-in-out",pointerEvents:"none"},visible:{opacity:1,pointerEvents:"inherit"},blur:{backdropFilter:"blur(4px)"}}),{allowNonThemeColors:!0});e.s(["Backdrop",0,e=>{let{visible:i,style:l="darken"}=e,c=(0,n.useStyles)(s),[d,u]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{setTimeout(()=>{u(!0)},0)},[]),d)?(0,t.jsx)(t.Fragment,{children:(0,a.createPortal)((0,t.jsx)("div",{className:(0,r.default)(c.root,{[c.visible]:i&&d,[c.blur]:"blur"===l&&d})}),document.body)}):null}])},395504,e=>{"use strict";var t=e.i(271645),o=e.i(714818);let n=e=>{t.default.useEffect(()=>{if(o.isClient)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[e])};e.s(["useGlobalKeydown",0,n,"useOnSearchHotkey",0,e=>{n(t=>{(t.metaKey||t.ctrlKey)&&70===t.keyCode&&e()})}])},833851,e=>{"use strict";var t=e.i(843476),o=e.i(271645),n=e.i(538794),i=e.i(343794),r=e.i(79732),a=e.i(429329),s=e.i(444098),l=e.i(329039),c=e.i(174080),d=e.i(341446),u=e.i(395504);let p=(0,a.defineStyles)("LWDialog",e=>({dialogWrapper:{position:"fixed",zIndex:e.zIndexes.modal,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},paper:{position:"relative",display:"flex",flex:"0 1 auto",maxHeight:"calc(100% - 96px)",flexDirection:"column",margin:"48px auto",pointerEvents:"auto",overflowY:"auto"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},paperFullWidth:{width:"100%"},paperWidthSm:{maxWidth:e.breakpoints.values.sm},paperWidthMd:{maxWidth:e.breakpoints.values.md},hidden:{display:"none"}}),{stylePriority:-1}),h=(0,n.registerComponent)("LWDialog",e=>{let{open:n,fullScreen:a,title:h,maxWidth:m="sm",fullWidth:g,disableBackdropClick:f,disableEscapeKeyDown:y,className:b,paperClassName:v,onClose:x,keepMounted:k,backdrop:w="darken",children:S}=e,C=(0,r.useStyles)(p),[B,j]=(0,o.useState)(!1),T=function(e,t){let[n,i]=(0,o.useState)(e),r=(0,o.useRef)(null);return(0,o.useEffect)(()=>(e?(r.current&&(clearTimeout(r.current),r.current=null),i(!0)):r.current=setTimeout(()=>{i(!1),r.current=null},500),()=>{r.current&&clearTimeout(r.current)}),[e,.5]),n}(n,.5);return(0,o.useEffect)(()=>{n&&j(!0)},[n]),(0,u.useGlobalKeydown)(e=>{"Escape"!==e.key||y||null==x||x()}),(0,t.jsxs)(t.Fragment,{children:["none"!==w&&T&&(0,t.jsx)(l.Backdrop,{visible:n,style:w}),B&&(n||k)&&(0,c.createPortal)((0,t.jsx)("div",{children:(0,t.jsx)(d.default,{onClickAway:()=>{f||null==x||x()},children:(0,t.jsx)("div",{className:(0,i.default)(C.dialogWrapper,b,{[C.hidden]:!n}),children:(0,t.jsx)(s.Paper,{elevation:24,className:(0,i.default)(C.paper,v,{[C.paperWidthSm]:"sm"===m,[C.paperWidthMd]:"md"===m,[C.paperFullScreen]:a,[C.paperFullWidth]:g}),children:S})})})}),document.body)]})});e.s(["default",0,h])},287652,(e,t,o)=>{!function(o,n){"use strict";if(t.exports)t.exports=n(e.r(166540));else if("function"==typeof define&&define.amd){let t;void 0!==(t=n(e.r(166540)))&&e.v(t)}else n(o.moment)}(e.e,function(e){"use strict";void 0===e.version&&e.default&&(e=e.default);var t,o,n={},i={},r={},a={},s={};e&&"string"==typeof e.version||T("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var l=e.version.split("."),c=+l[0],d=+l[1];function u(e){return e>96?e-87:e>64?e-29:e-48}function p(e){var t,o=0,n=e.split("."),i=n[0],r=n[1]||"",a=1,s=0,l=1;for(45===e.charCodeAt(0)&&(o=1,l=-1);o<i.length;o++)s=60*s+(t=u(i.charCodeAt(o)));for(o=0;o<r.length;o++)a/=60,s+=(t=u(r.charCodeAt(o)))*a;return s*l}function h(e){for(var t=0;t<e.length;t++)e[t]=p(e[t])}function m(e,t){var o,n=[];for(o=0;o<t.length;o++)n[o]=e[t[o]];return n}function g(e){var t=e.split("|"),o=t[2].split(" "),n=t[3].split(""),i=t[4].split(" ");h(o),h(n),h(i);for(var r=n.length,a=0;a<r;a++)i[a]=Math.round((i[a-1]||0)+6e4*i[a]);return i[r-1]=1/0,{name:t[0],abbrs:m(t[1].split(" "),n),offsets:m(o,n),untils:i,population:0|t[5]}}function f(e){e&&this._set(g(e))}function y(e,t){this.name=e,this.zones=t}function b(e){var t=e.toTimeString(),o=t.match(/\([a-z ]+\)/i);"GMT"===(o=o&&o[0]?(o=o[0].match(/[A-Z]/g))?o.join(""):void 0:(o=t.match(/[A-Z]{3,5}/g))?o[0]:void 0)&&(o=void 0),this.at=+e,this.abbr=o,this.offset=e.getTimezoneOffset()}function v(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function x(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function k(e){return(e||"").toLowerCase().replace(/\//g,"_")}function w(e){var t,o,i,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n[r=k(o=(i=e[t].split("|"))[0])]=e[t],a[r]=o,function(e,t){var o,n;for(h(t),o=0;o<t.length;o++)s[n=t[o]]=s[n]||{},s[n][e]=!0}(r,i[2].split(" "))}function S(e,t){var o,r=n[e=k(e)];return r instanceof f?r:"string"==typeof r?(r=new f(r),n[e]=r,r):i[e]&&t!==S&&(o=S(i[e],S))?((r=n[e]=new f)._set(o),r.name=a[e],r):null}function C(e){var t,o,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=k((o=e[t].split("|"))[0]),r=k(o[1]),i[n]=r,a[n]=o[0],i[r]=n,a[r]=o[1]}function B(e){return B.didShowError||(B.didShowError=!0,T("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!S(e)}function j(e){var t="X"===e._f||"x"===e._f;return!!(e._a&&void 0===e._tzm&&!t)}function T(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function z(t){var o,n=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1],r=e.utc.apply(null,n);return!e.isMoment(t)&&j(r)&&(o=S(i))&&r.add(o.parse(r),"minutes"),r.tz(i),r}(c<2||2===c&&d<6)&&T("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),f.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t;if((t=function(e,t){var o,n=t.length;if(e<t[0])return 0;if(n>1&&t[n-1]===1/0&&e>=t[n-2])return n-1;if(e>=t[n-1])return -1;for(var i=0,r=n-1;r-i>1;)t[o=Math.floor((i+r)/2)]<=e?i=o:r=o;return r}(+e,this.untils))>=0)return t},countries:function(){var e=this.name;return Object.keys(r).filter(function(t){return -1!==r[t].zones.indexOf(e)})},parse:function(e){var t,o,n,i,r=+e,a=this.offsets,s=this.untils,l=s.length-1;for(i=0;i<l;i++)if(t=a[i],o=a[i+1],n=a[i?i-1:i],t<o&&z.moveAmbiguousForward?t=o:t>n&&z.moveInvalidForward&&(t=n),r<s[i]-6e4*t)return a[i];return a[l]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return T("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},v.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},z.version="0.5.46",z.dataVersion="",z._zones=n,z._links=i,z._names=a,z._countries=r,z.add=w,z.link=C,z.load=function(e){w(e.zones),C(e.links),function(e){var t,o,n,i;if(e&&e.length)for(t=0;t<e.length;t++)o=(i=e[t].split("|"))[0].toUpperCase(),n=i[1].split(" "),r[o]=new y(o,n)}(e.countries),z.dataVersion=e.version},z.zone=S,z.zoneExists=B,z.guess=function(e){return(!o||e)&&(o=function(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=a[k(e)];if(t)return t;T("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var o,n,i,r=function(){var e,t,o,n,i=new Date().getFullYear()-2,r=new b(new Date(i,0,1)),a=r.offset,s=[r];for(n=1;n<48;n++)(o=new Date(i,n,1).getTimezoneOffset())!==a&&(s.push(e=function(e,t){for(var o,n;n=((t.at-e.at)/12e4|0)*6e4;)(o=new b(new Date(e.at+n))).offset===e.offset?e=o:t=o;return e}(r,t=new b(new Date(i,n,1)))),s.push(new b(new Date(e.at+6e4))),r=t,a=o);for(n=0;n<4;n++)s.push(new b(new Date(i+n,0,1))),s.push(new b(new Date(i+n,6,1)));return s}(),l=r.length,c=function(e){var t,o,n,i,r=e.length,l={},c=[],d={};for(t=0;t<r;t++)if(n=e[t].offset,!d.hasOwnProperty(n)){for(o in i=s[n]||{})i.hasOwnProperty(o)&&(l[o]=!0);d[n]=!0}for(t in l)l.hasOwnProperty(t)&&c.push(a[t]);return c}(r),d=[];for(n=0;n<c.length;n++){for(i=0,o=new v(S(c[n]),l);i<l;i++)o.scoreOffsetAt(r[i]);d.push(o)}return d.sort(x),d.length>0?d[0].zone.name:void 0}()),o},z.names=function(){var e,t=[];for(e in a)a.hasOwnProperty(e)&&(n[e]||n[i[e]])&&a[e]&&t.push(a[e]);return t.sort()},z.Zone=f,z.unpack=g,z.unpackBase60=p,z.needsOffset=j,z.moveInvalidForward=!0,z.moveAmbiguousForward=!1,z.countries=function(){return Object.keys(r)},z.zonesForCountry=function(e,t){if(!(e=r[e.toUpperCase()]||null))return null;var o=e.zones.sort();return t?o.map(function(e){var t=S(e);return{name:e,offset:t.utcOffset(new Date)}}):o};var _=e.fn;function I(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function P(e){return function(){return this._z=null,e.apply(this,arguments)}}e.tz=z,e.defaultZone=null,e.updateOffset=function(t,o){var n,i=e.defaultZone;if(void 0===t._z&&(i&&j(t)&&!t._isUTC&&t.isValid()&&(t._d=e.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z)if(16>Math.abs(n=t._z.utcOffset(t))&&(n/=60),void 0!==t.utcOffset){var r=t._z;t.utcOffset(-n,o),t._z=r}else t.zone(n,o)},_.tz=function(t,o){if(t){if("string"!=typeof t)throw Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=S(t),this._z?e.updateOffset(this,o):T("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},_.zoneName=I(_.zoneName),_.zoneAbbr=I(_.zoneAbbr),_.utc=P(_.utc),_.local=P(_.local),t=_.utcOffset,_.utcOffset=function(){return arguments.length>0&&(this._z=null),t.apply(this,arguments)},e.tz.setDefault=function(t){return(c<2||2===c&&d<9)&&T("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?S(t):null,e};var F=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(F)?(F.push("_z"),F.push("_a")):F&&(F._z=null),e})},880799,(e,t,o)=>{(t.exports=e.r(287652)).tz.load(e.r(299715))},70796,244026,e=>{"use strict";var t=e.i(271645);let o=e.i(880799).default;e.s(["default",0,o],244026);let n=t.default.createContext({matchSSR:!0});function i(){let{renderedAt:e}=(0,t.useContext)(n);return e?new Date(e):new Date}function r(e){return e>new Date}function a(e){if("now"===e)return"a few seconds";let t=e.slice(e.search(/\D/)),o=parseInt(e.slice(0,-1));switch(t){case"s":return o+" second"+(o>1?"s":"");case"m":return o+" minute"+(o>1?"s":"");case"h":return o+" hour"+(o>1?"s":"");case"d":return o+" day"+(o>1?"s":"");case"mo":return o+" month"+(o>1?"s":"");case"y":return o+" year"+(o>1?"s":"");default:return e}}e.s(["DEFAULT_TIMEZONE",0,"GMT","EnvironmentOverrideContext",0,n,"convertTimeOfWeekTimezone",0,(e,t,n,i)=>{let r=o().tz(n).day(t).hour(e).minute(0).tz(i);return{timeOfDay:r.hour(),dayOfWeek:r.format("dddd")}},"isInFuture",()=>r,"relativeTimeToLongFormat",()=>a,"useCurrentTime",()=>i,"useSsrRenderedAt",0,()=>{let e=i();return window.ssrMetadata?new Date(window.ssrMetadata.renderedAt):e}],70796)},181832,e=>{"use strict";e.s(["isIfAnyoneBuildsItFrontPage",0,e=>({})])},87828,253592,e=>{"use strict";var t=e.i(843476),o=e.i(343794),n=e.i(79732),i=e.i(429329),r=e.i(181832);let a=e=>({backgroundColor:e.palette.panelBackground.spoilerBlock,color:e.palette.panelBackground.spoilerBlock,"& a, & a:hover, & a:focus, & a::after, & li":{color:e.palette.panelBackground.spoilerBlock},"& code":{backgroundColor:e.palette.panelBackground.spoilerBlock}}),s=e=>({borderCollapse:"collapse",borderSpacing:0,border:e.palette.border.table,margin:"auto",height:"100%",textAlign:"left",width:"100%",...e.isFriendlyUI&&{"& *":{fontFamily:e.palette.fonts.sansSerifStack,fontSize:14,lineHeight:"1.4em"},"& sup *":{fontSize:10},"& ul, & ol":{paddingLeft:"1.5em"}}}),l=e=>({minWidth:"2em",padding:".4em",border:e.palette.border.tableCell,wordBreak:"normal","& p":{marginTop:"0.5em",marginBottom:"0.5em",...e.isFriendlyUI&&{marginLeft:2,marginRight:2,lineHeight:"1.4em"}},"& p:first-of-type":{marginTop:0}}),c=e=>({background:e.palette.panelBackground.tableHeading,fontWeight:700}),d=e=>({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",margin:"32px 0",border:"none",background:"transparent",textAlign:"center","&:after":{marginLeft:12,color:e.palette.icon.horizRuleDots,fontSize:13,letterSpacing:"12px",content:'"•••"'}}),u=e=>{var t;return{...{...e.typography.body1,...e.typography.postStyle,wordBreak:"break-word","& pre":{...e.typography.codeblock},"& code":{...e.typography.code},"& blockquote":{...e.typography.blockquote,...e.typography.body1,...e.typography.postStyle},"& li":{...e.typography.body1,...e.typography.li,...e.typography.postStyle},"& h1":{...e.typography.display2,...e.typography.headerStyle,color:e.palette.text.contentHeader},"& h1:first-child":{marginTop:0,marginBlockStart:"-3px"},"& h2":{...e.typography.display1,...e.typography.headerStyle,color:e.palette.text.contentHeader},"& h2:first-child":{marginTop:0,marginBlockStart:"-2px"},"& h3":{...e.typography.display0,...e.typography.headerStyle,color:e.palette.text.contentHeader},"& h3:first-child":{marginTop:0,marginBlockStart:0},"& h4":{...e.typography.body1,...e.typography.postStyle,fontWeight:600,color:e.palette.text.contentHeader},"& h5":{color:e.palette.text.contentHeader},"& h6":{color:e.palette.text.contentHeader},"& img":{maxWidth:"100%",...e.postImageStyles},"& sup":{verticalAlign:"baseline",top:"-0.6em",fontSize:"65%",position:"relative",lineHeight:0},"& sub":{fontSize:"70%",verticalAlign:"baseline",position:"relative",top:"0.2em",paddingRight:"0.07em"},"& a, & a:hover, & a:active":{color:null!=(t=e.palette.link.color)?t:e.palette.primary.main,"& u":{textDecoration:"none"}},"& a:visited, & a.visited":{color:e.palette.link.visited},"& a:visited:hover, & a.visited:hover, & a:visited:active, & a.visited:active":e.isFriendlyUI?{color:e.palette.link.visitedHover}:{},"& table":{...s(e)},"& figure.table":{width:"fit-content",height:"fit-content"},"& figure.table:has(> table > tbody > tr > td + td + td + td)":{overflowX:"auto","& table":{width:700}},"& td, & th":{...l(e)},"& th":{...c(e)},"& figure":{maxWidth:"100%",margin:"1em auto",textAlign:"center"},"& figcaption":{...e.typography.caption,...e.typography.postStyle},"& ol > li > ol":{listStyle:"lower-alpha"},"& ol > li > ol > li > ol":{listStyle:"lower-roman"},"& u":{textDecoration:"none"}},...{"& p.spoiler":{margin:0},"& .spoiler":{padding:8,pointerEvents:"auto",minHeight:e.typography.commentStyle.fontSize,"&:not(:hover)":{...a(e)}},"& div.spoilers":{margin:"1em 0",overflow:"auto","&:not(:hover)":{...a(e)},"&:hover":{background:e.palette.panelBackground.revealedSpoilerBlock},"& > p":{margin:"0 !important",padding:"0.5em 8px !important"}},"& p.spoiler-v2":{margin:0,padding:"0.5em 8px"},"& .spoilers:not(:hover)::selection, & .spoilers:not(:hover) ::selection":{backgroundColor:"transparent"},"& .spoilers > p:hover ~ p":{...a(e)}},...{"& div.metaculus-preview":{backgroundColor:e.palette.panelBackground.metaculusBackground,"& iframe":{width:"100%",height:400,border:"none"}}},...{"& div.manifold-preview":{"& iframe":{width:"100%",height:400,border:"none"}}},...{"& div.neuronpedia-preview":{"& iframe":{width:"100%",height:360,maxWidth:639,border:"1px solid",borderColor:e.palette.grey[300],borderRadius:6}}},...{"& div.calendly-preview":{"& iframe":{width:"calc(100% - 10px)",height:750,border:"2px solid",borderRadius:10,borderColor:e.palette.grey[200],padding:0,marginRight:5,marginLeft:5}}},...{"& div.strawpoll-embed":{"& iframe":{width:"100%",height:400,border:"none"}}},...{"& div.metaforecast-preview":{"& iframe":{width:"100%",height:400,border:"none"}}},...{"& div.owid-preview":{"& iframe":{width:"100%",height:400,border:"none"}}},...{"& div.estimaker-preview":{display:"flex","& iframe":{width:"100%",height:400,border:"none"}}},...{"& div.viewpoints-preview":{display:"flex","& iframe":{width:"100%",height:300,border:"none"}}},...{'& figure.media div[data-oembed-url*="youtube.com"], & figure.media div[data-oembed-url*="youtu.be"]':{position:"relative",height:0,paddingBottom:"56.2493%","& iframe":{position:"absolute",width:"100%",height:"100%",top:0,left:0,border:"none"}}},...{'& figure.media div[data-oembed-url*="lwartifacts.vercel.app"]':{"& iframe":{width:"100%",height:525,border:"none"}}},...{"& .footnote-item > *":{verticalAlign:"text-top"},"& .footnote-back-link":{position:"relative",top:"-0.2em"},"& .footnotes .footnote-back-link > sup":{marginRight:0},"& .footnote-content":{display:"inline-block",padding:"0 0.3em",width:"95%"}},...{"& .detailsBlock":{border:e.isFriendlyUI?void 0:e.palette.border.normal+" !important",borderRadius:8,marginTop:8*!e.isFriendlyUI,marginBottom:8},"& .detailsBlockTitle":{padding:8,borderRadius:0,background:e.isFriendlyUI?void 0:e.palette.panelBackground.darken05+"!important","&>*":{display:"inline"}},"& .detailsBlockTitle[open]":{borderBottomLeftRadius:0,borderBottomRightRadius:0},"& summary.detailsBlockTitle":{cursor:"pointer"},"& .detailsBlockContent":{padding:e.isFriendlyUI?"0 8px 8px 20px":8},"& .detailsBlockContent > p:last-child, & .detailsBlockTitle > p:last-child":{marginBottom:"0 !important"},"& .detailsBlockTitle p:has(> br[data-cke-filler=true]:only-child)::after":{content:'"Collapsible Section Title"',color:e.palette.greyAlpha(.3),pointerEvents:"none",position:"absolute",top:8},"& .detailsBlock.closed .detailsBlockContent":{display:"none"},"& div.detailsBlockTitle":{position:"relative",paddingLeft:e.isFriendlyUI?20:24,fontFamily:e.palette.fonts.sansSerifStack,fontSize:e.isFriendlyUI?"20.8px":void 0,lineHeight:e.isFriendlyUI?"1.25em":void 0,fontWeight:e.isFriendlyUI?600:void 0},"& div.detailsBlockTitle::before":{content:'"▼"',cursor:"pointer",fontSize:e.isFriendlyUI?12:14,paddingRight:4,position:"absolute",left:8*!e.isFriendlyUI},"& .detailsBlock.closed div.detailsBlockTitle::before":{content:'"▶"'}},...{"& .conditionallyVisibleBlock":{border:e.palette.border.normal,borderRadius:4,padding:8,"&.defaultHidden":{display:"none"}}},...{"& .ck-cta-button":{display:"block",fontFamily:e.palette.fonts.sansSerifStack,minWidth:30,width:"fit-content",cursor:"pointer",fontSize:14,fontWeight:600,lineHeight:"20px",textTransform:"none",padding:"12px 16px",borderRadius:e.isFriendlyUI?e.borderRadius.default:e.borderRadius.small,boxShadow:"none",backgroundColor:e.palette.buttons.alwaysPrimary,color:e.palette.text.alwaysWhite,transition:"background-color 0.3s ease","&:hover":{opacity:1,backgroundColor:e.palette.primary.dark,color:e.palette.text.alwaysWhite},"&:visited, &.visited":{color:e.palette.text.alwaysWhite},"&:visited:hover, &.visited:hover":{color:e.palette.text.alwaysWhite},"&:disabled":{backgroundColor:e.palette.buttons.alwaysPrimary,color:e.palette.text.alwaysWhite,opacity:.5}},"& .ck-cta-button-centered":{margin:"auto"}},"& .footnotes":{marginTop:40,fontSize:"0.9em",paddingTop:40,borderTop:e.isFriendlyUI?e.palette.border.grey300:e.palette.border.normal,"& sup":{marginRight:10},"& ol":{marginBlockStart:"1em",paddingInlineStart:0,marginInlineStart:"1em"},"& li":{fontSize:"0.9em"},"& blockquote":{fontSize:"0.9em",lineHeight:"1.5em",padding:1,paddingLeft:3,marginTop:-10}},"& .footnotes-sep":{display:"none"},"& hr":{...d(e)}}},p=(e,t)=>({marginTop:".5em",marginBottom:".25em",wordBreak:"break-word",...(0,r.isIfAnyoneBuildsItFrontPage)({color:e.palette.text.bannerAdOverlay}),...e.typography.body2,...e.typography.commentStyle,"& .footnotes":e.isFriendlyUI?{}:{marginTop:0,paddingTop:8,paddingLeft:16,marginBottom:0},"& blockquote":{...e.typography.commentBlockquote,...e.typography.body2,...e.typography.commentStyle,...(0,r.isIfAnyoneBuildsItFrontPage)({color:e.palette.text.bannerAdOverlay})},"& li":{...e.typography.body2,...e.typography.commentStyle,...(0,r.isIfAnyoneBuildsItFrontPage)({color:e.palette.text.bannerAdOverlay})},"& h1, & h2, & h3":{...e.typography.commentHeader,...e.typography.commentStyle},...t?{}:{pointerEvents:"none","& > *":{pointerEvents:"auto"}},"& > *:hover ~ .spoiler":{color:e.palette.panelBackground.spoilerBlock},"& > *:hover ~ .spoiler:before":{content:'"spoiler (hover/select to reveal)"',color:e.palette.text.spoilerBlockNotice},"& hr":{marginTop:1.5*e.spacing.unit,marginBottom:1.5*e.spacing.unit}}),h=e=>({...e.typography.body2,fontSize:e.isFriendlyUI?14.3:16.64,lineHeight:"22.75px",...e.typography.postStyle,"& blockquote":{...e.typography.body2,...e.typography.postStyle},"& ul":{paddingInlineStart:30},"& li":{...e.typography.body2,...e.typography.postStyle,fontSize:e.isFriendlyUI?14.3:16.64,lineHeight:"23.4px"}}),m=e=>({marginTop:"1em",marginBottom:"1em","&:first-child":{marginTop:0},"style~&":{marginTop:0},"&:last-child":{marginBottom:0}});e.s(["ckEditorStyles",0,e=>({"& .ck":{"& blockquote":{fontStyle:"unset",...e.typography.blockquote,"& p":{...m(e)}},"--ck-spacing-standard":"".concat(e.spacing.unit,"px"),"&.ck-content":{"--ck-content-font-family":"initial","--ck-content-font-size":"initial","--ck-content-font-color":"initial","--ck-content-line-height":"initial","--ck-content-word-break":"initial",marginLeft:-e.spacing.unit,"--ck-focus-outer-shadow-geometry":"none","--ck-focus-ring":e.palette.border.transparent,"--ck-focus-outer-shadow":"none","--ck-inner-shadow":"none","& p":{marginTop:"1em",marginBottom:"1em","&:first-of-type":{marginTop:0}},"& .table table":{...s(e)},"& .table table td, & .table table th":{...l(e)},"& .table table th":{...c(e)},"& .ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected, .ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected":{outline:"none"},"& .image>figcaption":{...e.typography.caption,backgroundColor:"unset"},"& hr":{...d(e)},"& .footnote-reference":{scrollMarginTop:"100px"}},"& .ck-placeholder:before":{whiteSpace:"break-spaces"},"&.ck-sidebar, &.ck-presence-list":{"& li":{marginBottom:"unset",fontFamily:"unset",fontSize:"unset",fontWeight:"unset",lineHeight:"unset"},"& .ck-comment:after":{display:"none"},"& .ck-annotation__info-name, & .ck-annotation__info-time, & .ck-comment__input, & .ck-thread__comment-count, & .ck-annotation__main p, & .ck-annotation__info-name, & .ck-annotation__info-time, & .ck-presence-list__counter, &.ck-presence-list":{...e.typography.body2,...e.typography.commentStyle,marginTop:0,alignItems:"flex-start",marginBottom:12},"&.ck-presence-list":{marginBottom:32,"--ck-user-avatar-size":"20px","& .ck-user":{marginTop:0}},"& .ck-thread__comment-count":{paddingLeft:2*e.spacing.unit,color:e.palette.grey[600],margin:0,paddingBottom:".5em","&:before":{content:'"\\25B6"'}},"& .ck-comment__input":{paddingLeft:2*e.spacing.unit},"& .ck-annotation__main, & .ck-comment__input, & .ck-thread__input":{width:"100%"},"& .ck-comment__wrapper":{borderTop:e.palette.border.slightlyFaint},"& .ck-annotation__info-name, & .ck-annotation__info-time":{color:e.palette.grey[600],fontSize:13},"& .ck-annotation__user, & .ck-thread__user":{display:"none"},"--ck-color-comment-count":e.palette.primary.main},"--ck-color-base-background":e.palette.editor.commentPanelBackground,"--ck-color-annotation-wrapper-background":e.palette.editor.commentPanelBackground,"--ck-color-comment-background":e.palette.editor.sideCommentEditorBackground,"--ck-color-comment-marker":e.palette.editor.commentMarker,"--ck-color-comment-marker-active":e.palette.editor.commentMarkerActive,"--ck-color-widget-editable-focus-background":e.palette.panelBackground.default}}),"commentBodyStyles",0,p,"editorStyles",0,e=>({"& .spoiler:not(:hover) *":{backgroundColor:"".concat(e.palette.panelBackground.spoilerBlock," !important")}}),"pBodyStyle",0,m,"postBodyStyles",0,u,"smallPostStyles",0,h],253592);let g=(0,i.defineStyles)("ContentStyles",e=>({base:{...u(e)},postBody:{},postHighlight:{...h(e),"& h1, & h2, & h3":{fontSize:e.isFriendlyUI?"1.1rem":"1.6rem",marginBlockStart:"0 !important"}},commentBody:{...p(e)},commentBodyExceptPointerEvents:{...p(e,!0)},debateResponseBody:{...p(e),fontSize:"1.35rem","& .dialogue-message-header + p":{marginTop:0},"& blockquote, & li":{fontSize:"1.35rem"}},answerBody:{...h(e)},tagBody:{...p(e),marginBottom:18,"&& h1":{fontSize:"2rem",marginTop:"3rem",fontWeight:600,...e.typography.commentStyle},"&& h2":{fontSize:"1.7rem",marginTop:"1.5rem",fontWeight:500,...e.typography.commentStyle},"&& h3":{fontSize:"1.3rem",marginTop:"1.5rem",fontWeight:500,...e.typography.commentStyle},"&& h1:first-child, h2:first-child, h3:first-child":{marginTop:0}},llmChat:{...p(e),fontSize:"1.0rem","& blockquote, & li":{fontSize:"1.0rem"}},ultraFeed:{...p(e),marginTop:0,marginBottom:0,"& p:first-child":{marginTop:"0 !important"},"& p:last-child":{marginBottom:"0 !important"},"& p:first-child:not(:has(> br:first-child + br)) > br:first-child":{display:"none !important"},"& p:last-child:not(:has(> br + br:last-child)) > br:last-child":{display:"none !important"},[e.breakpoints.down("sm")]:{"& h1, & h2, & h3, & h4":{marginBlockStart:"0 !important",fontFamily:e.palette.fonts.sansSerifStack},"& img, & iframe":{maxWidth:"100%",height:"auto"},"& blockquote, & li":{}}},ultraFeedPost:{marginTop:0,marginBottom:0,"& p:first-child":{marginTop:"0 !important"},"& p:last-child":{marginBottom:"0 !important"},"& p:first-child:not(:has(> br:first-child + br)) > br:first-child":{display:"none !important"},"& p:last-child:not(:has(> br + br:last-child)) > br:last-child":{display:"none !important"},[e.breakpoints.down("sm")]:{"& h1, & h2, & h3, & h4":{marginBlockStart:"0 !important"},"& img, & iframe":{maxWidth:"100%",height:"auto"},"& blockquote, & li":{}}}}),{stylePriority:-1});e.s(["default",0,e=>{let{contentType:i,className:r,style:a,children:s}=e,l=(0,n.useStyles)(g);return(0,t.jsx)("div",{style:a,className:(0,o.default)(r,(0,o.default)(l.base,"content","post"===i&&l.postBody,"postHighlight"===i&&l.postHighlight,"comment"===i&&l.commentBody,"commentExceptPointerEvents"===i&&l.commentBodyExceptPointerEvents,"answer"===i&&l.answerBody,"tag"===i&&l.tagBody,"debateResponse"===i&&l.debateResponseBody,"llmChat"===i&&l.llmChat,"ultraFeed"===i&&l.ultraFeed,"ultraFeedPost"===i&&l.ultraFeedPost)),children:s})}],87828)},900174,e=>{"use strict";var t=e.i(843476),o=e.i(271645),n=e.i(79732),i=e.i(429329),r=e.i(898298),a=e.i(343794),s=e.i(903780);let l=(0,i.defineStyles)("TooltipRef",e=>({tooltip:{maxWidth:300,backgroundColor:e.palette.panelBackground.tooltipBackground,color:e.palette.text.tooltipText,fontSize:13,padding:"9.1px",zIndex:1e7,"& img":{maxWidth:"100%"}}}),{stylePriority:-1}),c=e=>{let{title:i,placement:c="bottom",distance:d=16,styling:u="tooltip",flip:p,clickable:h,disabled:m,hideOnTouchScreens:g,analyticsProps:f,otherEventProps:y,className:b,popperClassName:v,forceOpen:x,preserve:k,children:w}=e,S=(0,n.useStyles)(l),C=(0,o.useRef)(null),[B,j]=(0,o.useState)(!1),T=(0,o.useRef)(null),z=(0,o.useCallback)(()=>{T.current&&(clearTimeout(T.current),T.current=null)},[]),{eventHandlers:_,hover:I,everHovered:P,anchorEl:F}=(0,r.useHover)({eventProps:{pageElementContext:"tooltipHovered",title:"string"==typeof i?i:void 0,...f,...y},disabledOnMobile:g,onLeave:()=>{z(),j(!1)}});return(0,o.useEffect)(()=>(I&&h?(z(),T.current=setTimeout(()=>{j(!0),T.current=null},200)):(z(),j(!1)),z),[I,h,z]),(0,o.useEffect)(()=>{let e=C.current;if(e)return e.addEventListener("mouseover",_.onMouseOver),e.addEventListener("mouseleave",_.onMouseLeave),()=>{e.removeEventListener("mouseover",_.onMouseOver),e.removeEventListener("mouseleave",_.onMouseLeave)}}),(0,t.jsxs)(t.Fragment,{children:[w(C),(I||P&&k)&&(0,t.jsx)(s.default,{placement:c,open:x||I&&!m,anchorEl:F,tooltip:"tooltip"===u,allowOverflow:!p,clickable:B,hideOnTouchScreens:g,distance:d,className:v,children:(0,t.jsx)("div",{className:(0,a.default)("tooltip"===u&&S.tooltip,b),children:i})})]})};e.s(["TooltipRef",0,c,"TooltipSpan",0,e=>{let{className:o,...n}=e;return(0,t.jsx)(c,{...n,children:n=>(0,t.jsx)("span",{ref:n,className:o,children:e.children})})}])},965448,504270,905511,e=>{"use strict";var t,o=e.i(299749),n=e.i(843476),i=e.i(271645),r=e.i(343794),a=e.i(921518);e.i(83697);var s=e.i(331724),l=e.i(79732),c=e.i(429329);let d=(0,c.defineStyles)("MuiIconButton",e=>({root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,a.fade)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,a.fade)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,a.fade)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}),{stylePriority:-10}),u=function(e){let{children:t,classes:o,className:i,color:a="default",disabled:c=!1,...u}=e,p=(0,l.useStyles)(d,o);return(0,n.jsx)(s.default,{className:(0,r.default)(p.root,{[p.colorPrimary]:"primary"===a,[p.colorSecondary]:"primary"===a,[p.colorInherit]:"inherit"===a,[p.disabled]:c},i),centerRipple:!0,focusRipple:!0,disabled:c,...u,children:(0,n.jsx)("span",{className:p.label,children:t})})};e.s(["default",0,u],504270),e.s([],905511);var p=e.i(131069);let h=(0,c.defineStyles)("MuiSwitchBase",e=>({root:{display:"inline-flex",alignItems:"center",transition:"none","&:hover":{backgroundColor:"transparent"}},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}}),{stylePriority:-10});class m extends(t=i.default.Component){render(){let{autoFocus:e,checked:t,checkedIcon:o,classes:i,className:a,disabled:s,icon:l,id:c,inputProps:d,inputRef:p,name:h,onBlur:m,onChange:g,onFocus:f,readOnly:y,required:b,tabIndex:v,type:x,value:k,...w}=this.props,S=this.context,C=s;S&&void 0===C&&(C=S.disabled);let B=this.isControlled?t:this.state.checked,j="checkbox"===x||"radio"===x;return(0,n.jsxs)(u,{component:"span",className:(0,r.default)(i.root,{[i.checked]:B,[i.disabled]:C},a),disabled:C,tabIndex:void 0,role:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,...w,children:[B?o:l,(0,n.jsx)("input",{autoFocus:e,checked:B,className:i.input,disabled:C,id:j?c:void 0,name:h,onChange:this.handleInputChange,readOnly:y,ref:p,required:b,tabIndex:v,type:x,value:k,...d})]})}constructor(e){super(e),(0,o._)(this,"isControlled",void 0),(0,o._)(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(e);let t=this.context;t&&t.onFocus&&t.onFocus(e)}),(0,o._)(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(e);let t=this.context;t&&t.onBlur&&t.onBlur(e)}),(0,o._)(this,"handleInputChange",e=>{let t=e.target.checked;this.isControlled||this.setState({checked:t}),this.props.onChange&&this.props.onChange(e,t)}),this.isControlled=null!=e.checked,this.state={},this.isControlled||(this.state={checked:void 0!==e.defaultChecked&&e.defaultChecked})}}(0,o._)(m,"contextType",p.FormControlContext);let g=(0,l.withStyles)(h,m);e.s(["default",0,g],965448)},229863,e=>{"use strict";var t=e.i(600723),o=e.i(338552);function n(){let[e]=(0,o.useCookiesWithConsent)([t.CLIENT_ID_COOKIE]);return e[t.CLIENT_ID_COOKIE]}e.s(["useClientId",()=>n])},2942,244609,e=>{"use strict";e.i(467034);var t=e.i(714818);function o(e){var t,o=this,n=(t=0xefc8249d,function(e){e=String(e);for(var o=0;o<e.length;o++){var n=.02519603282416938*(t+=e.charCodeAt(o));t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=0x100000000*n}return(t>>>0)*23283064365386963e-26});o.next=function(){var e=2091639*o.s0+23283064365386963e-26*o.c;return o.s0=o.s1,o.s1=o.s2,o.s2=e-(o.c=0|e)},o.c=1,o.s0=n(" "),o.s1=n(" "),o.s2=n(" "),o.s0-=n(e),o.s0<0&&(o.s0+=1),o.s1-=n(e),o.s1<0&&(o.s1+=1),o.s2-=n(e),o.s2<0&&(o.s2+=1)}e.s(["default",0,function(e){var t=new o(e),n=t.next;return n.int32=function(){return 0x100000000*t.next()|0},n.double=function(){return n()+(2097152*n()|0)*11102230246251565e-32},n.quick=n,n}],244609);let n="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTWXYZ23456789",i=e=>Math.floor(Math.random()*e);e.s(["isNotRandomId",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:17;return!new RegExp("^[".concat(n,"]{").concat(t,"}$")).test(e)},"randInt",0,i,"randomId",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:17,o=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=null!=r?r:n;if(t.isServer&&!o){let t=new Uint8Array(e),o=crypto.getRandomValues(t),n=[];for(let e of o)n.push(a[e%a.length]);return n.join("")}{let t=null!=o?o:i,n=[];for(let o=0;o<e;o++)n.push(a[t(a.length)]);return n.join("")}}],2942)},978577,(e,t,o)=>{t.exports=function(e,t,o,n,i){return i(e,function(e,i,r){o=n?(n=!1,e):t(o,e,i,r)}),o}},58253,(e,t,o)=>{var n=e.r(992427),i=e.r(453587),r=e.r(666305),a=e.r(978577),s=e.r(45350);t.exports=function(e,t,o){var l=s(e)?n:a,c=arguments.length<3;return l(e,r(t,4),o,c,i)}},135029,305040,e=>{"use strict";var t=e.i(244609),o=e.i(2942),n=e.i(973327),i=e.i(299749),r=e.i(58253);class a{styleIfInGroup(e){return".".concat(this.name,"_").concat(e," &&")}constructor({name:e,active:t,affectsLoggedOut:o,description:n,groups:a}){if((0,i._)(this,"name",void 0),(0,i._)(this,"active",void 0),(0,i._)(this,"affectsLoggedOut",void 0),(0,i._)(this,"description",void 0),(0,i._)(this,"groups",void 0),0===(0,r.default)(Object.keys(a),(e,t)=>e+a[t].weight,0))throw Error("A/B test has no groups defined with nonzero weight");this.name=e,this.active=t,this.affectsLoggedOut=o,this.description=n,this.groups=a}}let s=new a({name:"welcomeBoxABTest",active:!0,affectsLoggedOut:!0,description:"Tests the new Welcome Box on post pages for logged out users",groups:{control:{description:"Don't show Welcome Box on post pages",weight:1},welcomeBox:{description:"Show Welcome Box on post pages",weight:1}}}),l=new a({name:"twoLineEventsSidebar",active:!0,affectsLoggedOut:!0,description:"Events sidebar shows more information",groups:{control:{description:"One line per event",weight:1},expanded:{description:"Two lines per event",weight:1}}}),c=[s,l];function d(){return(0,n.default)(c,e=>e.name)}function u(e){var t;return"user"in e?null!=(t=e.user.abTestKey)?t:void 0:e.clientId}function p(e,n){let i=u(e),r=Object.fromEntries(Object.entries(n.groups).map(e=>{let[t,o]=e;return[t,o.weight]}));return"user"in e&&e.user.abTestOverrides&&e.user.abTestOverrides[n.name]?e.user.abTestOverrides[n.name]:function(e,o){let n=Object.values(e);if(0===n.length)throw Error("Random pick from empty set");let i=n.reduce((e,t)=>e+t,0)*(0,t.default)(o).double(),r=0;for(let t in e)if((r+=e[t])>=i)return t;throw Error("Out of range value in weightedRandomPick")}(r,"".concat(n.name,"-").concat(null!=i?i:(0,o.randomId)()))}function h(e){let t={};for(let o of c){let n=p(e,o);t[o.name]=n}return t}e.s(["allABTests",0,c,"twoLineEventsSidebarABTest",0,l,"welcomeBoxABTest",0,s],305040),e.s(["getABTestsMetadata",()=>d,"getAllUserABTestGroups",()=>h,"getUserABTestGroup",()=>p,"getUserABTestKey",()=>u],135029)},275828,e=>{"use strict";var t=e.i(843476),o=e.i(271645);let n=(0,e.i(339213).default)((0,t.jsxs)(o.default.Fragment,{children:[(0,t.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})]}),"Info");e.s(["default",0,n])},308544,e=>{"use strict";var t=e.i(843476),o=e.i(271645);let n=(0,o.createContext)(null);e.s(["LoginPopoverContextProvider",0,e=>{let{children:i}=e,[r,a]=(0,o.useState)(null),s=(0,o.useCallback)(()=>a("login"),[]),l=(0,o.useCallback)(()=>a("signup"),[]),c=(0,o.useMemo)(()=>({loginAction:r,setLoginAction:a,onLogin:s,onSignup:l}),[r,a,s,l]);return(0,t.jsx)(n.Provider,{value:c,children:i})},"useLoginPopoverContext",0,()=>{let e=(0,o.useContext)(n);if(!e)throw Error("No login popover context provider");return e}])},339716,358230,797133,e=>{"use strict";let t;var o=e.i(299749),n=e.i(552275),i=e.i(100916);class r extends Error{constructor(e,t){super(e||"Something went wrong"),(0,o._)(this,"policy",void 0),this.policy=t}}class a{async post(e,t){let o=await fetch(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(200!==o.status){let e=await o.json(),t=e.error||e.description||e.error_description||"Something went wrong";throw"."===t[t.length-1]&&(t=t.slice(0,-1)),new r(t,e.policy)}}async login(e,t){await this.post("/auth/auth0/embedded-login",{email:e,password:t})}async signup(e,t){await this.post("/auth/auth0/embedded-signup",{email:e,password:t})}socialLogin(e){let t=encodeURIComponent(window.location.href);window.location.href="/auth/auth0?returnTo=".concat(t,"&connection=").concat(e)}async resetPassword(e){if(!e)throw new r("Enter your email above to receive password reset instructions");let t=n.auth0ClientSettings.get();if(!t)throw Error("Auth0 client settings not configured");let o=(0,i.combineUrls)("https://".concat(t.domain),"/dbconnections/change_password");await this.post(o,{client_id:t.clientId,connection:t.connection,email:e})}}e.s(["useAuth0Client",0,()=>(t||(t=new a),t)],339716);var s=e.i(843476);let l=(0,s.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 1200 1200",children:(0,s.jsx)("g",{transform:"translate(0.000000,1200.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none",children:(0,s.jsx)("path",{d:"M5783 11560 c-712 -53 -1385 -317 -1948 -766 -141 -113 -426 -398 -539 -539 -286 -359 -508 -784 -631 -1205 -187 -645 -188 -1318 -5 -1959 134 -466 350 -874 675 -1276 220 -272 342 -531 510 -1080 144 -469 443 -749 903 -842 76 -16 147 -18 552 -18 l465 0 87 31 c300 107 650 497 1243 1384 211 315 288 446 410 695 343 700 460 1210 374 1638 -87 436 -381 741 -817 849 -120 30 -347 32 -442 4 -152 -44 -370 -168 -508 -290 -35 -31 -66 -56 -69 -56 -3 0 -43 36 -89 79 -148 143 -265 218 -424 272 -90 31 -103 33 -235 33 -540 -1 -969 -332 -1100 -847 -107 -422 -1 -935 294 -1421 160 -265 407 -576 680 -859 119 -123 172 -152 281 -151 126 0 214 55 270 166 26 52 30 72 30 137 0 109 -24 153 -159 296 -560 590 -824 1064 -824 1485 0 133 15 204 63 306 83 174 254 274 465 274 142 -1 253 -64 390 -222 40 -45 41 -47 28 -83 -29 -83 -45 -209 -41 -320 3 -98 7 -117 34 -175 86 -181 269 -276 409 -211 97 45 189 161 227 285 18 59 20 84 15 175 -4 58 -15 142 -26 186 l-19 79 62 61 c111 109 278 197 400 211 122 14 277 -38 370 -126 106 -100 150 -224 149 -420 0 -283 -108 -621 -359 -1122 -255 -510 -577 -970 -1035 -1479 -202 -225 -240 -248 -414 -256 -167 -8 -633 13 -688 31 -179 58 -296 184 -360 391 -90 288 -124 391 -157 475 -140 351 -276 589 -490 855 -412 512 -627 1087 -647 1735 -15 478 82 932 288 1355 370 759 1070 1331 1879 1535 283 72 502 95 804 87 439 -12 804 -102 1201 -297 634 -311 1135 -854 1401 -1516 97 -242 159 -489 190 -760 20 -171 14 -570 -10 -734 -91 -603 -320 -1139 -666 -1555 -292 -351 -490 -748 -613 -1230 -80 -315 -114 -577 -129 -1005 -3 -59 -9 -88 -32 -135 -129 -264 -651 -476 -1416 -575 -305 -39 -798 -70 -1137 -70 -148 0 -209 -19 -275 -83 -141 -137 -124 -367 36 -476 81 -56 111 -59 686 -65 551 -5 758 -14 1080 -46 495 -49 772 -136 870 -272 34 -47 37 -65 12 -94 -84 -102 -373 -165 -882 -194 -102 -6 -518 -13 -925 -16 l-740 -4 -63 -31 c-230 -112 -227 -437 6 -551 l67 -33 555 -7 c666 -7 909 -25 1200 -84 402 -83 662 -241 860 -522 70 -100 152 -145 265 -146 128 0 242 76 286 192 27 74 23 186 -9 249 -62 120 -296 381 -424 473 -27 18 -48 36 -47 39 0 3 32 22 70 41 91 45 213 142 266 211 134 175 182 343 150 531 -18 103 -68 227 -128 314 -79 116 -233 235 -401 313 l-83 38 81 41 c277 139 495 345 600 567 68 142 83 223 94 495 17 437 79 757 210 1089 101 257 213 448 381 649 456 550 733 1224 820 1992 17 150 18 601 1 745 -20 169 -49 326 -87 482 -352 1415 -1555 2472 -3005 2638 -170 19 -488 26 -647 15z m197 -3504 c0 -2 -8 -10 -17 -17 -16 -13 -17 -12 -4 4 13 16 21 21 21 13z"})})});e.s(["lightbulbIcon",0,l],358230),e.s(["FacebookIcon",0,e=>(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_275_319)",children:(0,s.jsx)("path",{d:"M10 0C15.5229 0 20 4.47715 20 10C20 14.9913 16.3432 19.1283 11.5625 19.8785V12.8906H13.8926L14.3359 10H11.5625V8.12414C11.5625 7.9118 11.5904 7.7009 11.6553 7.50598C11.802 7.0657 12.1372 6.70693 12.7655 6.59717C12.8949 6.57454 13.0369 6.5625 13.1921 6.5625H14.4531V4.10156C14.4531 4.10156 13.3088 3.90625 12.2146 3.90625C9.93043 3.90625 8.4375 5.29063 8.4375 7.79688V10H5.89844V12.8906H8.4375V19.8785C3.65687 19.1283 0 14.9913 0 10C0 4.47715 4.47715 0 10 0Z",fill:"currentColor"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_275_319",children:(0,s.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})],797133)},614415,541778,e=>{"use strict";var t=e.i(843476),o=e.i(271645),n=e.i(538794),i=e.i(339716),r=e.i(159211),a=e.i(358230),s=e.i(797133),l=e.i(343794),c=e.i(161517),d=e.i(530841),u=e.i(552275),p=e.i(308544),h=e.i(424935),m=e.i(833851);let g=(0,n.registerComponent)("BlurredBackgroundModal",e=>{let{open:o,onClose:n,children:i,className:r,classes:a}=e;return(0,t.jsx)(m.default,{open:o,onClose:n,backdrop:"blur",children:(0,t.jsx)("div",{className:(0,l.default)(a.root,r),children:i})})},{styles:e=>({root:{background:e.palette.panelBackground.modalBackground,borderRadius:e.borderRadius.default,maxWidth:"100%",padding:32,overflowY:"auto",[e.breakpoints.down("xs")]:{borderRadius:0,width:"100vw !important",height:"100vh !important"}},modal:{display:"flex",alignItems:"center",justifyContent:"center",zIndex:e.zIndexes.blurredBackgroundModal,[e.breakpoints.down("xs")]:{"& .MuiPopover-paper":{maxWidth:"unset !important",maxHeight:"unset !important"}}},backdrop:{background:e.palette.background.loginBackdrop,backdropFilter:"blur(4px)"}}),stylePriority:-1});e.s(["default",0,g],541778);var f=e.i(813292),y=e.i(81500),b=e.i(239832);let v=e=>{let{tree:o}=e;return(0,t.jsx)("ul",{children:o.map(e=>{let{root:o,content:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{children:o}),(0,t.jsx)(v,{tree:n})]})})})},x=e=>{let{policy:o,classes:n}=e;return o?(0,t.jsx)("div",{className:n.passwordPolicy,children:(0,t.jsx)(v,{tree:(e=>{let t=[],o=[t];for(let t of e.split("\n")){var n,i;let e=t.search(/\S/),r=t.trim(),a=null!=(i=null==(n=r.match(/(\*\s*)?(.*)/))?void 0:n[2])?i:r;if(a){let t=[];o[e].push({root:a,content:t}),o[++e]=t}}return t})(o)})}):null},k=(0,n.registerComponent)("EALoginPopover",e=>{let{action:n,setAction:m,facebookEnabled:v=u.auth0FacebookLoginEnabled.get(),googleEnabled:k=!0,classes:w}=e,{loginAction:S,setLoginAction:C}=(0,p.useLoginPopoverContext)(),B=null!=n?n:S,j=null!=m?m:C,T=!!B,z="signup"===B,_=(0,i.useAuth0Client)(),[I,P]=(0,o.useState)(""),[F,A]=(0,o.useState)(""),[N,E]=(0,o.useState)(!1),[L,O]=(0,o.useState)(!1),[R,W]=(0,o.useState)(!1),[M,H]=(0,o.useState)(null),[D,U]=(0,o.useState)(null),[q,$]=(0,o.useState)(null),[K,V]=(0,o.useState)(!1),G=(0,d.useRefetchCurrentUser)(),Z=(0,o.useCallback)(e=>{P(e.target.value)},[]),Y=(0,o.useCallback)(e=>{A(e.target.value)},[]),X=(0,o.useCallback)(()=>{E(e=>!e)},[]),J=(0,o.useCallback)(async()=>{U(null),$(null),H(null);try{O(!0),await _.resetPassword(I),H("Password reset email sent")}catch(e){console.error(e),(0,h.captureException)(e,{tags:{component:"EALoginPopover",action:B||"unknown"},extra:{email:I,isSignup:z,isResettingPassword:R}}),U(e.description||e.message||String(e)||"An error occurred")}O(!1)},[_,I,B,z,R]),Q=(0,o.useCallback)(async e=>{if(e.preventDefault(),R||K)return J();if(!I||!F)return void U("Email and password are required");H(null),U(null),$(null);try{O(!0),await (z?_.signup(I,F):_.login(I,F)),await G()}catch(e){var t;console.error(e),(0,h.captureException)(e,{tags:{component:"EALoginPopover",action:B||"unknown"},extra:{email:I,isSignup:z,isResettingPassword:R}}),U(e.description||e.message||String(e)||"An error occurred"),$(null!=(t=e.policy)?t:null)}finally{O(!1)}},[R,K,I,F,J,z,_,G,B]),ee=(0,o.useCallback)(async()=>{H(null),U(null),$(null),_.socialLogin("google-oauth2")},[_]),et=(0,o.useCallback)(()=>{H(null),U(null),$(null),_.socialLogin("facebook")},[_]),eo=(0,o.useCallback)(()=>{V(!0)},[]),en=(0,o.useCallback)(()=>{W(!0)},[]),ei=(0,o.useCallback)(()=>{j("login")},[j]),er=(0,o.useCallback)(()=>{j("signup")},[j]),ea=(0,o.useCallback)(()=>{j(null)},[j]);(0,o.useEffect)(()=>{T||(P(""),A(""),E(!1),O(!1),H(null),U(null),$(null),W(!1),V(!1))},[T]);let es=z?"Sign up to get more from ".concat(u.siteNameWithArticleSetting.get()||"forum"):K?"Facebook login will be removed soon":"Welcome back",el=!!I&&(!!F||R)&&!L;return(0,t.jsx)(g,{open:T,onClose:ea,className:w.root,children:(0,t.jsxs)(c.AnalyticsContext,{pageElementContext:"loginPopover",children:[K&&(0,t.jsx)(f.default,{icon:"ArrowLeft",onClick:()=>V(!1),className:w.backArrow}),(0,t.jsx)(f.default,{icon:"Close",onClick:ea,className:w.close}),(0,t.jsx)("div",{className:w.lightbulb,children:a.lightbulbIcon}),(0,t.jsx)("div",{className:w.title,children:es}),(0,t.jsxs)("div",{className:w.formContainer,children:[K&&(0,t.jsxs)("div",{className:w.facebookWarning,children:[(0,t.jsx)("p",{children:"You should have received an email containing instructions on how to change your login method."}),(0,t.jsx)("p",{children:"You may also use the form below to request a password reset for the email associated with your account, to enable using email/password login."}),(0,t.jsx)("div",{className:w.switchPrompt,children:(0,t.jsx)("a",{onClick:et,className:w.switchPromptButton,children:"I understand, continue to log in with Facebook anyway"})})]}),(0,t.jsxs)("form",{onSubmit:Q,className:w.form,children:[(0,t.jsx)("div",{className:(0,l.default)(w.inputContainer,{[w.inputBottomMargin]:R}),children:(0,t.jsx)("input",{type:"text",placeholder:"Email",value:I,onChange:Z,"data-testid":"login-email-input",className:w.input,autoFocus:!0})}),!R&&!K&&(0,t.jsxs)("div",{className:w.inputContainer,children:[(0,t.jsx)("input",{type:N?"text":"password",placeholder:"Password",value:F,onChange:Y,"data-testid":"login-password-input",className:w.input}),(0,t.jsx)(f.default,{icon:N?"EyeSlash":"Eye",onClick:X,className:w.showPasswordButton})]}),!z&&!R&&!K&&(0,t.jsx)("div",{className:w.forgotPassword,children:(0,t.jsx)("a",{onClick:en,children:"Forgot password?"})}),M&&(0,t.jsx)("div",{className:w.message,children:M}),D&&(0,t.jsxs)("div",{className:w.error,children:[D,q&&(0,t.jsx)(x,{policy:q,classes:w})]}),(0,t.jsx)(y.default,{type:"submit",style:"primary",disabled:!el,"data-testid":"login-submit",className:w.button,children:L?(0,t.jsx)(b.default,{}):R||K?"Request password reset":z?"Sign up":"Login"})]}),!K&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:w.orContainer,children:[(0,t.jsx)("span",{className:w.orHr}),"OR",(0,t.jsx)("span",{className:w.orHr})]}),(0,t.jsxs)("div",{className:w.socialContainer,children:[k&&(0,t.jsxs)(y.default,{style:"grey",variant:"outlined",onClick:ee,className:(0,l.default)(w.button,w.socialButton),children:[(0,t.jsx)("img",{src:"/googleLogo.png",alt:"google logo"})," Continue with Google"]}),v&&!z&&(0,t.jsxs)(y.default,{style:"grey",variant:"outlined",onClick:eo,className:(0,l.default)(w.button,w.socialButton),children:[(0,t.jsx)(s.FacebookIcon,{}),"Continue with Facebook"]})]}),z?(0,t.jsxs)("div",{className:w.switchPrompt,children:["Already have an account?"," ",(0,t.jsx)("a",{onClick:ei,className:w.switchPromptButton,children:"Login"})]}):(0,t.jsxs)("div",{className:w.switchPrompt,children:["Don't have an account?"," ",(0,t.jsx)("a",{onClick:er,className:w.switchPromptButton,children:"Sign up"})]})]})]}),z&&!K&&(0,t.jsxs)("div",{className:w.finePrint,children:["By creating an"," "+u.forumTitleSetting.get()+" ","account, you agree to the"," ",(0,t.jsx)(r.Link,{to:"/termsOfUse",target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})," ","and"," ",(0,t.jsx)(r.Link,{to:"/privacyPolicy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]})})},{styles:e=>({root:{fontFamily:e.palette.fonts.sansSerifStack,width:386,display:"flex",flexDirection:"column",alignItems:"center",gap:"24px",textAlign:"center"},close:{color:e.palette.grey[600],cursor:"pointer",position:"absolute",top:16,right:16,width:20,height:20},backArrow:{color:e.palette.grey[600],cursor:"pointer",position:"absolute",top:16,left:16,width:20,height:20},lightbulb:{color:e.palette.primary.dark,width:52},title:{fontSize:24,fontWeight:600},formContainer:{width:"100%"},form:{display:"flex",flexDirection:"column",gap:"8px",width:"100%",marginBottom:12},inputContainer:{display:"flex",alignItems:"center",gap:"12px",width:"100%",borderRadius:e.borderRadius.default,background:e.palette.panelBackground.loginInput,padding:"0px 17px"},input:{flexGrow:1,padding:"15px 0px",color:e.palette.grey[1e3],background:"transparent",fontSize:14,fontFamily:e.palette.fonts.sansSerifStack,fontWeight:500,"&::placeholder":{color:e.palette.grey[600]}},inputBottomMargin:{marginBottom:10},showPasswordButton:{width:16,cursor:"pointer",color:e.palette.grey[600]},forgotPassword:{color:e.palette.primary.main,fontSize:14,fontWeight:600,marginTop:4,marginBottom:8},message:{marginBottom:4,fontSize:14,fontWeight:500},facebookWarning:{marginBottom:24,fontSize:14,fontWeight:500,textAlign:"left"},error:{color:e.palette.text.error2,marginBottom:4,fontSize:14,fontWeight:500},button:{width:"100%",height:50,padding:"15px 17px",fontWeight:600,"& .Loading-spinner":{height:"100%",display:"flex",alignItems:"center"}},orContainer:{display:"flex",alignItems:"center",gap:"11px",width:"100%",margin:"24px 0",fontWeight:500,color:e.palette.grey[600]},orHr:{borderTop:"1px solid ".concat(e.palette.border.eaButtonGreyOutline),flexGrow:1},socialContainer:{display:"flex",flexDirection:"column",gap:"8px",width:"100%",marginBottom:24},socialButton:{"& svg, & img":{width:20,height:20,marginRight:16},"& .MuiButton-label":{justifyContent:"flex-start"}},switchPrompt:{fontSize:14},switchPromptButton:{color:e.palette.primary.main,fontWeight:700,userSelect:"none"},finePrint:{color:e.palette.grey[600],marginTop:16,fontSize:13,fontWeight:500,lineHeight:"140%","& a":{textDecoration:"underline","&:hover":{textDecoration:"none",opacity:1}}},passwordPolicy:{textAlign:"left"}})});e.s(["default",0,k],614415)},823829,e=>{"use strict";let t;var o=e.i(843476),n=e.i(271645),i=e.i(745009),r=e.i(538794),a=e.i(552275),s=e.i(714818);let l={elementID:i.default.string,verifyCallbackName:i.default.string,verifyCallback:i.default.func,sitekey:i.default.string.isRequired,action:i.default.string.isRequired};class c extends n.Component{componentDidMount(){this.state.ready&&this.execute()}componentDidUpdate(e,t){this.state.ready&&!t.ready&&this.execute()}componentWillUnmount(){clearInterval(t)}execute(){let{sitekey:e=a.reCaptchaSiteKeySetting.get(),verifyCallback:t,action:o}=this.props;this.state.ready&&window.grecaptcha.execute(e,{action:o}).then(e=>{void 0!==t&&t(e)})}_updateReadyState(){window.recaptchaLoaded&&(this.setState(()=>({ready:!0})),clearInterval(t))}render(){return this.state.ready?(0,o.jsx)("div",{id:this.props.elementID,"data-verifycallbackname":this.props.verifyCallbackName}):(0,o.jsx)("div",{id:this.props.elementID,className:"g-recaptcha"})}constructor(e){super(e),this.execute=this.execute.bind(this),this.state={ready:window.recaptchaLoaded},s.isClient&&!this.state.ready&&(t=setInterval(this._updateReadyState.bind(this),1e3))}}c.propTypes=l,c.defaultProps={elementID:"g-recaptcha",verifyCallbackName:"verifyCallback"};let d=(0,r.registerComponent)("ReCaptcha",c);e.s(["default",0,d])},275261,e=>{"use strict";var t=e.i(843476),o=e.i(343794),n=e.i(965448),i=e.i(339213);let r=(0,i.default)((0,t.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),a=(0,i.default)((0,t.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),s=(0,i.default)((0,t.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var l=e.i(79732);let c=(0,e.i(429329).defineStyles)("MuiCheckbox",e=>({root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.action.disabled}}}),{stylePriority:-10});e.s(["default",0,function(e){let{checkedIcon:i=(0,t.jsx)(a,{}),classes:d,className:u,color:p="secondary",icon:h=(0,t.jsx)(r,{}),indeterminateIcon:m=(0,t.jsx)(s,{}),inputProps:g,...f}=e,y=(0,l.useStyles)(c,d);return(0,t.jsx)(n.default,{type:"checkbox",checkedIcon:i,className:(0,o.default)(u),classes:{root:(0,o.default)(y.root,{[y.colorPrimary]:"primary"===p,[y.colorSecondary]:"secondary"===p}),checked:y.checked,disabled:y.disabled},icon:h,...f})}],275261)},720030,e=>{"use strict";e.i(275261),e.s([])},437059,e=>{"use strict";var t=e.i(843476),o=e.i(271645),n=e.i(538794);e.i(720030);var i=e.i(275261),r=e.i(275828),a=e.i(552275),s=e.i(935132);e.i(39141);var l=e.i(54343),c=e.i(900174);let d=(0,n.registerComponent)("SignupSubscribeToCurated",e=>{let{defaultValue:n,onChange:d,classes:u}=e,[p,h]=(0,o.useState)(n),m=(0,s.isLWorAF)()?"Curated posts":"the ".concat(a.forumHeaderTitleSetting.get()," weekly digest email");return(0,t.jsx)("div",{children:(0,t.jsxs)(l.default,{className:u.checkboxLabel,children:[(0,t.jsx)(i.default,{checked:p,className:u.checkbox,onChange:(e,t)=>{h(t),d(t)}}),"Subscribe to ",m,(0,s.isLWorAF)()&&(0,t.jsx)(c.TooltipSpan,{title:"Emails 2-3 times per week with the best posts, chosen by the LessWrong moderation team.",children:(0,t.jsx)(r.default,{className:u.infoIcon})})]})})},{styles:e=>({checkboxLabel:{...e.typography.body2,marginBottom:10,whiteSpace:"nowrap",display:"flex",alignItems:"center",marginTop:4,cursor:"pointer"},checkbox:{paddingLeft:0,paddingTop:0,paddingBottom:0,paddingRight:6},infoIcon:{width:16,height:16,verticalAlign:"middle",color:e.palette.icon.dim2,marginLeft:6}})});e.s(["default",0,d])},417222,e=>{"use strict";var t=e.i(843476),o=e.i(186947),n=e.i(70796),i=e.i(271645);e.s(["default",0,e=>{let{ssr:r,clientTiming:a="sync",fallback:s=null,children:l}=e,c="mobile-aware"===a?(0,o.isMobile)()?"async-non-blocking":"sync":a,[d,u]=(0,i.useTransition)(),{matchSSR:p}=(0,i.useContext)(n.EnvironmentOverrideContext),[h,m]=(0,i.useState)(p?r:"sync"===c);return((0,i.useEffect)(()=>{h||("async-non-blocking"===c?u(()=>{m(!0)}):m(!0))},[h,c]),h)?(0,t.jsx)(t.Fragment,{children:l}):(0,t.jsx)(t.Fragment,{children:s})}])},912087,e=>{"use strict";var t=e.i(843476),o=e.i(271645),n=e.i(538794),i=e.i(552275),r=e.i(935132),a=e.i(514089);e.i(813868);var s=e.i(122756),l=e.i(144437),c=e.i(135029),d=e.i(229863),u=e.i(937636),p=e.i(791434),h=e.i(87828),m=e.i(823829),g=e.i(239832),f=e.i(614415),y=e.i(437059),b=e.i(417222);let v={login:"Log In",signup:"Sign Up",pwReset:"Request Password Reset"},x=e=>{let{startingState:n="login",classes:p}=e,g=!(0,r.isEAForum)()&&!(0,r.isAF)(),f=!(0,r.isEAForum)(),{pathname:x}=(0,u.useLocation)(),k=(0,o.useRef)(null),[w,S]=(0,o.useState)(""),[C,B]=(0,o.useState)(""),[j,T]=(0,o.useState)(""),{flash:z}=(0,l.useMessages)(),[_,I]=(0,o.useState)(n),[P,F]=(0,o.useState)(g),[A]=(0,a.useMutation)((0,s.gql)("\n    mutation login($username: String, $password: String) {\n      login(username: $username, password: $password) {\n        token\n      }\n    }\n  "),{errorPolicy:"all"}),[N]=(0,a.useMutation)((0,s.gql)("\n    mutation signup($email: String, $username: String, $password: String, $subscribeToCurated: Boolean, $reCaptchaToken: String, $abTestKey: String) {\n      signup(email: $email, username: $username, password: $password, subscribeToCurated: $subscribeToCurated, reCaptchaToken: $reCaptchaToken, abTestKey: $abTestKey) {\n        token\n      }\n    }\n  "),{errorPolicy:"all"}),[E]=(0,a.useMutation)((0,s.gql)("\n    mutation resetPassword($email: String) {\n      resetPassword(email: $email)\n    }\n  "),{errorPolicy:"all"}),[L,O]=(0,o.useState)(null),R=(0,d.useClientId)(),W=e=>{O(e.message)},M=async e=>{var t,o;e.preventDefault();let n=(0,c.getUserABTestKey)({clientId:R});if("login"===_){let{data:e,error:o}=await A({variables:{username:w,password:C}});o&&W(o),(null==e||null==(t=e.login)?void 0:t.token)&&location.reload()}else if("signup"===_){let{data:e,error:t}=await N({variables:{email:j,username:w,password:C,reCaptchaToken:k.current,abTestKey:n,subscribeToCurated:P}});t&&W(t),(null==e||null==(o=e.signup)?void 0:o.token)&&location.reload()}else if("pwReset"===_){let{data:e,error:t}=await E({variables:{email:j}});t&&W(t),(null==e?void 0:e.resetPassword)&&z(null==e?void 0:e.resetPassword)}};return(0,t.jsxs)(h.default,{contentType:"commentExceptPointerEvents",children:[i.reCaptchaSiteKeySetting.get()&&(0,t.jsx)(b.default,{ssr:!1,children:(0,t.jsx)(m.default,{verifyCallback:e=>k.current=e,action:"login/signup"})}),(0,t.jsxs)("form",{className:p.root,onSubmit:M,children:[["signup","pwReset"].includes(_)&&(0,t.jsx)("input",{value:j,type:"text",name:"email",placeholder:"email",className:p.input,onChange:e=>T(e.target.value)}),["signup","login"].includes(_)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{value:w,type:"text",name:"username",autoComplete:"username",placeholder:"signup"===_?"username":"username or email",className:p.input,onChange:e=>S(e.target.value)}),(0,t.jsx)("input",{value:C,type:"password",name:"password",autoComplete:"signup"===_?"new-password":"current-password",placeholder:"signup"===_?"create password":"password",className:p.input,onChange:e=>B(e.target.value)})]}),(0,t.jsx)("input",{type:"submit",className:p.submit,value:v[_]}),"signup"===_&&g&&(0,t.jsx)(y.default,{defaultValue:P,onChange:e=>F(e)}),(0,t.jsxs)("div",{className:p.options,children:["login"!==_&&(0,t.jsx)("span",{className:p.toggle,onClick:()=>I("login"),children:" Log In "}),"signup"!==_&&(0,t.jsx)("span",{className:p.toggle,onClick:()=>I("signup"),children:" Sign Up "}),"pwReset"!==_&&(0,t.jsx)("span",{className:p.toggle,onClick:()=>I("pwReset"),children:" Reset Password "})]}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:p.oAuthComment,children:"...or continue with"}),(0,t.jsxs)("div",{className:p.oAuthBlock,children:[(0,t.jsx)("a",{className:p.oAuthLink,href:"/auth/google?returnTo=".concat(x),children:"GOOGLE"}),(0,t.jsx)("a",{className:p.oAuthLink,href:"/auth/github?returnTo=".concat(x),children:"GITHUB"})]})]}),L&&(0,t.jsx)("div",{className:p.error,children:L})]})]})},k=e=>{let{startingState:n="login",immediateRedirect:i,onClose:r}=e,{pathname:a,query:s}=(0,u.useLocation)(),[l,c]=(0,o.useState)("pwReset"===n?"login":"signup"),d=(0,o.useCallback)(e=>{c(e),e||null==r||r()},[r]),p=encodeURIComponent("".concat(a,"?").concat(new URLSearchParams(s).toString()));return i?(window.location.href=({login:"/auth/auth0?returnTo=".concat(p),signup:"/auth/auth0?screen_hint=signup&returnTo=".concat(p)})[n],(0,t.jsx)(g.default,{})):(0,t.jsx)(f.default,{action:l,setAction:d})},w=(0,n.registerComponent)("LoginForm",e=>(0,p.isFriendlyUI)()?(0,t.jsx)(k,{...e}):(0,t.jsx)(x,{...e}),{styles:e=>({root:{wordBreak:"normal",padding:16,marginTop:0,marginBottom:0,width:252},input:{font:"inherit",color:"inherit",display:"block",fontSize:"1.2rem",marginBottom:8,padding:8,backgroundColor:e.palette.panelBackground.darken03,width:"100%"},submit:{font:"inherit",color:"inherit",background:e.palette.grey[200],display:"block",textTransform:"uppercase",width:"100%",height:32,marginTop:16,cursor:"pointer",fontSize:"1rem"},error:{padding:8,color:e.palette.error.main},options:{display:"flex",justifyContent:"space-between",fontSize:"1rem",marginTop:4,padding:4},oAuthBlock:{display:"flex",justifyContent:"space-between","&.ea-forum":{maxWidth:400,justifyContent:"space-around",padding:"8px 20px"}},oAuthComment:{textAlign:"center",fontSize:"0.8em",margin:10},oAuthLink:{color:"".concat(e.palette.text.slightlyDim2," !important"),fontSize:"0.9em",padding:6,textTransform:"uppercase"},primaryBtn:{background:e.palette.primary.main,color:"".concat(e.palette.buttons.primaryDarkText," !important"),fontSize:"0.9em",padding:"6px 12px",textTransform:"uppercase",borderRadius:4},toggle:{cursor:"pointer","&:hover":{color:e.palette.link.dim}}})});e.s(["default",0,w])}]);

//# debugId=f3f2e05f-2671-3f1a-8c0c-33e47343ad28
//# sourceMappingURL=e1f257ae43363e7d.js.map