;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="99484998-60ff-fd9b-1ac3-59e2db02583a")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47687,(e,t,r)=>{"use strict";r.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},n=e.split(o),s=(t||{}).decode||i,a=0;a<n.length;a++){var c=n[a],l=c.indexOf("=");if(!(l<0)){var u=c.substr(0,l).trim(),d=c.substr(++l,c.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==r[u]&&(r[u]=function(e,t){try{return t(e)}catch(t){return e}}(d,s))}}return r},r.serialize=function(e,t,r){var i=r||{},o=i.encode||n;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!s.test(e))throw TypeError("argument name is invalid");var a=o(t);if(a&&!s.test(a))throw TypeError("argument val is invalid");var c=e+"="+a;if(null!=i.maxAge){var l=i.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(i.domain){if(!s.test(i.domain))throw TypeError("option domain is invalid");c+="; Domain="+i.domain}if(i.path){if(!s.test(i.path))throw TypeError("option path is invalid");c+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");c+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(c+="; HttpOnly"),i.secure&&(c+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var i=decodeURIComponent,n=encodeURIComponent,o=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},255265,e=>{"use strict";var t=e.i(47687);function r(e,t){void 0===t&&(t={});var r,i,n=(r=e)&&"j"===r[0]&&":"===r[1]?r.substr(2):r;if(void 0===(i=t.doNotParse)&&(i=!n||"{"!==n[0]&&"["!==n[0]&&'"'!==n[0]),!i)try{return JSON.parse(n)}catch(e){}return e}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=function(){function e(e,r){var i=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies="string"==typeof e?t.parse(e,r):"object"==typeof e&&null!==e?e:{},new Promise(function(){i.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=t.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,i){return void 0===t&&(t={}),this._updateBrowserValues(i),r(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var i={};for(var n in this.cookies)i[n]=r(this.cookies[n],e);return i},e.prototype.set=function(e,r,n){var o;"object"==typeof r&&(r=JSON.stringify(r)),this.cookies=i(i({},this.cookies),((o={})[e]=r,o)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=t.serialize(e,r,n)),this._emitChange({name:e,value:r,options:n})},e.prototype.remove=function(e,r){var n=r=i(i({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=i({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=t.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:r})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();e.s(["default",0,n],255265)},58884,e=>{"use strict";let t=e.i(271645).createContext(null),{Provider:r,Consumer:i}=t;e.s(["Provider",0,r,"default",0,t])},130697,e=>{"use strict";var t=e.i(714818);function r(){try{return"localStorage"in e.g&&e.g.localStorage?e.g.localStorage:null}catch(e){return console.warn("localStorage is unavailable; posts/comments will not be autosaved"),null}}e.s(["getBrowserLocalStorage",()=>r,"getLSHandlers",0,(e,i,n,o)=>{let{id:s,verify:a}=e(i,n),c=o+s;return{get:()=>{let e=r();if(!t.isClient||!e)return null;try{let t=e.getItem(c);if(null===t)return null;return JSON.parse(t)}catch(e){return console.warn("Failed reading from localStorage:"),console.warn(e),null}},set:e=>{let t=r();if(!t)return!1;try{t.setItem(c,JSON.stringify(e))}catch(e){return console.warn("Failed writing to localStorage:"),console.warn(e),!1}return!0},reset:()=>{let e=r();if(e)try{e.removeItem(c)}catch(e){console.warn("Failed writing to localStorage:"),console.warn(e)}}}},"getLSKeyPrefix",0,e=>{switch(e){default:case"draftJS":return"";case"markdown":return"md_";case"html":return"html_";case"ckEditorMarkup":return"ckeditor_"}}])},449403,219105,e=>{"use strict";var t=e.i(255265),r=e.i(345955),i=e.i(714818),n=e.i(552275),o=e.i(130697);let s=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"];function a(){let e,t,r;if(i.isServer)return null;let n=(t=null==(e=(0,o.getBrowserLocalStorage)())?void 0:e.getItem("countryCode"),r=null==e?void 0:e.getItem("countryCodeTimestamp"),t&&r?new Date().getTime()-parseInt(r)>1728e5?(localStorage.removeItem("countryCode"),localStorage.removeItem("countryCodeTimestamp"),null):t:null);return n||null}let c=null;async function l(){let{signal:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i.isServer)return null;let t=a();if(t)return t;if(c)return await c;let r=n.ipApiKeySetting.get(),s=r?"https://ipapi.co/json/?key=".concat(r):"https://ipapi.co/json/";return c=(async()=>{try{let t,r,i=await fetch(s,{signal:e});if(!i.ok)throw Error("Error fetching user country: ".concat(i.statusText));let n=(await i.json()).country;return t=(0,o.getBrowserLocalStorage)(),r=new Date().getTime(),null==t||t.setItem("countryCode",n),null==t||t.setItem("countryCodeTimestamp",r.toString()),n}finally{c=null}})(),await c}function u(){if(!n.hasCookieConsentSetting.get())return!1;if(i.isServer)return"unknown";let e=a();return e?s.includes(e):"unknown"}async function d(){if(!n.hasCookieConsentSetting.get())return!1;if(i.isServer)return"unknown";let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let r=await l({signal:e.signal});if(clearTimeout(t),r)return s.includes(r);return!0}catch(e){return clearTimeout(t),!0}}e.s(["getCachedUserCountryCode",()=>a,"getExplicitConsentRequiredAsync",()=>d,"getExplicitConsentRequiredSync",()=>u],219105);let h={},p=new r.TupleSet(["necessary","functional","analytics"]),m=["necessary"],f=["necessary","functional","analytics"],g=v({name:"cookie_preferences",type:"necessary",description:"Stores the current cookie preferences (set by the user, or automatically if outside a country subject to GDPR)"}),y=v({name:"cookie_consent_timestamp",type:"necessary",description:"Stores the time at which the user set their cookie preferences (once this is set the cookie preferences will never be changed automatically)"}),_=e=>!!e&&e.every(e=>p.has(e));function C(e,t){let r=h[e];if(r)return t.includes(r.type);for(let r in h)if(h[r].matches(e))return t.includes(h[r].type);return console.error("Unknown cookie: ".concat(e,", you must register it with registerCookie")),!1}async function E(){let e=new t.default,r=e.get(g),i=!!e.get(y)&&_(r),n=await d()?m:f;return{cookiePreferences:i?r:n,explicitConsentGiven:i}}function v(e){if(e.name in h&&h[e.name]!==e)throw Error("Two cookies with the same name: ".concat(e.name));return h[e.name]={maxExpires:"24 months",matches:t=>t===e.name,...e},e.name}e.s(["ALL_COOKIES",0,f,"COOKIE_CONSENT_TIMESTAMP_COOKIE",0,y,"COOKIE_PREFERENCES_COOKIE",0,g,"CookiesTable",0,h,"ONLY_NECESSARY_COOKIES",0,m,"getCookiePreferences",()=>E,"isCookieAllowed",()=>C,"isValidCookieTypeArray",0,_,"registerCookie",()=>v],449403)},600723,e=>{"use strict";var t=e.i(449403);let r=(0,t.registerCookie)({name:"clientId",type:"necessary",description:"A unique identifier for this browser"});(0,t.registerCookie)({name:"clientIdUnset",type:"necessary",description:"Whether the client ID is newly assigned"}),(0,t.registerCookie)({name:"loginToken",type:"necessary",description:"The user's login token"});let i=(0,t.registerCookie)({name:"timezone",type:"necessary",description:"Stores the user's timezone"}),n=(0,t.registerCookie)({name:"theme",type:"necessary",description:"Stores the user's theme preferences"});(0,t.registerCookie)({name:"hide_featured_resource",type:"necessary",description:"Controls whether the featured resource banner in the left sidebar is hidden"});let o=(0,t.registerCookie)({name:"show_community_posts_section",type:"necessary",description:"Whether to show the community posts section on the EA Forum home page"}),s=(0,t.registerCookie)({name:"show_quick_takes_section",type:"necessary",description:"Whether to show the quick takes section on the EA Forum home page"}),a=(0,t.registerCookie)({name:"show_quick_takes_community",type:"necessary",description:"Whether to include quick takes tagged with community in the home page quick takes section"}),c=(0,t.registerCookie)({name:"show_popular_comments_section",type:"necessary",description:"Whether to show the popular comments section on the EA Forum home page"});(0,t.registerCookie)({name:"hide_home_handbook",type:"necessary",description:"Whether to hide the EA Handbook on the EA Forum home page"});let l=(0,t.registerCookie)({name:"show_post_podcast_player",type:"necessary",description:"Whether to show the podcast player on a posts pages"}),u=(0,t.registerCookie)({name:"hide_welcome_box",type:"necessary",description:"Controls whether the welcome box on a post page is hidden"});(0,t.registerCookie)({name:"hideMapFromFrontpage",type:"necessary",description:"Stores whether the user has hidden the map from the frontpage."});let d="hide_collection_item_";(0,t.registerCookie)({name:"".concat(d,"[*]"),matches:e=>e.startsWith(d),type:"necessary",description:"Stores whether a collection item has been hidden (for a specific collection item id)"});let h="hide_spotlight_item_";(0,t.registerCookie)({name:"".concat(h,"[*]"),matches:e=>e.startsWith(h),type:"necessary",description:"Stores whether a spotlight item has been hidden (for a specific spotlight item id)"});let p="hide_forum_event_banner_";(0,t.registerCookie)({name:"".concat(p,"[*]"),matches:e=>e.startsWith(p),type:"necessary",description:"Stores whether a forum event banner has been hidden"}),(0,t.registerCookie)({name:"show_recommendations_section",type:"necessary",description:"Controls whether the recommendations ('Classic posts') section on the frontpage is shown or hidden"}),(0,t.registerCookie)({name:"hide_import_eag_profile",type:"necessary",description:"Controls whether the EAG profile import banner is shown or hidden on the edit profile page"});let m=(0,t.registerCookie)({name:"hide_more_from_the_forum_recommendations",type:"necessary",description:'Don\'t show the "More from the forum" recommendations section'}),f=(0,t.registerCookie)({name:"hide_new_post_how_to_guide",type:"necessary",description:"Don't show the how-to guide on the new post page"});(0,t.registerCookie)({name:"hide_2021_book_banner",type:"necessary",description:"Don't show the 2021 book banner"});let g=(0,t.registerCookie)({name:"last_visited_frontpage",type:"functional",description:"Stores the date of the user's last visit to the frontpage"}),y=(0,t.registerCookie)({name:"admin_recombee_settings",type:"functional",description:"Stores recombee settings for admins experimenting with latest posts"}),_=(0,t.registerCookie)({name:"new_posts_list_view_toggle",type:"necessary",description:'Tracks whether or not to show the "NEW" flag on the posts list view toggle'}),C=(0,t.registerCookie)({name:"posts_list_view_type",type:"necessary",description:"Whether to display post lists as list items or card items"}),E=(0,t.registerCookie)({name:"hide_subscribed_feed_suggested_users",type:"necessary",description:"Whether to hide the suggested users section on the subscribed tab feed"}),v=(0,t.registerCookie)({name:"hide_survey_schedule_ids",type:"necessary",description:"Stores the ids of survey schedules that the user has hidden"}),S=(0,t.registerCookie)({name:"selected_frontpage_tab",type:"functional",description:"Stores the selected tab for logged out users"}),k=(0,t.registerCookie)({name:"hide_eag_banner",type:"necessary",description:"Don't show any EAG(x) banners"});(0,t.registerCookie)({name:"hide_ea_forum_survey_banner",type:"necessary",description:"Don't show the EA Forum survey banner"});let w="nav_menu_flag_";(0,t.registerCookie)({name:"".concat(w,"[*]"),matches:e=>e.startsWith(w),type:"necessary",description:"Whether or not to show particular flags in the main navigation menu"});let O=(0,t.registerCookie)({name:"llm_chat_conversation_open",type:"functional",description:"Whether the LLM chat conversation UI is open"}),b=(0,t.registerCookie)({name:"llm_chat_guide_open",type:"functional",description:"Whether the LLM chat guide is open"});(0,t.registerCookie)({name:"llm_chat_expanded",type:"functional",description:"Whether the LLM chat has expanded size"}),(0,t.registerCookie)({name:"ultra_feed_enabled",type:"functional",description:"Whether the ultra feed mode is enabled, which hides QuickTakes and Popular Comments"}),(0,t.registerCookie)({name:"ultra_feed_page_visited",type:"functional",description:"Whether the user has ever visited the ultra feed page"});let I=(0,t.registerCookie)({name:"ultra_feed_active_tab",type:"functional",description:"Stores the last active UltraFeed tab"}),T=(0,t.registerCookie)({name:"pinnedGlossary",type:"functional",description:"Whether the glossary is pinned"}),x=(0,t.registerCookie)({name:"hide_solstice_globe",type:"necessary",description:"Whether the solstice season globe is hidden and replaced with a map"});(0,t.registerCookie)({name:"no_admin_next_redirect",type:"functional",description:"If set, admins won't be redirected to the baserates-prod-test.vercel.app domain"});let P=(0,t.registerCookie)({name:"hide_fundraiser_banner_2026",type:"necessary",description:"Whether the 2026 fundraiser banner has been dismissed"});(0,t.registerCookie)({name:"intercom-session-[*]",matches:e=>e.startsWith("intercom-session-"),type:"functional",thirdPartyName:"Intercom",description:"Session cookie used by Intercom"}),(0,t.registerCookie)({name:"intercom-id-[*]",matches:e=>e.startsWith("intercom-id-"),type:"functional",thirdPartyName:"Intercom",description:"ID cookie used by Intercom"}),(0,t.registerCookie)({name:"intercom-device-id-[*]",matches:e=>e.startsWith("intercom-id-"),type:"functional",thirdPartyName:"Intercom",description:"Device ID cookie used by Intercom"}),(0,t.registerCookie)({name:"intercom-[*]",matches:e=>e.startsWith("intercom-"),type:"functional",thirdPartyName:"Intercom",description:"Miscellaneous cookies which may be set by Intercom"}),(0,t.registerCookie)({name:"dd_cookie_test_",type:"analytics",thirdPartyName:"Datadog",description:"Cookie used by Datadog to test if cookies are enabled"}),(0,t.registerCookie)({name:"_dd_s",type:"analytics",thirdPartyName:"Datadog",description:"Main cookie used by datadog to track sessions"}),(0,t.registerCookie)({name:"_hjTLDTest",type:"functional",thirdPartyName:"Hotjar",description:"When the Hotjar script executes we try to determine the most generic cookie path we should use, instead of the page hostname. This is done so that cookies can be shared across subdomains (where applicable). To determine this, we try to store the _hjTLDTest cookie for different URL substring alternatives until it fails. After this check, the cookie is removed."}),(0,t.registerCookie)({name:"_hjSessionUser_[*]",matches:e=>e.startsWith("_hjSessionUser_"),type:"functional",thirdPartyName:"Hotjar",description:"Hotjar cookie that is set when a user first lands on a page with the Hotjar script. It is used to persist the Hotjar User ID, unique to that site on the browser. This ensures that behavior in subsequent visits to the same site will be attributed to the same user ID."}),(0,t.registerCookie)({name:"_hjIncludedInSessionSample_[*]",matches:e=>e.startsWith("_hjIncludedInSessionSample_"),type:"functional",thirdPartyName:"Hotjar",description:"Whether the current user is included in the session sample."}),(0,t.registerCookie)({name:"_hjFirstSeen",type:"functional",thirdPartyName:"Hotjar",description:"Identifies a new user's first session on a website, indicating whether or not Hotjar's seeing this user for the first time."}),(0,t.registerCookie)({name:"_hjAbsoluteSessionInProgress",type:"functional",thirdPartyName:"Hotjar",description:"This cookie is used by HotJar to detect the first pageview session of a user. This is a True/False flag set by the cookie."}),(0,t.registerCookie)({name:"_gid",type:"analytics",thirdPartyName:"Google",description:"This cookie name is associated with Google Universal Analytics. This appears to be a new cookie and as of Spring 2017 no information is available from Google. It appears to store and update a unique value for each page visited."}),(0,t.registerCookie)({name:"_ga",type:"analytics",thirdPartyName:"Google",description:"This cookie name is associated with Google Universal Analytics. This cookie is used to distinguish unique users by assigning a randomly generated number as a client identifier."}),(0,t.registerCookie)({name:"_dc_gtm_UA[*]",matches:e=>e.startsWith("_dc_gtm_UA"),type:"analytics",thirdPartyName:"Google",description:"Used by Google Tag Manager to control the loading of a Google Analytics script tag."}),(0,t.registerCookie)({name:"__Host-GAPS",type:"necessary",thirdPartyName:"Google",description:"This cookie name is associated with Google. It is set by Google to identify the user and is used in support of the Google Identity application."}),(0,t.registerCookie)({name:"(various)",type:"analytics",thirdPartyName:"Google ReCaptcha",description:"Google ReCaptcha may set a number of cookies under the 'google.com' domain in order to check for suspicious activity. The full list of known possible cookies are: __Secure-3PSIDCC, __Secure-1PSIDCC, SIDCC, __Secure-3PAPISID, SSID, __Secure-1PAPISID, HSID, __Secure-3PSID, __Secure-1PSID, SID, SAPISID, APISID, NID, OTZ, 1P_JAR, AEC, DV, __Secure-ENID"}),e.s(["CLIENT_ID_COOKIE",0,r,"HIDE_COLLECTION_ITEM_PREFIX",0,d,"HIDE_EAG_BANNER_COOKIE",0,k,"HIDE_FUNDRAISER_BANNER_COOKIE",0,P,"HIDE_LLM_CHAT_GUIDE_COOKIE",0,b,"HIDE_MORE_FROM_THE_FORUM_RECOMMENDATIONS_COOKIE",0,m,"HIDE_NEW_POST_HOW_TO_GUIDE_COOKIE",0,f,"HIDE_SOLSTICE_GLOBE_COOKIE",0,x,"HIDE_SPOTLIGHT_ITEM_PREFIX",0,h,"HIDE_SUBSCRIBED_FEED_SUGGESTED_USERS",0,E,"HIDE_SURVEY_SCHEDULE_IDS",0,v,"HIDE_WELCOME_BOX_COOKIE",0,u,"LAST_VISITED_FRONTPAGE_COOKIE",0,g,"NAV_MENU_FLAG_COOKIE_PREFIX",0,w,"NEW_POSTS_LIST_VIEW_TOGGLE_COOKIE",0,_,"PINNED_GLOSSARY_COOKIE",0,T,"POSTS_LIST_VIEW_TYPE_COOKIE",0,C,"RECOMBEE_SETTINGS_COOKIE",0,y,"SELECTED_FRONTPAGE_TAB_COOKIE",0,S,"SHOW_COMMUNITY_POSTS_SECTION_COOKIE",0,o,"SHOW_LLM_CHAT_COOKIE",0,O,"SHOW_PODCAST_PLAYER_COOKIE",0,l,"SHOW_POPULAR_COMMENTS_SECTION_COOKIE",0,c,"SHOW_QUICK_TAKES_SECTION_COMMUNITY_COOKIE",0,a,"SHOW_QUICK_TAKES_SECTION_COOKIE",0,s,"THEME_COOKIE",0,n,"TIMEZONE_COOKIE",0,i,"ULTRA_FEED_ACTIVE_TAB_COOKIE",0,I])},387424,e=>{"use strict";var t=e.i(271645),r=e.i(58884),i=e.i(898892);function n(e,n){let o=(0,t.useContext)(r.default);if(!o)throw Error("Missing <CookiesProvider>");let s={doNotUpdate:!0,...n},[a,c]=(0,t.useState)(()=>o.getAll(s));return void 0!==window.document&&void 0!==window.document.createElement&&(0,t.useLayoutEffect)(()=>{function t(){if(!o)throw Error("Missing <CookiesProvider>");let t=o.getAll(s);(function(e,t,r){if(!e)return!0;for(let n of e)if(!(0,i.default)(t[n],r[n]))return!0;return!1})(e||null,t,a)&&c(t)}return o.addChangeListener(t),()=>{o.removeChangeListener(t)}},[o,a]),[a,(0,t.useMemo)(()=>o.set.bind(o),[o]),(0,t.useMemo)(()=>o.remove.bind(o),[o])]}e.s(["default",()=>n],387424)},89458,e=>{"use strict";e.s(["backgroundTask",0,e=>{}])},338552,413540,e=>{"use strict";var t=e.i(387424),r=e.i(449403),i=e.i(271645),n=e.i(255265),o=e.i(714818),s=e.i(552275);o.isAnyTest||(window.onReCaptchaLoaded=function(){window.recaptchaLoaded=!0});let a=!1;async function c(){if(o.isServer||a)return;let{cookiePreferences:e}=await (0,r.getCookiePreferences)();if(!e.includes("analytics"))return void console.log("Not initializing ReCaptcha because analytics cookies are not allowed");let t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js?onload=onReCaptchaLoaded&render=".concat(s.reCaptchaSiteKeySetting.get()),document.body.appendChild(t),a=!0}e.s(["initReCaptcha",()=>c],413540);var l=e.i(89458);function u(e){let{cookiePreferences:t,explicitlyChanged:i}=e;(0,l.backgroundTask)(c());let o=window.dataLayer;if(o?o.push({event:"cookie_preferences_changed"}):console.warn("Trying to call gtag before dataLayer has been initialized"),!i||JSON.stringify(t)===JSON.stringify(r.ALL_COOKIES))return;let s=new n.default;for(let e in console.log("Removing cookies that are not allowed"),s.getAll())(0,r.isCookieAllowed)(e,t)||s.remove(e)}var d=e.i(219105),h=e.i(161517),p=e.i(166540);let m=null;function f(){let{captureEvent:e}=(0,h.useTracking)(),[n,o]=(0,i.useState)((0,d.getExplicitConsentRequiredSync)()),[a,c]=(0,t.default)([r.COOKIE_PREFERENCES_COOKIE,r.COOKIE_CONSENT_TIMESTAMP_COOKIE]),l=a[r.COOKIE_PREFERENCES_COOKIE],f=!!a[r.COOKIE_CONSENT_TIMESTAMP_COOKIE]&&(0,r.isValidCookieTypeArray)(l),g=(0,i.useMemo)(()=>!1!==n?r.ONLY_NECESSARY_COOKIES:r.ALL_COOKIES,[n]),y=f?l:g;return(0,i.useEffect)(()=>{"unknown"===n&&(async()=>{o(await (0,d.getExplicitConsentRequiredAsync)())})()},[n]),(0,i.useEffect)(()=>{s.disableCookiePreferenceAutoUpdateSetting.get()||(null===m||(0,p.default)().diff(m,"seconds")>30)&&"unknown"!==n&&!f&&JSON.stringify(g)!==JSON.stringify(l)&&(m=new Date,c(r.COOKIE_PREFERENCES_COOKIE,y,{path:"/",expires:(0,p.default)().add(2,"years").toDate()}),u({cookiePreferences:y,explicitlyChanged:!1}))},[n,JSON.stringify(y),JSON.stringify(l),c]),{cookiePreferences:y,updateCookiePreferences:(0,i.useCallback)(t=>{e("cookiePreferencesUpdated",{cookiePreferences:t}),c(r.COOKIE_CONSENT_TIMESTAMP_COOKIE,new Date,{path:"/",expires:(0,p.default)().add(2,"years").toDate()}),c(r.COOKIE_PREFERENCES_COOKIE,t,{path:"/",expires:(0,p.default)().add(2,"years").toDate()}),u({cookiePreferences:t,explicitlyChanged:!0})},[e,c]),explicitConsentGiven:f,explicitConsentRequired:n}}function g(e){let{cookiePreferences:n}=f(),[o,s,a]=(0,t.default)(e);return[o,(0,i.useCallback)((e,t,i)=>{(0,r.isCookieAllowed)(e,n)?s(e,t,i):console.warn('Consent has not been granted for cookie "'.concat(e,'" to be set'))},[JSON.stringify(n),s]),a]}e.s(["useCookiePreferences",()=>f,"useCookiesWithConsent",()=>g],338552)},566936,(e,t,r)=>{"use strict";function i(e,t){var r=e.length;for(e.push(t);0<r;){var i=r-1>>>1,n=e[i];if(0<s(n,t))e[i]=t,e[r]=n,r=i;else break}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var i=0,n=e.length,o=n>>>1;i<o;){var a=2*(i+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,r))l<n&&0>s(u,c)?(e[i]=u,e[l]=r,i=l):(e[i]=c,e[a]=r,i=a);else if(l<n&&0>s(u,r))e[i]=u,e[l]=r,i=l;else break}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(r.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a,c=performance;r.unstable_now=function(){return c.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,m=null,f=3,g=!1,y=!1,_=!1,C=!1,E="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,S="undefined"!=typeof setImmediate?setImmediate:null;function k(e){for(var t=n(h);null!==t;){if(null===t.callback)o(h);else if(t.startTime<=e)o(h),t.sortIndex=t.expirationTime,i(d,t);else break;t=n(h)}}function w(e){if(_=!1,k(e),!y)if(null!==n(d))y=!0,O||(O=!0,a());else{var t=n(h);null!==t&&L(w,t.startTime-e)}}var O=!1,b=-1,I=5,T=-1;function x(){return!!C||!(r.unstable_now()-T<I)}function P(){if(C=!1,O){var e=r.unstable_now();T=e;var t=!0;try{e:{y=!1,_&&(_=!1,v(b),b=-1),g=!0;var i=f;try{t:{for(k(e),m=n(d);null!==m&&!(m.expirationTime>e&&x());){var s=m.callback;if("function"==typeof s){m.callback=null,f=m.priorityLevel;var c=s(m.expirationTime<=e);if(e=r.unstable_now(),"function"==typeof c){m.callback=c,k(e),t=!0;break t}m===n(d)&&o(d),k(e)}else o(d);m=n(d)}if(null!==m)t=!0;else{var l=n(h);null!==l&&L(w,l.startTime-e),t=!1}}break e}finally{m=null,f=i,g=!1}}}finally{t?a():O=!1}}}if("function"==typeof S)a=function(){S(P)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=P,a=function(){N.postMessage(null)}}else a=function(){E(P,0)};function L(e,t){b=E(function(){e(r.unstable_now())},t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(e){e.callback=null},r.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},r.unstable_scheduleCallback=function(e,t,o){var s=r.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=0x3fffffff;break;case 4:c=1e4;break;default:c=5e3}return c=o+c,e={id:p++,callback:t,priorityLevel:e,startTime:o,expirationTime:c,sortIndex:-1},o>s?(e.sortIndex=o,i(h,e),null===n(d)&&e===n(h)&&(_?(v(b),b=-1):_=!0,L(w,o-s))):(e.sortIndex=c,i(d,e),y||g||(y=!0,O||(O=!0,a()))),e},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},189499,(e,t,r)=>{"use strict";t.exports=e.r(566936)},927013,(e,t,r)=>{t.exports={space:"",cycles:!1,replacer:(e,t)=>t,stringify:JSON.stringify}},77002,(e,t,r)=>{"use strict";t.exports={isArray:Array.isArray,assign:Object.assign,isObject:e=>"object"==typeof e,isFunction:e=>"function"==typeof e,isBoolean:e=>"boolean"==typeof e,isRegex:e=>e instanceof RegExp,keys:Object.keys}},283343,(e,t,r)=>{"use strict";let i=e.r(927013),n=e.r(77002).isFunction,o=e.r(77002).isBoolean,s=e.r(77002).isObject,a=e.r(77002).isArray,c=e.r(77002).isRegex,l=e.r(77002).assign,u=e.r(77002).keys;t.exports=function(e,t){var r;n(t=t||l({},i))&&(t={compare:t});let d=t.space||i.space,h=o(t.cycles)?t.cycles:i.cycles,p=t.replacer||i.replacer,m=t.stringify||i.stringify,f=t.compare&&(r=t.compare,function(e){return function(t,i){return r({key:t,value:e[t]},{key:i,value:e[i]})}});h||m(e);let g=[];return function e(t,r,i,n){var o;let l=d?"\n"+Array(n+1).join(d):"",y=d?": ":":";if(i=null==(o=i)?o:c(o)?o.toString():o.toJSON?o.toJSON():o,void 0!==(i=p.call(t,r,i))){if(!s(i)||null===i)return m(i);if(a(i)){let t=[];for(let r=0;r<i.length;r++){let o=e(i,r,i[r],n+1)||m(null);t.push(l+d+o)}return"["+t.join(",")+l+"]"}{if(h)if(-1!==g.indexOf(i))return m("[Circular]");else g.push(i);let t=u(i).sort(f&&f(i)),r=[];for(let o=0;o<t.length;o++){let s=t[o],a=e(i,s,i[s],n+1);if(!a)continue;let c=m(s)+y+a;r.push(l+d+c)}return g.splice(g.indexOf(i),1),"{"+r.join(",")+l+"}"}}}({"":e},"",e,0)}},618566,(e,t,r)=>{t.exports=e.r(976562)},420616,920347,704479,993808,e=>{"use strict";var t=e.i(843476),r=e.i(271645);e.i(167225);var i=e.i(189499);let n=Symbol(),o=Symbol(),s="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,a=i.unstable_runWithPriority?e=>{try{(0,i.unstable_runWithPriority)(i.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e();function c(e){var t;let i=(0,r.createContext)({[n]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return i[o]=i.Provider,t=i.Provider,i.Provider=e=>{let{value:i,children:o}=e,c=(0,r.useRef)(i),l=(0,r.useRef)(0),[u,d]=(0,r.useState)(null);u&&(u(i),d(null));let h=(0,r.useRef)();if(!h.current){let e=new Set;h.current={[n]:{v:c,n:l,l:e,u:(t,r)=>{l.current+=1;let i={n:l.current};(null==r?void 0:r.suspense)&&(i.n*=-1,i.p=new Promise(e=>{d(()=>t=>{i.v=t,delete i.p,e(t)})})),e.forEach(e=>e(i)),t()}}}}return s(()=>{c.current=i,l.current+=1,a(()=>{h.current[n].l.forEach(e=>{e({n:l.current,v:i})})})},[i]),(0,r.createElement)(t,{value:h.current},o)},delete i.Consumer,i}function l(e,t){let{v:{current:i},n:{current:o},l:a}=(0,r.useContext)(e)[n],c=t(i),[l,u]=(0,r.useReducer)((e,r)=>{if(!r)return[i,c];if("p"in r)throw r.p;if(r.n===o)return Object.is(e[1],c)?e:[i,c];try{if("v"in r){if(Object.is(e[0],r.v))return e;let i=t(r.v);if(Object.is(e[1],i))return e;return[r.v,i]}}catch(e){}return[...e]},[i,c]);return Object.is(l[1],c)||u(),s(()=>(a.add(u),()=>{a.delete(u)}),[a]),l[1]}e.s(["createContext",()=>c,"useContextSelector",()=>l],920347);let u=(0,r.createContext)(null),d=c(null),h=(0,r.createContext)(null),p=r.default.createContext({autosaveEditorState:null,setAutosaveEditorState:e=>{}}),m=(0,r.createContext)({disableNoKibitz:!1,setDisableNoKibitz:()=>{}}),f=r.default.createContext({});e.s(["ABTestGroupsUsedContext",0,f,"AutosaveEditorStateContext",0,p,"AutosaveEditorStateContextProvider",0,e=>{let{children:i}=e,[n,o]=(0,r.useState)(null),s=(0,r.useMemo)(()=>({autosaveEditorState:n,setAutosaveEditorState:o}),[n,o]);return(0,t.jsx)(p.Provider,{value:s,children:i})},"DisableNoKibitzContext",0,m,"DisableNoKibitzContextProvider",0,e=>{let{children:i}=e,[n,o]=(0,r.useState)(!1),s=(0,r.useMemo)(()=>({disableNoKibitz:n,setDisableNoKibitz:o}),[n,o]);return(0,t.jsx)(m.Provider,{value:s,children:i})},"DynamicTableOfContentsContext",0,h,"TimezoneContext",0,u,"UserContext",0,d],420616);var g=e.i(946271),y=e.i(190972),_=e.i(276320);e.i(813868);let C=(0,e.i(122756).gql)("\n  query getCurrentUser {\n    currentUser {\n      ...UsersCurrent\n    }\n  }\n"),E=()=>{var e;let t=(0,_.useApolloClient)(),{data:r,refetch:i,loading:n}=(0,g.useQuery)(C,{fetchPolicy:"cache-first",ssr:!0});return{currentUser:null!=(e=null==r?void 0:r.currentUser)?e:null,refetchCurrentUser:async()=>{t.prioritizeCacheValues=!1,await i()},currentUserLoading:n}};(0,y.hookToHoc)(E),e.s(["useQueryCurrentUser",0,E],704479);var v=e.i(798908),S=e.i(714818);e.s(["browserProperties",0,()=>{var e,t,r,i,n;if(!S.isClient)return{};let o=(null==(t=window)||null==(e=t.navigator)?void 0:e.userAgent)?{userAgent:null==(i=window)||null==(r=i.navigator)?void 0:r.userAgent,mobile:v.default.mobile,tablet:v.default.tablet,chrome:v.default.chrome,firefox:v.default.firefox,safari:v.default.safari,osname:v.default.osname}:{},s=window,a=s?{blocksGA:!(null==(n=s.ga)?void 0:n.create),blocksGTM:!s.google_tag_manager}:{};return{...o,...a}}],993808)},530841,e=>{"use strict";e.s(["UserContextProvider",()=>g,"useCurrentUser",()=>y,"useCurrentUserId",()=>E,"useCurrentUserLoading",()=>v,"useFilteredCurrentUser",()=>_,"useGetCurrentUser",()=>C,"useRefetchCurrentUser",()=>k],530841);var t=e.i(843476),r=e.i(271645),i=e.i(920347),n=e.i(420616),o=e.i(704479),s=e.i(161517),a=e.i(993808),c=e.i(421579),l=e.i(820010),u=e.i(424935);function d(e){var t;let r,i;(r=(0,u.getSentry)())&&r.getIsolationScope().setUser(e?{id:e._id,email:(0,l.getUserEmail)(e),username:null!=(t=e.username)?t:void 0}:null),(i=window.dataLayer)?i.push({userId:e?e._id:null}):console.warn("Trying to call gtag before dataLayer has been initialized")}window.addEventListener("load",e=>{var t,r,i,n,o,l,u,d;let h=new URLSearchParams(null==(t=document.location)?void 0:t.search),p={url:null==(r=document.location)?void 0:r.href,referrer:document.referrer,utmSource:h.get("utm_source"),utmMedium:h.get("utm_medium"),utmCampaign:h.get("utm_campaign"),utmContent:h.get("utm_content"),utmTerm:h.get("utm_term"),utmUserId:h.get("utm_user_id"),browserProps:(0,a.browserProperties)(),prefersDarkMode:(0,c.devicePrefersDarkMode)(),performance:{memory:null==(n=window.performance)||null==(i=n.memory)?void 0:i.usedJSHeapSize,timeOrigin:null==(o=window.performance)?void 0:o.timeOrigin,timing:null==(d=window.performance)||null==(u=d.timing)||null==(l=u.toJSON)?void 0:l.call(u)}};(0,s.captureEvent)("pageLoadFinished",p)});var h=e.i(552275),p=e.i(166540);let m=(0,r.createContext)(()=>null),f=(0,r.createContext)(!1),g=e=>{let{children:i}=e,{currentUser:s,refetchCurrentUser:a,currentUserLoading:c}=(0,o.useQueryCurrentUser)(),l=h.localeSetting.get();(0,r.useEffect)(()=>{d(s),p.default.locale(l)},[s,l]),(0,r.useEffect)(()=>{d(s)},[null==s?void 0:s._id]);let u=(0,r.useRef)(s);u.current=s;let g=(0,r.useCallback)(()=>u.current,[]);return(0,t.jsx)(S.Provider,{value:a,children:(0,t.jsx)(f.Provider,{value:c,children:(0,t.jsx)(n.UserContext.Provider,{value:s,children:(0,t.jsx)(m.Provider,{value:g,children:i})})})})},y=()=>(0,i.useContextSelector)(n.UserContext,e=>e);function _(e){return(0,i.useContextSelector)(n.UserContext,e)}let C=()=>(0,r.useContext)(m),E=()=>_(e=>null==e?void 0:e._id),v=()=>(0,r.useContext)(f),S=(0,r.createContext)(async()=>{}),k=()=>(0,r.useContext)(S)},421579,e=>{"use strict";e.s(["ThemeContextProvider",()=>y,"devicePrefersDarkMode",()=>k]);var t=e.i(843476),r=e.i(271645),i=e.i(791434),n=e.i(146764),o=e.i(166540);e.i(552275);var s=e.i(935132),a=e.i(600723),c=e.i(338552),l=e.i(283343),u=e.i(289078),d=e.i(714818),h=e.i(161517),p=e.i(79732),m=e.i(618566),f=e.i(429329),g=e.i(530841);let y=e=>{let{children:h}=e,[m,f,y]=(0,c.useCookiesWithConsent)([a.THEME_COOKIE]),v=m[a.THEME_COOKIE],k=(0,g.useCurrentUser)(),w=(0,n.getThemeOptions)(v,k),[O,b]=(0,r.useState)(w),I=S();(0,r.useEffect)(()=>{(0,s.isEAForum)()?y(a.THEME_COOKIE,{path:"/"}):(0,l.default)(O)!==v&&f(a.THEME_COOKIE,(0,l.default)(O),{path:"/",expires:(0,o.default)().add(2,"years").toDate()})},[O,v,f,y]);let T=(0,n.abstractThemeToConcrete)(O,I),x=(0,r.useMemo)(()=>(0,i.getForumTheme)(T),[T]),P=(0,r.useMemo)(()=>({theme:x,abstractThemeOptions:O,concreteThemeOptions:T,setThemeOptions:b}),[x,O,T,b]),[A]=(0,r.useState)(()=>(0,p.createStylesContext)(x,O));return(0,t.jsx)(u.ThemeContext.Provider,{value:P,children:(0,t.jsxs)(_,{stylesContext:A,children:[d.isClient&&(0,t.jsx)(C,{}),d.isServer&&(0,t.jsx)(E,{}),h]})})},_=e=>{let{stylesContext:r,children:i}=e;return d.isClient&&(0,f.setClientMountedStyles)(r),(0,t.jsx)(p.StylesContext.Provider,{value:r,children:i})},C=()=>{let e=(0,r.useContext)(u.ThemeContext),t=(0,r.useContext)(p.StylesContext),i=e.abstractThemeOptions;return(0,r.useLayoutEffect)(()=>{var r;(0,l.default)(i)!==(0,l.default)(window.themeOptions)&&(window.themeOptions=i,r=i.name,document.body.classList.remove("theme-default"),document.body.classList.remove("theme-auto"),document.body.classList.remove("theme-dark"),document.body.classList.add("theme-"+r),(0,p.regeneratePageStyles)(e,t))},[i,e,t]),null},E=()=>{let e=(0,r.useContext)(p.StylesContext),i=(0,r.useContext)(u.ThemeContext);return(0,m.useServerInsertedHTML)(()=>{if(e.stylesAwaitingServerInjection.length>0){let r=(0,p.serverEmbeddedStyles)(i.abstractThemeOptions,e.stylesAwaitingServerInjection);return e.stylesAwaitingServerInjection=[],(0,t.jsx)("script",{dangerouslySetInnerHTML:{__html:r}})}return null}),null},v=()=>d.isClient&&"matchMedia"in window?window.matchMedia("(prefers-color-scheme: dark)"):{matches:!1,addEventListener:()=>{},removeEventListener:()=>{}},S=()=>{let[e]=(0,r.useState)(()=>v()),[t,i]=(0,r.useState)(e.matches),{captureEvent:n}=(0,h.useTracking)();return(0,r.useEffect)(()=>{let t=e=>{let{matches:t}=e;i(t),n("prefersDarkModeChange",{prefersDarkMode:t})};if(e.addEventListener)return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[e,n]),t},k=()=>{var e;let t=v();return null!=(e=null==t?void 0:t.matches)&&e}}]);

//# debugId=99484998-60ff-fd9b-1ac3-59e2db02583a
//# sourceMappingURL=bbe1f1a6811c7b56.js.map