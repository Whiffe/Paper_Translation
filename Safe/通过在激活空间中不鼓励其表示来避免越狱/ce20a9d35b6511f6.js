;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="817b9f0b-02a3-2480-d562-933cb3317cbd")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,770189,(e,t,n)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},366278,(e,t,n)=>{"use strict";var a=e.r(770189);function i(){}function r(){}r.resetWarningCache=i,t.exports=function(){function e(e,t,n,i,r,o){if(o!==a){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},131052,(e,t,n)=>{t.exports=e.r(366278)()},4623,(e,t,n)=>{t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},612418,(e,t,n)=>{var a=e.r(4623);t.exports=function e(t,n,i){if(a(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp){var o,s,l=n,u=t.source.match(/\((?!\?)/g);if(u)for(var p=0;p<u.length;p++)l.push({name:p,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return t.keys=l,t}if(a(t)){for(var h,m=n,f=i,g=[],y=0;y<t.length;y++)g.push(e(t[y],m,f).source);return(h=RegExp("(?:"+g.join("|")+")",c(f))).keys=m,h}return o=n,d(r(t,s=i),o,s)},t.exports.parse=r,t.exports.compile=function(e,t){return s(r(e,t),t)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=d;var i=RegExp("(\\\\.)|([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))","g");function r(e,t){for(var n,a=[],r=0,o=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d,u,p=n[0],h=n[1],m=n.index;if(s+=e.slice(o,m),o=m+p.length,h){s+=h[1];continue}var f=e[o],g=n[2],y=n[3],v=n[4],b=n[5],x=n[6],w=n[7];s&&(a.push(s),s="");var N=null!=g&&null!=f&&f!==g,C="+"===x||"*"===x,k="?"===x||"*"===x,S=g||c,E=v||b,I=g||("string"==typeof a[a.length-1]?a[a.length-1]:"");a.push({name:y||r++,prefix:g||"",delimiter:S,optional:k,repeat:C,partial:N,asterisk:!!w,pattern:E?E.replace(/([=!:$\/()])/g,"\\$1"):w?".*":(d=S,!(u=I)||u.indexOf(d)>-1?"[^"+l(d)+"]+?":l(u)+"|(?:(?!"+l(u)+")[^"+l(d)+"])+?")})}return o<e.length&&(s+=e.substr(o)),s&&a.push(s),a}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e,t){for(var n=Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=RegExp("^(?:"+e[i].pattern+")$",c(t)));return function(t,i){for(var r="",s=t||{},l=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var d,u=e[c];if("string"==typeof u){r+=u;continue}var p=s[u.name];if(null==p)if(u.optional){u.partial&&(r+=u.prefix);continue}else throw TypeError('Expected "'+u.name+'" to be defined');if(a(p)){if(!u.repeat)throw TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length)if(u.optional)continue;else throw TypeError('Expected "'+u.name+'" to not be empty');for(var h=0;h<p.length;h++){if(d=l(p[h]),!n[c].test(d))throw TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");r+=(0===h?u.prefix:u.delimiter)+d}continue}if(d=u.asterisk?encodeURI(p).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):l(p),!n[c].test(d))throw TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');r+=u.prefix+d}return r}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e&&e.sensitive?"":"i"}function d(e,t,n){a(t)||(n=t||n,t=[]);for(var i,r=(n=n||{}).strict,o=!1!==n.end,s="",d=0;d<e.length;d++){var u=e[d];if("string"==typeof u)s+=l(u);else{var p=l(u.prefix),h="(?:"+u.pattern+")";t.push(u),u.repeat&&(h+="(?:"+p+h+")*"),s+=h=u.optional?u.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")"}}var m=l(n.delimiter||"/"),f=s.slice(-m.length)===m;return r||(s=(f?s.slice(0,-m.length):s)+"(?:"+m+"(?=$))?"),o?s+="$":s+=r&&f?"":"(?="+m+"|$)",(i=RegExp("^"+s,c(n))).keys=t,i}},695062,e=>{"use strict";var t=e.i(271645);e.s(["useEffectOnce",0,e=>{(0,t.useEffect)(e,[])}])},4170,(e,t,n)=>{window.requestIdleCallback||(window.requestIdleCallback=function(e,t){let n=t||{};var a=n.timeout||1,i=performance.now();return setTimeout(function(){e({get didTimeout(){return!n.timeout&&performance.now()-i-1>a},timeRemaining:function(){return Math.max(0,1+(performance.now()-i))}})},1)}),window.cancelIdleCallback||(window.cancelIdleCallback=function(e){clearTimeout(e)})},74329,e=>{"use strict";let t;var n,a,i,r,o,s,l,c=e.i(843476);(0,e.i(541622).setPublicSettings)(window.publicSettings);var d=e.i(271645),u=e.i(255265),p=e.i(58884);let h=e=>{let t=d.useMemo(()=>e.cookies?e.cookies:new u.default(void 0),[e.cookies]);return(0,c.jsx)(p.Provider,{value:t,children:e.children})};var m=e.i(420616),f=e.i(70796),g=e.i(421579),y=e.i(710336),v=e.i(166266),b=e.i(144437);e.i(793794);var x=e.i(527633),w=e.i(343794),N=e.i(79732),C=e.i(429329);let k=(0,C.defineStyles)("MuiSnackbar",e=>({root:{zIndex:e.zIndexes.snackbar,position:"fixed",display:"flex",left:0,right:0,justifyContent:"center",alignItems:"center",bottom:0},snackbar:{transition:"transform .4s ease-in-out",bottom:0,[e.breakpoints.up("md")]:{left:"50%",right:"auto"}},enter:{transform:"translateY(0)",[e.breakpoints.up("md")]:{transform:"translateY(0)"}},exit:{transform:"translateY(50px)",[e.breakpoints.up("md")]:{transform:"translateY(50px)"}}})),S=e=>{let t=(0,N.useStyles)(k),{children:n,className:a,open:i}=e;return(0,c.jsx)("div",{className:t.root,children:(0,c.jsx)("div",{className:(0,w.default)(t.snackbar,i?t.enter:t.exit,a),children:n})})};var E=e.i(444098),I=e.i(716512);let T=(0,C.defineStyles)("FlashMessages",e=>({root:{},paper:{backgroundColor:e.palette.panelBackground.default,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 24px",[e.breakpoints.up("md")]:{minWidth:288,maxWidth:568,borderRadius:4},[e.breakpoints.down("sm")]:{flexGrow:1}},message:{padding:"8px 0",color:e.palette.text.maxIntensity,fontFamily:e.isFriendlyUI?e.palette.fonts.sansSerifStack:void 0},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:24,marginRight:-8}})),j=d.default.createContext(null),_=e=>{let{children:t}=e,[n,a]=(0,d.useState)(()=>({messages:[],expiryTimer:null,animationState:"closed"})),i=(0,d.useCallback)(()=>{a(e=>(e.expiryTimer&&clearTimeout(e.expiryTimer),"closing"===e.animationState)?{messages:[],expiryTimer:null,animationState:"closed"}:{messages:e.messages,expiryTimer:setTimeout(i,500),animationState:"closing"})},[]),r=(0,d.useCallback)(e=>{a(t=>(t.expiryTimer&&clearTimeout(t.expiryTimer),{messages:[...t.messages,e],expiryTimer:setTimeout(i,6e3),animationState:"closed"===t.animationState?"opening":"open"}))},[i]),o=(0,d.useCallback)(()=>{a(e=>"opening"===e.animationState?{...e,animationState:"open"}:e)},[]),s=(0,d.useMemo)(()=>({flash:r,clear:i,tick:o}),[r,i,o]);return(0,c.jsx)(b.MessageFunctionsContext.Provider,{value:s,children:(0,c.jsx)(j.Provider,{value:n,children:t})})},L=()=>{let e=(0,d.useContext)(j),t=(0,d.useContext)(b.MessageFunctionsContext);null==t||t.clear;let n=null==t?void 0:t.tick,a=(0,N.useStyles)(T);return((0,d.useEffect)(()=>{(null==e?void 0:e.animationState)==="opening"&&setTimeout(()=>null==n?void 0:n(),0)},[null==e?void 0:e.animationState,n]),e&&"closed"!==e.animationState)?(0,c.jsx)("div",{className:a.root,children:(0,c.jsx)(S,{open:"open"===e.animationState,children:(0,c.jsx)(E.Paper,{square:!0,elevation:6,className:a.paper,children:(0,c.jsx)(I.Typography,{variant:"body1",children:e.messages.map((e,t)=>{var n;return"string"==typeof e?e:(0,c.jsxs)("div",{children:[e.messageString,e.action&&(0,c.jsx)("div",{className:a.action,children:(0,c.jsx)(x.default,{onClick:e.action,children:null!=(n=e.actionName)?n:"UNDO"})})]},t)})})})})}):null};var O=e.i(530841),A=e.i(618566),R=e.i(289078),D=e.i(937636),P=e.i(161517),F=e.i(605299),B=e.i(725788),M=e.i(627864),U=e.i(995669),V=e.i(253592),K=e.i(552275),G=e.i(935132),W=e.i(329593),Q=e.i(673991),q=e.i(423748),z=e.i(538794),H=e.i(159211),Y=e.i(116324);let J=(0,C.defineStyles)("MuiToolbar",e=>({root:{position:"relative",display:"flex",alignItems:"center"},gutters:{paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit,[e.breakpoints.up("sm")]:{paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit}},regular:{minHeight:56,["".concat(e.breakpoints.up("xs")," and (orientation: landscape)")]:{minHeight:48},[e.breakpoints.up("sm")]:{minHeight:64}},dense:{minHeight:48}}),{stylePriority:-10}),X=function(e){let{children:t,classes:n,className:a,disableGutters:i=!1,variant:r="regular",...o}=e,s=(0,N.useStyles)(J,n),l=(0,w.default)(s.root,s[r],{[s.gutters]:!i},a);return(0,c.jsx)("div",{className:l,...o,children:t})};e.i(905511);var $=e.i(504270),Z=e.i(339213);let ee=(0,Z.default)((0,c.jsxs)(d.default.Fragment,{children:[(0,c.jsx)("path",{d:"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"}),(0,c.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),"Toc");var et=e.i(597236),en=e.i(96009);e.i(813868);var ea=e.i(122756),ei=e.i(238488),er=e.i(84377),eo=e.i(276320),es=e.i(951544),el=e.i(977381);let ec=(0,ea.gql)("\n  query multiNotificationNotificationsListQuery($selector: NotificationSelector, $limit: Int, $enableTotal: Boolean) {\n    notifications(selector: $selector, limit: $limit, enableTotal: $enableTotal) {\n      results {\n        ...NotificationsList\n      }\n      totalCount\n    }\n  }\n");var ed=e.i(824083),eu=e.i(163929),ep=e.i(915077);function eh(e,t){let{captureEvent:n}=(0,P.useTracking)(),a=(0,d.useRef)(!1),i=(0,d.useRef)(null),r=(0,d.useCallback)(()=>{n("idlenessDetection",{state:"inactive"}),a.current||(a.current=!0,t(!0))},[n,t]),o=(0,d.useCallback)(()=>{let o=a.current;a.current&&(t(!1),a.current=!1),i.current&&clearTimeout(i.current),i.current=setTimeout(r,1e3*e),o&&n("idlenessDetection",{state:"active"})},[n,r,e,t]);(0,ep.useEventListener)("mousemove",o),(0,ep.useEventListener)("keypress",o),(0,ep.useEventListener)("scroll",o),(0,d.useEffect)(()=>(o(),()=>{i.current&&clearTimeout(i.current)}),[])}var em=e.i(714818);function ef(e){let t=eg(),n=(0,d.useRef)(t.isVisible),a=(0,d.useCallback)(()=>{let{isVisible:t,visibilityState:a}=eg();n.current!==t&&(n.current=t,null==e||e(t,a))},[e]);(0,ep.useEventListener)("visibilitychange",a)}function eg(){return em.isClient?{isVisible:!document.hidden,visibilityState:document.visibilityState}:{isVisible:!1,visibilityState:"hidden"}}let ey="notificationsCheckedAt",ev=(0,ea.gql)("\n    query UnreadNotificationCountQuery {\n      unreadNotificationCounts {\n        unreadNotifications\n        unreadPrivateMessages\n        faviconBadgeNumber\n        checkedAt\n      }\n    }\n  "),eb=(0,d.createContext)({unreadNotificationCountsQueryRef:void 0,notificationsOpened:async()=>{},refetchUnreadNotifications:async()=>{},latestUnreadCount:null}),ex=e=>{let{children:t}=e,n=(0,O.useCurrentUserId)(),a=(0,er.useUpdateCurrentUser)(),i=(0,eo.useApolloClient)(),[r,o]=(0,d.useState)(null),[s,{refetch:l}]=(0,es.useBackgroundQuery)(ev,{skip:!n}),[u,{refetch:p}]=(0,es.useBackgroundQuery)(ec,{variables:{selector:{userNotifications:{userId:n}},limit:20,enableTotal:!1},skip:!n}),h=(0,d.useCallback)(async()=>{n&&(p(),await l())},[n,l,p]);(0,ei.useOnNavigate)(h);let m=(0,d.useCallback)(async()=>{let e=new Date;await a({lastNotificationsCheck:e}),i.cache.writeQuery({query:ev,data:{unreadNotificationCounts:{__typename:"NotificationCounts",unreadNotifications:0,checkedAt:e.toISOString(),unreadPrivateMessages:0,faviconBadgeNumber:0}}}),h(),window.localStorage.setItem(ey,e.toISOString())},[a,i.cache,h]),f=(0,d.useMemo)(()=>({unreadNotificationCountsQueryRef:s,notificationsOpened:m,refetchUnreadNotifications:h,latestUnreadCount:r}),[s,m,h,r]);return(0,c.jsxs)(eb.Provider,{value:f,children:[s&&(0,c.jsx)(eu.default,{hideMessage:!0,children:(0,c.jsx)(ed.SuspenseWrapper,{name:"useUnreadNotifications",children:(0,c.jsx)(eN,{queryRef:s,refetchCounts:l,refetchBoth:h,latestUnreadCount:r,onCountChanged:o})})}),t]})},ew=()=>(0,d.useContext)(eb),eN=e=>{let t,{queryRef:n,refetchCounts:a,refetchBoth:i,latestUnreadCount:r,onCountChanged:o}=e,s=(0,O.useCurrentUserId)(),l=(0,er.useUpdateCurrentUser)(),c=(0,el.useReadQuery)(n),u=c.data.unreadNotificationCounts.checkedAt,{getIsMounted:p}=(t=(0,d.useRef)(!0),(0,d.useEffect)(()=>()=>{t.current=!1},[]),{getIsMounted:(0,d.useCallback)(()=>t.current,[])}),h=(0,d.useRef)(null);(0,d.useEffect)(()=>{r!==c.data.unreadNotificationCounts.unreadNotifications&&o(c.data.unreadNotificationCounts.unreadNotifications)},[r,c.data.unreadNotificationCounts.unreadNotifications,o]),(0,d.useEffect)(()=>{let e=e=>{if(e.key===ey&&e.newValue){let t=new Date(e.newValue);u&&t.getTime()>new Date(u).getTime()&&a()}};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[a,u,l]);let m=(0,d.useCallback)(async()=>{if(s&&p()&&!y.current&&v.current){let e=await fetch("/api/notificationCount"),{unreadNotificationCount:t}=await e.json();t>0&&i()}},[s,i,p]),f=(0,d.useCallback)(()=>{h.current&&(clearInterval(h.current),h.current=null)},[]),g=(0,d.useCallback)(()=>{h.current&&(clearInterval(h.current),h.current=null),h.current=setInterval(m,5e3)},[m]),y=(0,d.useRef)(!1);eh(30,(0,d.useCallback)(e=>{y.current=e,e?f():g()},[f,g]));let v=(0,d.useRef)(!0);return ef(e=>{v.current=e,e?g():f()}),(0,d.useEffect)(()=>{if(s)return g(),()=>{f()}},[s,g,f]),null};var eC=e.i(791434),ek=e.i(959294),eS=e.i(701759),eE=e.i(773736),eI=e.i(219331),eT=e.i(804443),ej=e.i(691149),e_=e.i(614963),eL=e.i(271111);function eO(e){return(eO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eA="menu";function eR(e){return e.attribute}function eD(e,t,n){var a=(0,e_.getCurrentRefinementValue)(e,t,n,"".concat(eA,".").concat(eR(e)),null);return""===a?null:a}function eP(e){var t=e.showMore,n=e.limit,a=e.showMoreLimit;return t?a:n}function eF(e,t,n,a){var i,r,o,s,l=(r={},o=eR(e),s=n||"",(i=function(e,t){if("object"!==eO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==eO(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),(o="symbol"===eO(i)?i:String(i))in r)?Object.defineProperty(r,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[o]=s,r);return(0,e_.refineValue)(t,l,a,!0,eA)}var eB=["count:desc","name:asc"];let eM=(0,ej.default)({displayName:"AlgoliaMenu",$$type:"ais.menu",propTypes:{attribute:eT.default.string.isRequired,showMore:eT.default.bool,limit:eT.default.number,showMoreLimit:eT.default.number,defaultRefinement:eT.default.string,transformItems:eT.default.func,searchable:eT.default.bool,facetOrdering:eT.default.bool},defaultProps:{showMore:!1,limit:10,showMoreLimit:20,facetOrdering:!0},getProvidedProps:function(e,t,n,a,i){var r,o=e.attribute,s=e.searchable,l=e.indexContextValue,c=e.facetOrdering,d=(0,e_.getResults)(n,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),u=!!d&&!!d.getFacetByName(o),p=!!(i&&i[o]&&""!==i.query);if(s&&l)throw Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:eD(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),isFromSearch:p,searchable:s,canRefine:u};r=p?i[o].map(function(n){var a;return{label:n.value,value:(a=n.escapedValue)===eD(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue})?"":a,_highlightResult:{label:{value:n.highlighted}},count:n.count,isRefined:n.isRefined}}):d.getFacetValues(o,{sortBy:s?void 0:eB,facetOrdering:c}).map(function(n){var a;return{label:n.name,value:(a=n.escapedValue)===eD(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue})?"":a,count:n.count,isRefined:n.isRefined}});var h=e.transformItems?e.transformItems(r):r;return{items:h.slice(0,eP(e)),currentRefinement:eD(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),isFromSearch:p,searchable:s,canRefine:h.length>0}},refine:function(e,t,n){return eF(e,t,n,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:eP(e)}},cleanUp:function(e,t){var n;return n={ais:e.contextValue,multiIndexContext:e.indexContextValue},(0,e_.cleanUpValue)(t,n,"".concat(eA,".").concat(eR(e)))},getSearchParameters:function(e,t,n){var a=t.attribute;e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,eP(t))})).addDisjunctiveFacet(a);var i=eD(t,n,{ais:t.contextValue,multiIndexContext:t.indexContextValue});return null!==i&&(e=e.addDisjunctiveFacetRefinement(a,i)),e},getMetadata:function(e,t){var n=eR(e),a=eD(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue});return{id:n,index:(0,e_.getIndexId)({ais:e.contextValue,multiIndexContext:e.indexContextValue}),items:null===a?[]:[{label:"".concat(e.attribute,": ").concat((0,eL.unescapeFacetValue)(a)),attribute:e.attribute,value:function(t){return eF(e,t,"",{ais:e.contextValue,multiIndexContext:e.indexContextValue})},currentRefinement:a}]}}});var eU=e.i(636867),eV=e.i(757092),eK=e.i(644169),eG=e.i(921522),eW=e.i(730342),eQ=e.i(174080),eq=e.i(696325),ez=e.i(949353),eH=e.i(182584),eY=e.i(212456),eJ=e.i(45663),eX=e.i(478386),e$=e.i(758623),eZ=e.i(110601);let e0=(0,z.registerComponent)("PostsSearchHit",e=>{var t,n;let{hit:a,clickAction:i,classes:r,showIcon:o=!1}=e,s=(null==(n=a._snippetResult)||null==(t=n.body)?void 0:t.matchLevel)!=="none";return(0,c.jsxs)("div",{className:r.root,children:[o&&(0,c.jsx)(eZ.default,{title:"Post",children:(0,c.jsx)(eJ.default,{className:r.icon})}),(0,c.jsxs)(H.Link,{onClick:e=>0===e.button&&!e.ctrlKey&&!e.metaKey&&i&&i(),to:(0,eH.postGetPageUrl)(a),children:[(0,c.jsx)(I.Typography,{variant:"title",className:r.title,children:a.title}),(0,c.jsxs)("div",{children:[a.authorDisplayName&&(0,c.jsx)(eX.default,{children:a.authorDisplayName}),(0,c.jsxs)(eX.default,{children:[a.baseScore," karma"]}),a.postedAt&&(0,c.jsx)(eX.default,{children:(0,c.jsx)(e$.default,{date:a.postedAt})})]}),s&&(0,c.jsx)("div",{className:r.snippet,children:(0,c.jsx)(eX.default,{children:(0,c.jsx)(eY.Snippet,{attribute:"body",hit:a,tagName:"mark"})})})]})]})},{styles:e=>({root:{padding:8,paddingLeft:10,paddingRight:10,display:"flex",overflowWrap:"break-word"},icon:{width:20,color:e.palette.grey[500],marginRight:12,marginLeft:4,marginTop:5},snippet:{...e.typography.postStyle,lineHeight:"1.3rem",wordBreak:"break-word"},title:{marginBottom:0}})});var e1=e.i(43225),e2=e.i(497914),e4=e.i(35693),e3=e.i(682673);let e6=(0,z.registerComponent)("TagsSearchHit",e=>{var t,n;let{hit:a,clickAction:i,classes:r,showIcon:o=!1}=e,s=(null==(n=a._snippetResult)||null==(t=n.body)?void 0:t.matchLevel)!=="none";return(0,c.jsxs)("div",{className:r.root,children:[o&&(0,c.jsx)(eZ.default,{title:K.taggingNameCapitalSetting.get(),children:(0,c.jsx)(e3.default,{className:r.icon})}),(0,c.jsxs)(H.Link,{to:(0,e4.tagGetUrl)(a),onClick:e=>0===e.button&&!e.ctrlKey&&!e.metaKey&&i&&i(),children:[(0,c.jsx)("div",{className:r.name,children:a.name}),s&&(0,c.jsx)("div",{className:r.snippet,children:(0,c.jsx)(eY.Snippet,{attribute:"description",hit:a,tagName:"mark"})})]})]})},{styles:e=>({root:{padding:8,paddingLeft:10,paddingRight:10,display:"flex",alignItems:"center"},name:{...e.typography.body2},icon:{width:20,color:e.palette.grey[500],marginRight:12,marginLeft:4},snippet:{...e.typography.body2,color:e.palette.text.dim,wordBreak:"break-word"}})});var e5=e.i(361896);let e8=(0,z.registerComponent)("CommentsSearchHit",e=>{let{hit:t,clickAction:n,classes:a,showIcon:i=!1}=e,r="";if(t.postId&&t.postSlug){var o,s;r="".concat((0,eH.postGetPageUrl)({_id:null!=(o=t.postId)?o:"",slug:null!=(s=t.postSlug)?s:"",isEvent:t.postIsEvent,groupId:t.postGroupId}),"#").concat(t._id)}else t.tagSlug&&t.tagCommentType&&(r=(0,e4.tagGetCommentLink)({tagSlug:t.tagSlug,commentId:t._id,tagCommentType:t.tagCommentType}));return(0,c.jsxs)("div",{className:a.root,children:[i&&(0,c.jsx)(eZ.default,{title:"Comment",children:(0,c.jsx)(e5.default,{className:a.icon})}),(0,c.jsxs)(H.Link,{to:r,onClick:e=>0===e.button&&!e.ctrlKey&&!e.metaKey&&n&&n(),children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(eX.default,{children:t.authorDisplayName}),(0,c.jsxs)(eX.default,{children:[t.baseScore," karma "]}),(0,c.jsx)(eX.default,{children:(0,c.jsx)(e$.default,{date:t.postedAt})})]}),(0,c.jsx)("div",{className:a.snippet,children:(0,c.jsx)(eY.Snippet,{className:a.snippet,attribute:"body",hit:t,tagName:"mark"})})]})]})},{styles:e=>({root:{padding:8,paddingLeft:10,paddingRight:10,display:"flex",alignItems:"center"},icon:{width:20,color:e.palette.grey[600],marginRight:12,marginLeft:4},snippet:{overflowWrap:"break-word",...e.typography.body2,wordBreak:"break-word",color:e.palette.grey[600]}})}),e7=(0,z.registerComponent)("SearchBarResults",e=>{let{closeSearch:t,currentQuery:n,classes:a}=e,i=[{type:"Users",Component:e2.default},{type:"Posts",Component:e0},{type:"Tags",Component:e6},{type:"Comments",Component:e8},{type:"Sequences",Component:e1.default}];return(0,c.jsx)("div",{className:a.root,children:(0,c.jsxs)("div",{className:a.searchResults,children:[i.map(e=>{let{type:n,Component:i}=e;return(0,c.jsx)(eu.default,{children:(0,c.jsx)("div",{className:a.list,children:(0,c.jsxs)(eW.Index,{indexName:(0,eV.getSearchIndexName)(n),children:[(0,c.jsx)(ez.Configure,{hitsPerPage:3}),(0,c.jsx)(eq.Hits,{hitComponent:e=>(0,c.jsx)(i,{clickAction:t,...e,showIcon:!0})})]})})},n)}),(0,c.jsx)(H.Link,{to:"/search?query=".concat(n),className:a.seeAll,children:"See all results"})]})})},{styles:e=>({root:{color:e.palette.text.normal,transition:"opacity .1s ease-in-out",zIndex:e.zIndexes.searchResults,width:520,position:"fixed",right:0,top:"var(--header-height)",display:"flex",flexWrap:"wrap",[e.breakpoints.down("sm")]:{width:"100%"},[e.breakpoints.down("xs")]:{top:"var(--header-height)"}},searchResults:{overflowX:"hidden",overflowY:"scroll",width:"100%",height:"calc(100vh - 48px)",backgroundColor:e.palette.panelBackground.default,paddingBottom:100,[e.breakpoints.up("md")]:{marginLeft:20,boxShadow:e.palette.boxShadow.searchResults,height:"calc(100vh - 64px)"}},list:{"& .ais-Hits-list":{paddingTop:6,paddingBottom:4,borderBottom:e.palette.border.grey300},"& .ais-Hits-list:empty":{display:"none"}},seeAll:{...e.typography.body2,...e.typography.commentStyle,color:e.palette.lwTertiary.main,marginTop:10,display:"block",textAlign:"center"},header:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit,"& h1":{margin:0}}})});var e9=e.i(813292);let te=eM(()=>null),tt=(0,z.registerComponent)("SearchBar",e=>{let{onSetIsActive:t,searchResultsArea:n,classes:a}=e,i=(0,O.useCurrentUser)(),[r,o]=(0,d.useState)(!1),[s,l]=(0,d.useState)(!1),[u,p]=(0,d.useState)(""),h=(0,D.useNavigate)(),m=(0,eG.useSearchAnalytics)();(0,ei.useOnNavigate)(()=>{f()});let f=()=>{l(!1),o(!1),t&&t(!1)};return((0,d.useEffect)(()=>{u&&m("searchBar",{query:u})},[u,m]),(0,eV.isSearchEnabled)())?(0,c.jsx)("div",{className:a.root,onKeyDown:e=>{"Escape"===e.key&&f(),13===e.keyCode&&(h({pathname:"/search",search:"?".concat(eK.default.stringify({query:u}))}),f())},children:(0,c.jsx)("div",{className:a.rootChild,children:(0,c.jsx)(eW.InstantSearch,{indexName:(0,eV.getSearchIndexName)("Posts"),searchClient:(0,eV.getSearchClient)({emptyStringSearchResults:"empty"}),onSearchStateChange:e=>{e.query!==u&&(p(e.query),e.query?l(!0):l(!1))},children:(0,c.jsxs)("div",{className:(0,w.default)(a.searchInputArea,{open:r},{[a.searchInputAreaSmall]:!i}),children:[(0,G.isAF)()&&(0,c.jsx)(te,{attribute:"af",defaultRefinement:"true"}),(0,c.jsxs)("div",{onClick:()=>{o(!0),l(!!u),t&&t(!0)},children:[(0,c.jsx)($.default,{className:(0,w.default)(a.searchIconButton,{[a.searchIconButtonSmall]:!i}),children:(0,c.jsx)(e9.default,{icon:"Search",className:a.searchIcon})}),r&&(0,c.jsx)(eI.SearchBox,{reset:null,focusShortcuts:[],autoFocus:!0})]}),r&&(0,c.jsx)("div",{className:a.searchBarClose,onClick:f,children:(0,c.jsx)(eU.default,{className:a.closeSearchIcon})}),(0,c.jsx)("div",{children:s&&(0,eQ.createPortal)((0,c.jsx)(e7,{closeSearch:f,currentQuery:u}),n.current)})]})})})}):(0,c.jsx)("div",{children:"Search is disabled (ElasticSearch not configured on server)"})},{styles:e=>({root:{display:"flex",alignItems:"center"},rootChild:{height:"fit-content"},searchInputArea:{display:"block",position:"relative",minWidth:48,height:48,"& .ais-SearchBox":{display:"inline-block",position:"relative",maxWidth:300,width:"100%",height:46,whiteSpace:"nowrap",boxSizing:"border-box",fontSize:14},"& .ais-SearchBox-form":{height:"100%"},"& .ais-SearchBox-submit":{display:"none"},"& .ais-SearchBox-input":{display:"none",height:"100%",width:"100%",paddingTop:e.isFriendlyUI?5:void 0,paddingRight:0,paddingLeft:48,verticalAlign:"bottom",borderStyle:"none",boxShadow:"none",backgroundColor:"transparent",fontSize:"inherit","-webkit-appearance":"none",cursor:"text",borderRadius:5},"&.open .ais-SearchBox-input":{display:"inline-block"},"&.open .SearchBar-searchIconButton":{position:"fixed"}},searchInputAreaSmall:e.isFriendlyUI?{minWidth:34}:{},searchIcon:{"--icon-size":"24px"},searchIconButton:{color:e.isFriendlyUI?e.palette.grey[600]:e.palette.header.text},searchIconButtonSmall:e.isFriendlyUI?{padding:6,marginTop:6}:{},closeSearchIcon:{fontSize:14},searchBarClose:{display:"inline-block",position:"absolute",top:e.isFriendlyUI?18:15,right:5,cursor:"pointer"}}),hocs:[en.default],areEqual:"auto"});var tn=e.i(820010),ta=e.i(881700),ti=e.i(759710),tr=e.i(898298),to=e.i(851364);let ts=()=>{let e=(0,O.useCurrentUser)(),t=(0,er.useUpdateCurrentUser)(),[n,a]=(0,d.useState)(!1);return e?{loading:n,toggleOn:async()=>{var n;!e.isAdmin&&(0,Q.userIsMemberOf)(e,"realAdmins")&&(a(!0),await t({isAdmin:!0,groups:[...null!=(n=e.groups)?n:[],"sunshineRegiment"]}),window.location.reload())},toggleOff:async()=>{if(!e.isAdmin)return;a(!0);let n=e.groups||[];n.some(e=>"realAdmins"===e)||(n=[...n,"realAdmins"],await t({groups:n})),await t({isAdmin:!1,groups:n.filter(e=>"sunshineRegiment"!==e)}),window.location.reload()}}:{loading:!1}};var tl=e.i(186947),tc=e.i(161432),td=e.i(128380),tu=e.i(903780),tp=e.i(146764),th=e.i(275828),tm=e.i(65189),tf=e.i(109665),tg=e.i(17662);let ty=(0,z.registerComponent)("ThemePickerMenu",e=>{let{children:t,classes:n}=e,a=d.default.useContext(R.ThemeContext),i=a.abstractThemeOptions,r=(0,O.useCurrentUser)(),o=(0,er.useUpdateCurrentUser)(),s=(0,tp.getForumType)(i),l=e=>{(0,G.isEAForum)()&&r&&o({theme:e})},u=e=>{(0,tl.isMobile)()||e.stopPropagation()},p=(0,c.jsx)(E.Paper,{children:(0,c.jsxs)(tm.default,{children:[(0,G.isLWorAF)()&&(0,c.jsxs)(c.Fragment,{children:[(0,tp.getThemeMetadata)().map(e=>(0,c.jsx)(tf.default,{title:e.label,onClick:t=>{var n;let r;return n=e.name,u(t),r={...i,name:n},void(a.setThemeOptions(r),l(r))},icon:()=>(null==i?void 0:i.name)===e.name?(0,c.jsx)(e9.default,{icon:"Check",className:n.check}):(0,c.jsx)("div",{className:n.notChecked})},e.name)),(0,c.jsx)(tg.default,{})]}),(null==r?void 0:r.isAdmin)&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsxs)(I.Typography,{variant:"body2",className:n.siteThemeOverrideLabel,children:["Site Theme Override",(0,c.jsx)(eZ.default,{title:(0,c.jsx)("p",{children:"Admin only. Makes the site look (for you) like another Forum Magnum site. Useful for testing themes and component-style changes. Note that this only overrides the theme; site-specific differences in functionality will not be affected."}),children:(0,c.jsx)(th.default,{className:n.infoIcon})})]})}),[...K.allForumTypes.keys()].map(e=>(0,c.jsx)(tf.default,{title:e,onClick:t=>{let n;return u(t),n={...i,siteThemeOverride:{...i.siteThemeOverride,[G.forumTypeSetting.get()]:e}},void(a.setThemeOptions(n),l(n))},icon:()=>s===e?(0,c.jsx)(e9.default,{icon:"Check",className:n.check}):(0,c.jsx)("div",{className:n.notChecked})},e))]})]})});return(0,c.jsx)(eZ.default,{title:p,tooltip:!1,clickable:!0,inlineBlock:!1,placement:"left-start",children:t})},{styles:e=>({check:{width:20,marginRight:8},notChecked:{width:20,marginRight:8},siteThemeOverrideLabel:{padding:8},infoIcon:{fontSize:14,marginLeft:6*!!e.isFriendlyUI}})});var tv=e.i(435307);let tb=(0,z.registerComponent)("NewWikiTagMenu",e=>{let{children:t}=e,{eventHandlers:n,hover:a,anchorEl:i,forceUnHover:r}=(0,tr.useHover)();return(0,c.jsxs)("span",{...n,children:[t,(0,c.jsx)(tu.default,{open:a,anchorEl:i,placement:"right-start",children:(0,c.jsx)(E.Paper,{children:(0,c.jsx)(tm.default,{children:(0,c.jsxs)("div",{onClick:()=>r(),children:[(0,c.jsx)(tf.default,{title:"Wiki Only",to:"".concat((0,e4.getTagCreateUrl)(),"?type=wiki")}),(0,c.jsx)(tf.default,{title:"Wiki + Tag",to:(0,e4.getTagCreateUrl)()}),(0,c.jsx)(tg.default,{}),(0,c.jsx)(tf.default,{title:(0,c.jsx)("span",{children:(0,c.jsx)("em",{children:"What's the difference?"})}),to:"/w/what-s-a-wikitag"})]})})})})]})});var tx=e.i(181832),tw=e.i(414190),tN=e.i(770703);let tC=(0,tN.default)(()=>e.A(405870),{loadableGenerated:{modules:[808595]},ssr:!1}),tk=(0,tN.default)(()=>e.A(736995),{loadableGenerated:{modules:[664969]},ssr:!1}),tS=(0,tN.default)(()=>e.A(964582),{loadableGenerated:{modules:[873275]},ssr:!1}),tE=(0,z.registerComponent)("UsersMenu",e=>{let{classes:t}=e,n=(0,O.useCurrentUser)(),{eventHandlers:a,hover:i,forceUnHover:r,anchorEl:o}=(0,tr.useHover)(),{openDialog:s}=(0,B.useDialog)(),{disableNoKibitz:l,setDisableNoKibitz:u}=(0,d.useContext)(m.DisableNoKibitzContext),{toggleOn:p,toggleOff:h}=ts();if(!n)return null;if(n.usernameUnset)return(0,c.jsx)("div",{className:t.root,children:(0,c.jsx)(x.default,{href:"/logout",classes:{root:t.userButtonRoot},children:(0,c.jsx)("span",{className:t.userButtonContents,children:(0,eC.isFriendlyUI)()?"Log out":"LOG OUT"})})});let f=(!(0,G.isAF)()||(0,Q.userCanDo)(n,"posts.alignment.new"))&&!n.deleted,g=n.groups&&n.groups.includes("alignmentForum"),y=(0,c.jsxs)("span",{className:t.userButtonContents,children:[(0,tn.userGetDisplayName)(n),n.deleted&&(0,c.jsx)(eZ.default,{title:(0,c.jsxs)("div",{className:t.deactivatedTooltip,children:[(0,c.jsx)("div",{children:"Your account has been deactivated:"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Your username appears as '[Anonymous]' on comments/posts"}),(0,c.jsx)("li",{children:"Your profile page is not accessible"})]})]}),children:(0,c.jsx)("span",{className:t.deactivated,children:"[Deactivated]"})}),(0,G.isAF)()&&!g&&(0,c.jsx)("span",{className:t.notAMember,children:" (Not a Member) "})]});(0,eC.isFriendlyUI)()&&!n.deleted&&(y=(0,c.jsxs)("div",{className:t.userImageButton,children:[(0,c.jsx)(tv.default,{user:n,size:32}),(0,c.jsx)(e9.default,{icon:"ThickChevronDown",className:t.arrowIcon})]}));let v=!n.deleted&&((0,eC.isFriendlyUI)()?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(tf.default,{title:(0,c.jsxs)("div",{className:t.profileHeader,children:[(0,c.jsx)(tv.default,{user:n,size:32}),(0,c.jsx)("div",{className:t.profileHeaderInfo,children:(0,tn.userGetDisplayName)(n)})]}),to:(0,tn.userGetProfileUrl)(n)}),(0,c.jsx)(tg.default,{})]}):(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("User Profile"),to:(0,tn.userGetProfileUrl)(n),icon:"User",iconClassName:t.icon})),b=(0,c.jsx)(tf.default,{title:(0,eC.styleSelect)({friendly:"Settings",default:(0,eC.preferredHeadingCase)("Account Settings")}),to:"/account",icon:"Settings",iconClassName:t.icon}),w=(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("Private Messages"),to:"/inbox",icon:"Email",iconClassName:t.icon}),N=(0,tn.userCanPost)(n)&&(0,eE.dialoguesEnabled)()&&(0,Q.userOverNKarmaOrApproved)(eH.MINIMUM_COAUTHOR_KARMA)(n),C={divider:tg.default,newPost:()=>(0,tn.userCanPost)(n)?(0,c.jsx)(tf.default,{title:(0,eC.styleSelect)({friendly:"Post",default:(0,eC.preferredHeadingCase)("New Post")}),to:"/newPost"}):null,newQuestion:()=>(0,tn.userCanPost)(n)?(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("New Question"),to:"/newPost?question=true"}):null,newDialogue:()=>N?(0,c.jsx)(tf.default,{title:(0,eC.styleSelect)({friendly:"Dialogue",default:(0,eC.preferredHeadingCase)("New Dialogue")}),onClick:()=>{s({name:"NewDialogueDialog",contents:e=>{let{onClose:t}=e;return(0,c.jsx)(tC,{onClose:t})}})}}):null,newShortform:()=>f&&(0,Q.userCanQuickTake)(n)?(0,c.jsx)(tf.default,{title:(0,eC.styleSelect)({friendly:"Quick take",default:(0,eC.preferredHeadingCase)("New Quick Take")}),onClick:()=>{s({name:"NewShortformDialog",contents:e=>{let{onClose:t}=e;return(0,c.jsx)(tk,{onClose:t})}})}}):null,newWikitag:()=>(0,e4.tagUserHasSufficientKarma)(n,"new")?(0,c.jsx)(tb,{children:(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("New ".concat(K.taggingNameCapitalSetting.get()))})}):null,newEvent:()=>(0,tn.userCanPost)(n)?(0,c.jsx)(tf.default,{title:(0,eC.styleSelect)({friendly:"Event",default:(0,eC.preferredHeadingCase)("New Event")}),to:"/newPost?eventForm=true"}):null,newSequence:()=>f&&n.karma>=tc.SHOW_NEW_SEQUENCE_KARMA_THRESHOLD?(0,c.jsx)(tf.default,{title:(0,eC.styleSelect)({friendly:"Sequence",default:(0,eC.preferredHeadingCase)("New Sequence")}),to:"/sequencesnew"}):null},k=(0,G.isEAForum)()||(null==n?void 0:n.hasAnyBookmarks),S=(0,eC.isFriendlyUI)()?["newPost","newShortform","divider","newEvent","newDialogue","newSequence"]:["newShortform","newPost","newWikitag","newEvent"],I=(0,eC.isFriendlyUI)()?(0,c.jsx)(td.InteractionWrapper,{children:(0,c.jsx)(eZ.default,{title:(0,c.jsx)("div",{className:t.writeNewTooltip,children:(0,c.jsx)(E.Card,{children:(0,c.jsx)(tm.default,{children:(0,c.jsx)("div",{onClick:r,children:S.map((e,t)=>{let n=C[e];return(0,c.jsx)(n,{},t)})})})})}),clickable:!0,tooltip:!1,inlineBlock:!1,placement:"left-start",children:(0,c.jsx)(tf.default,{title:"Write new",icon:"PencilSquare",afterIcon:"ThickChevronRight"})})}):(0,c.jsx)("div",{onClick:e=>{(0,to.afNonMemberDisplayInitialPopup)(n,s)&&e.preventDefault()},children:S.map((e,t)=>{let n=C[e];return(0,c.jsx)(n,{},t)})});return(0,c.jsxs)("div",{className:t.root,...a,children:[(0,c.jsx)(H.Link,{to:(0,tn.userGetProfileUrl)(n),children:(0,c.jsx)(x.default,{classes:{root:t.userButtonRoot},onClick:e=>{(0,tl.isMobile)()&&(e.preventDefault(),e.stopPropagation())},"data-testid":"users-menu",children:y})}),(0,c.jsx)(tu.default,{open:i,anchorEl:o,placement:"bottom-start",children:(0,c.jsx)(E.Paper,{children:(0,c.jsx)(tm.default,{children:(0,c.jsxs)("div",{onClick:()=>{r()},children:[(0,eC.isFriendlyUI)()&&v,I,!(0,eC.isFriendlyUI)()&&(0,c.jsx)(tg.default,{}),(0,G.isAF)()&&!g&&(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("Apply for Membership"),onClick:()=>{s({name:"AFApplicationForm",contents:e=>{let{onClose:t}=e;return(0,c.jsx)(tS,{onClose:t})}})}}),n.noKibitz&&(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)(l?"Hide Names":"Reveal Names"),onClick:()=>u(!l),icon:()=>l?(0,c.jsx)(ti.default,{className:t.icon}):(0,c.jsx)(ta.default,{className:t.icon})}),!(0,eC.isFriendlyUI)()&&v,!(0,G.isEAForum)()&&(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("My Drafts"),to:"/drafts",icon:"Edit",iconClassName:t.icon}),!(0,eC.isFriendlyUI)()&&w,(0,eE.userHasThemePicker)(n)&&(0,c.jsx)(ty,{children:(0,c.jsx)(tf.default,{title:"Theme",onClick:e=>{(0,tl.isMobile)()&&e.stopPropagation()},icon:"Puzzle",iconClassName:t.icon})}),k&&(0,c.jsx)(tf.default,{title:(0,eC.styleSelect)({friendly:"Saved & read",default:"Bookmarks"}),to:(0,eC.styleSelect)({friendly:"/saved",default:"/bookmarks"}),icon:(0,eC.styleSelect)({friendly:"BookmarkBorder",default:"Bookmarks"}),iconClassName:t.icon}),(0,G.isEAForum)()&&(0,c.jsx)(tf.default,{title:"Post stats",to:(0,tn.userGetAnalyticsUrl)(n),icon:"BarChart",iconClassName:t.icon}),b,n.isAdmin&&(0,c.jsx)("div",{className:t.adminToggleItem,children:(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("Disable Admin Powers"),onClick:h})}),!n.isAdmin&&(0,Q.userIsMemberOf)(n,"realAdmins")&&(0,c.jsx)("div",{className:t.adminToggleItem,children:(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("Re-enable Admin Powers"),onClick:p})}),(0,c.jsx)(tg.default,{}),(0,c.jsx)(tf.default,{title:(0,eC.preferredHeadingCase)("Log Out"),to:"/logout",rawLink:!0})]})})})})]})},{styles:e=>({root:{marginTop:e.isFriendlyUI?void 0:5,wordBreak:"break-all",position:"relative"},userButtonRoot:{paddingLeft:e.isFriendlyUI?12:e.spacing.unit,paddingRight:e.spacing.unit,borderRadius:e.isFriendlyUI?e.borderRadius.default:void 0},userButtonContents:{textTransform:"none",fontSize:"16px",fontWeight:e.isFriendlyUI?void 0:400,color:tw.isBlackBarTitle?e.palette.text.alwaysWhite:e.palette.header.text,...(0,tx.isIfAnyoneBuildsItFrontPage)({color:e.palette.text.bannerAdOverlay}),wordBreak:"break-word"},userImageButton:{display:"flex",alignItems:"center",columnGap:4},arrowIcon:{color:e.palette.grey[600],fontSize:18},notAMember:{marginLeft:5,opacity:.9},icon:{color:e.isFriendlyUI?void 0:e.palette.grey[500]},deactivatedTooltip:{maxWidth:230},deactivated:{color:e.palette.grey[600],marginLeft:20},adminToggleItem:e.isFriendlyUI?{display:"none",[e.breakpoints.down("xs")]:{display:"block"}}:{},writeNewTooltip:{padding:"0 15px",minWidth:180},profileHeader:{display:"flex",alignItems:"center",gap:"12px",padding:"4px 0",minWidth:180,maxWidth:220},profileHeaderInfo:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})});var tI=e.i(308544),tT=e.i(81500),tj=e.i(614415),t_=e.i(105736),tL=e.i(912087);let tO=(0,C.defineStyles)("UsersAccountMenu",e=>({root:{marginTop:e.isFriendlyUI?void 0:5},userButton:{fontSize:"14px",fontWeight:e.isFriendlyUI?void 0:400,opacity:.8,color:tw.isBlackBarTitle?e.palette.text.alwaysWhite:e.palette.header.text},login:{marginLeft:12,marginRight:8},signUp:{display:"inline-block",marginRight:8,"@media (max-width: 540px)":{display:"none"}}})),tA=()=>{let e=(0,N.useStyles)(tO),{onLogin:t,onSignup:n}=(0,tI.useLoginPopoverContext)();return(0,c.jsxs)("div",{className:e.root,children:[(0,c.jsx)(tT.default,{style:"grey",onClick:t,"data-testid":"user-login-button",className:e.login,children:"Login"}),(0,c.jsx)(tT.default,{onClick:n,"data-testid":"user-signup-button",className:e.signUp,children:"Sign up"}),(0,c.jsx)(tj.default,{})]})},tR=()=>{let e=(0,N.useStyles)(tO),{captureEvent:t}=(0,P.useTracking)(),[n,a]=(0,d.useState)(!1),[i,r]=(0,d.useState)(null),o=(0,d.useCallback)(e=>{e.preventDefault(),t("loginButtonClicked",{open:!0}),a(!0),r(e.currentTarget)},[t]),s=(0,d.useCallback)(()=>{t("loginButtonClicked",{open:!1}),a(!1)},[t]);return(0,c.jsxs)("div",{className:e.root,children:[(0,c.jsx)(x.default,{"data-testid":"user-signup-button",onClick:o,children:(0,c.jsx)("span",{className:e.userButton,children:"Login"})}),(0,c.jsx)(tu.default,{open:n,anchorEl:i,placement:"bottom-end",children:(0,c.jsx)(t_.default,{onClickAway:s,children:(0,c.jsx)(E.Paper,{children:n&&(0,c.jsx)(tL.default,{})})})})]})};var tD=e.i(621938),tP=e.i(417222),tF=e.i(946271);let tB=(0,C.defineStyles)("NotificationsMenuButton",e=>({badgeContainer:{padding:"none",verticalAlign:"inherit",fontFamily:e.isFriendlyUI?e.palette.fonts.sansSerifStack:"freight-sans-pro, sans-serif"},badge:{pointerEvents:"none",...e.isFriendlyUI?{top:3,right:6,maxHeight:20,fontSize:11,fontWeight:800,letterSpacing:"0.22px",color:"".concat(e.palette.text.alwaysWhite," !important"),borderRadius:"50%"}:{top:1,right:1,fontWeight:500,fontFamily:"freight-sans-pro, sans-serif",fontSize:12,color:e.palette.header.text}},badgeBackground:{backgroundColor:e.isFriendlyUI?e.palette.primary.main:"inherit"},badge1Char:e.isFriendlyUI?{width:18,height:18}:{},badge2Chars:e.isFriendlyUI?{width:20,height:20}:{},buttonOpen:{backgroundColor:e.palette.buttons.notificationsBellOpen.background,color:e.isFriendlyUI?e.palette.grey[600]:e.palette.buttons.notificationsBellOpen.icon},buttonClosed:{backgroundColor:"transparent",color:e.isFriendlyUI?e.palette.grey[600]:e.palette.header.text},buttonActive:{backgroundColor:e.palette.greyAlpha(.1)},karmaStar:{color:e.palette.icon.headerKarma,transform:"rotate(-15deg)",position:"absolute",width:16,height:16},karmaStarWithBadge:{left:-6,top:-6},karmaStarWithoutBadge:{left:1,top:1},tooltip:{background:"".concat(e.palette.panelBackground.tooltipBackground2," !important"),padding:"5px 13px",transform:"translateY(5px)"}}),{stylePriority:-1}),tM=(0,tN.default)(()=>e.A(246552),{loadableGenerated:{modules:[15252]},ssr:!1}),tU=(0,tN.default)(()=>e.A(849124),{loadableGenerated:{modules:[956171]},ssr:!1}),tV=(0,ea.gql)("\n  query NotificationsMenuButton($documentId: String) {\n    user(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...UserKarmaChanges\n      }\n    }\n  }\n"),tK=e=>{let{open:t,toggle:n,className:a}=e,i=(0,N.useStyles)(tB),{latestUnreadCount:r}=ew(),o=null!=r?r:0,s=t?i.buttonOpen:i.buttonClosed;return(0,c.jsx)(tD.Badge,{className:(0,w.default)(i.badgeContainer,a),badgeClassName:(0,w.default)(i.badge,i.badgeBackground),badgeContent:o>0?"".concat(o):"",children:(0,c.jsx)($.default,{classes:{root:s},onClick:n,children:o>0?(0,c.jsx)(e9.default,{icon:"Bell"}):(0,c.jsx)(e9.default,{icon:"BellBorder"})})})},tG=e=>{let{toggle:t}=e,n=(0,N.useStyles)(tB);return(0,c.jsx)($.default,{classes:{root:n.buttonClosed},onClick:t,children:(0,c.jsx)(e9.default,{icon:"BellBorder"})})},tW=e=>{var t;let{toggle:n,className:a}=e,i=(0,N.useStyles)(tB),r=(0,O.useCurrentUser)(),o=(0,er.useUpdateCurrentUser)(),{pathname:s}=(0,D.useLocation)(),{notificationsOpened:l,latestUnreadCount:u}=ew(),p=null!=u?u:0,[h,m]=(0,d.useState)(!1),f=(0,d.useRef)(null),{refetch:g,data:y}=(0,tF.useQuery)(tV,{variables:{documentId:null==r?void 0:r._id},skip:!r}),v=null==y||null==(t=y.user)?void 0:t.result,b=((e,t)=>{var n;if(!e||!(null==t?void 0:t.karmaChanges))return!1;let{updateFrequency:a,endDate:i,posts:r,comments:o,tagRevisions:s}=t.karmaChanges;return!!((null==r?void 0:r.length)||(null==o?void 0:o.length)||(null==s?void 0:s.length))&&"disabled"!==a&&((null!=(n=e.karmaChangeLastOpened)?n:new Date(0))<(null!=i?i:new Date(0))||"realtime"===a)})(r,v),x=p>0,C=x?"".concat(p):"";(0,d.useEffect)(()=>{g()},[g,null==r?void 0:r.karmaChangeLastOpened]);let k=(0,d.useCallback)(()=>{let e=new Date;o({karmaChangeLastOpened:e,karmaChangeBatchStart:e}),l()},[o,l]),S=(0,d.useCallback)(()=>m(!1),[]),E=(0,d.useCallback)(()=>{m(e=>!e),n()},[n]);return(0,c.jsx)("div",{ref:f,children:(0,c.jsx)(tD.Badge,{className:(0,w.default)(i.badgeContainer,a),badgeClassName:(0,w.default)(i.badge,{[i.badgeBackground]:x,[i.badge1Char]:1===C.length,[i.badge2Chars]:2===C.length}),badgeContent:(0,c.jsxs)(c.Fragment,{children:[C,b&&(0,c.jsx)(e9.default,{icon:"Star",className:(0,w.default)(i.karmaStar,{[i.karmaStarWithBadge]:x,[i.karmaStarWithoutBadge]:!x})})]}),children:(0,c.jsx)(t_.default,{onClickAway:()=>m(!1),children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)($.default,{classes:{root:(0,w.default)(i.buttonClosed,{[i.buttonActive]:0===s.indexOf("/notifications")})},onClick:E,children:(0,c.jsx)(e9.default,{icon:"BellBorder"})}),(0,c.jsx)(tP.default,{ssr:!1,children:(0,c.jsx)(tU,{open:h,anchorEl:f.current,placement:"bottom",tooltip:!1,overflowPadding:16,clickable:!0,children:(0,c.jsx)(tM,{karmaChanges:null==v?void 0:v.karmaChanges,onOpenNotificationsPopover:k,closePopover:S})})})]})})})})},tQ=e=>{let{toggle:t}=e;return null},tq=(0,z.registerComponent)("NotificationsMenuButton",e=>{let{open:t,toggle:n,className:a}=e,i=(0,eC.isFriendlyUI)()?(0,c.jsx)(tQ,{toggle:n}):(0,c.jsx)(tG,{toggle:n});return(0,c.jsx)(ed.SuspenseWrapper,{name:"NotificationsMenuButton",fallback:i,children:(0,c.jsx)(eu.default,{fallback:i,children:(0,eC.isFriendlyUI)()?(0,c.jsx)(tW,{open:t,toggle:n,className:a}):(0,c.jsx)(tK,{open:t,toggle:n,className:a})})})},{areEqual:"auto"});var tz=e.i(703414),tH=e.i(166540);(0,tH.default)("2024-03-18"),(0,tH.default)("2024-03-29");var tY=e.i(358466);let tJ=(0,C.defineStyles)("Slide",e=>({wrapper:{position:"relative"},slider:{transition:"left 0.3s ease-in-out",position:"relative"},slidOut:{left:"-100%"},slidIn:{left:0}})),tX=e=>{let{slidIn:t,children:n}=e,a=(0,N.useStyles)(tJ);return(0,c.jsx)("div",{className:a.wrapper,children:(0,c.jsx)("div",{className:(0,w.default)(a.slider,{[a.slidOut]:!t,[a.slidIn]:t}),children:n})})},t$=(0,z.registerComponent)("NavigationStandalone",e=>{let{sidebarHidden:t,noTopMargin:n,iconOnlyNavigationEnabled:a,classes:i}=e,{location:r}=(0,D.useLocation)(),o=(0,eC.isFriendlyUI)(),s=r.pathname===(0,tY.getCommunityPath)();return(0,c.jsx)("div",{className:(0,w.default)({[i.sidebarWrapper]:o,[i.iconOnlySidebarWrapper]:o&&a}),children:(0,c.jsx)(tX,{slidIn:!t,children:(0,c.jsxs)("div",{className:(0,w.default)(i.sidebar,{[i.background]:s,[i.iconOnlySidebar]:a}),children:[(0,c.jsx)("div",{className:i.fullNavigation,children:(0,c.jsx)(tz.default,{iconOnlyNavigationEnabled:!1,noTopMargin:n})}),a&&(0,c.jsx)("div",{className:i.iconOnlyNavigation,children:(0,c.jsx)(tz.default,{iconOnlyNavigationEnabled:a,noTopMargin:n})})]})})})},{styles:e=>({sidebarWrapper:{minWidth:100,zIndex:e.zIndexes.footerNav,"@media print":{display:"none"},["@media(max-width: ".concat(1370,"px)")]:{minWidth:0},[e.breakpoints.down("sm")]:{display:"none"}},sidebar:{width:tz.TAB_NAVIGATION_MENU_WIDTH,[e.breakpoints.down("sm")]:{display:"none"},...e.isFriendlyUI&&{top:26}},iconOnlySidebar:{["@media (max-width: ".concat(1424,"px)")]:{width:64}},iconOnlySidebarWrapper:{["@media (max-width: ".concat(1424,"px)")]:{minWidth:64}},navSidebarTransparent:{zIndex:10},background:{background:e.palette.panelBackground.translucent3},fullNavigation:{["@media (max-width: ".concat(1424,"px)")]:{display:"none"}},iconOnlyNavigation:{display:"none",["@media (max-width: ".concat(1424,"px)")]:{display:"block"}}})});var tZ=e.i(329039),t0=e.i(341446);let t1=(0,C.defineStyles)("Drawer",e=>({containerLeft:{position:"absolute",top:0,left:0,bottom:0,width:0},containerRight:{position:"absolute",top:0,right:0,bottom:0,width:0},docked:{flex:"0 0 auto"},container:{zIndex:e.zIndexes.drawer,position:"fixed",top:0,height:"100%"},paper:{position:"absolute",overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",WebkitOverflowScrolling:"touch",outline:"none",transition:"transform ".concat(.3,"s ease-out")},anchorLeft:{right:"100%",transform:"translateX(0)"},anchorRight:{left:"100%",transform:"translateX(0)"},open:{marginLeft:"0 !important",marginRight:"0 !important"},closed:{},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.greyAlpha(.12))},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.greyAlpha(.12))}}));function t2(e){var t,n;let{className:a,paperClassName:i,onClose:r,anchor:o="left",open:s,variant:l="temporary",children:u}=e,p=(0,N.useStyles)(t1),[h,m]=(0,d.useState)(!1),[f,g]=(0,d.useState)(!1),y=(0,d.useRef)(null),v=(0,d.useRef)(0),b=(0,d.useRef)(null);(0,d.useEffect)(()=>s?(h?setTimeout(()=>{g(!0)},0):m(!0),setTimeout(()=>{v.current++},100),()=>{v.current--}):(g(!1),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{m(!1)},300),()=>{b.current&&clearTimeout(b.current)}),[s,h]);let x=null!=(n=null==(t=y.current)?void 0:t.clientWidth)?n:280,C=(0,c.jsx)(E.Paper,{elevation:16*("temporary"===l),square:!0,nodeRef:y,className:(0,w.default)(p.paper,i,{[p.anchorLeft]:"left"===o,[p.anchorRight]:"right"===o,[p.open]:f,[p.closed]:!f}),style:f?{transform:"translateX(".concat("left"===o?x:-x,"px)")}:{},children:u});return"persistent"===l?(0,c.jsx)("div",{className:(0,w.default)(p.container,p.docked,a,{[p.containerLeft]:"left"===o,[p.containerRight]:"right"===o}),children:C}):(0,c.jsxs)(c.Fragment,{children:[h&&(0,c.jsx)(tZ.Backdrop,{visible:f}),h&&(0,eQ.createPortal)((0,c.jsx)("div",{className:(0,w.default)(p.container,a,{[p.containerLeft]:"left"===o,[p.containerRight]:"right"===o}),children:(0,c.jsx)(t0.default,{onClickAway:e=>{v.current>0&&(null==r||r(e))},children:(0,c.jsx)("span",{children:C})})}),document.body)]})}var t4=e.i(662841),t3=e.i(957913),t6=e.i(372593);let t5=(0,z.registerComponent)("TabNavigationCompressedItem",e=>{let{tab:t,onClick:n,classes:a}=e;return(0,c.jsx)(eZ.default,{placement:"right-start",title:t.tooltip||"",children:(0,c.jsx)(t6.MenuItemLink,{onClick:n,to:t.link,children:(0,c.jsxs)("span",{className:(0,w.default)(a.icon,{[a.homeIcon]:"home"===t.id}),children:[t.iconComponent&&(0,c.jsx)(t.iconComponent,{}),t.icon&&t.icon,t.compressedIconComponent&&(0,c.jsx)(t.compressedIconComponent,{})]})})})},{styles:e=>({icon:{display:"block",opacity:.6,width:23,height:23,"& svg":{fill:"currentColor",width:23,height:23},...e.isFriendlyUI&&{opacity:1}},navText:{...e.typography.body2,color:e.palette.grey[700],fontSize:".8rem"},homeIcon:{"& svg":{position:"relative",top:-1}}})});var t8=e.i(437384);let t7=(0,z.registerComponent)("TabNavigationMenuCompressed",e=>{let{onClickSection:t,classes:n}=e;return(0,c.jsx)("div",{className:n.root,children:(0,G.forumSelect)((0,t3.default)()).map(e=>{if("showOnCompressed"in e&&e.showOnCompressed)return"divider"in e?(0,c.jsx)(t8.default,{className:n.divider},e.id):(0,c.jsx)(t5,{tab:e,onClick:t},e.id)})})},{styles:e=>({root:{display:"flex",flexDirection:"column",width:55,backgroundColor:e.palette.grey[100],borderRight:e.palette.border.faint,height:"100%",color:e.palette.grey[600]},divider:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit}})}),t9=(0,C.defineStyles)("NavigationDrawer",e=>({paperWithoutToC:{width:280,overflowY:"auto"},paperWithToC:{width:280,[e.breakpoints.down("sm")]:{width:300},overflow:"hidden"},drawerNavigationMenuUncompressed:{left:0,width:260,paddingBottom:20},hideOnMobile:{[e.breakpoints.down("sm")]:{display:"none"}},drawerNavigationMenuCompressed:{width:55,backgroundColor:e.palette.grey[100],paddingTop:2*e.spacing.unit,paddingBottom:e.spacing.unit,borderRight:e.palette.border.faint,height:"100%",color:e.palette.grey[600],[e.breakpoints.up("md")]:{display:"none"}},tableOfContents:{padding:"16px 0 16px 16px",position:"absolute",overflowY:"auto",left:55,maxWidth:247,height:"100%",[e.breakpoints.up("md")]:{display:"none"}}})),ne=(0,z.registerComponent)("NavigationDrawer",e=>{let{open:t,handleClose:n,toc:a}=e,i=(0,N.useStyles)(t9),r=a&&a.sections;return(0,c.jsxs)(t2,{open:t,onClose:e=>n(),paperClassName:r?i.paperWithToC:i.paperWithoutToC,children:[(0,c.jsx)("div",{className:(0,w.default)(i.drawerNavigationMenuUncompressed,{[i.hideOnMobile]:r}),children:(0,c.jsx)(tz.default,{onClickSection:n})}),r&&(0,c.jsxs)(d.default.Fragment,{children:[(0,c.jsx)("div",{className:i.drawerNavigationMenuCompressed,children:(0,c.jsx)(t7,{onClickSection:n})}),(0,c.jsx)("div",{className:i.tableOfContents,children:(0,c.jsx)(t4.default,{tocSections:a.sections,title:null,onClickSection:()=>n()})})]})]})}),nt=(0,C.defineStyles)("KarmaChangeNotifier",e=>({root:{display:"flex",alignItems:"center"},placeholder:{},karmaNotifierButton:{},karmaNotifierPaper:{},karmaNotifierPopper:{zIndex:e.zIndexes.karmaChangeNotifier},starIcon:{color:e.isFriendlyUI?e.palette.grey[600]:e.palette.header.text,...(0,tx.isIfAnyoneBuildsItFrontPage)({color:e.palette.text.bannerAdOverlay})},title:{display:"block",paddingTop:2*e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit,paddingBottom:e.spacing.unit},votedItems:{},votedItemRow:{height:20},votedItemScoreChange:{display:"inline-block",minWidth:20,textAlign:"right"},votedItemReacts:{marginLeft:(0,G.isEAForum)()?12:6},individualAddedReact:{color:(0,G.isEAForum)()?e.palette.primary.main:void 0,marginLeft:2,marginRight:(0,G.isEAForum)()?6:void 0},votedItemDescription:{display:"inline-block",marginLeft:5,whiteSpace:"nowrap",overflow:"hidden",maxWidth:250,textOverflow:"ellipsis"},singleLinePreview:{whiteSpace:"nowrap",overflow:"hidden",maxWidth:300},pointBadge:{fontSize:"0.9rem"},gainedPoints:{color:e.palette.primary.main},zeroPoints:{},lostPoints:{},settings:{display:"block",textAlign:"right",paddingTop:e.spacing.unit,paddingRight:2*e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,color:e.palette.grey[600],"&:hover":{color:e.palette.grey[500]}}}),{stylePriority:-1}),nn=e=>{let{n:t}=e,n=(0,N.useStyles)(nt);return t>0?(0,c.jsx)("span",{className:n.gainedPoints,children:"+".concat(t)}):0===t?(0,c.jsx)("span",{className:n.zeroPoints,children:t}):(0,c.jsx)("span",{className:n.lostPoints,children:t})};var na=e.i(566721),ni=e.i(37345),nr=e.i(405706),no=e.i(695310),ns=e.i(583091);let nl=e=>{let{reactionChanges:t}=e,n=(0,N.useStyles)(nt),a=new Set;for(let e of t)a.add(e.reactionType);return(0,c.jsx)("span",{children:[...a.keys()].map(e=>{var a,i;let r=!1,o=null==(a=ns.eaEmojiPalette.find(t=>t.name===e))?void 0:a.Component;return!o&&(0,G.isEAForum)()&&(o=null==(i=ns.eaAnonymousEmojiPalette.find(t=>t.name===e))?void 0:i.Component,r=!0),(0,c.jsx)("span",{className:n.individualAddedReact,children:(0,c.jsx)(eZ.default,{title:t.filter(t=>t.reactionType===e).map((e,t)=>(0,c.jsxs)(c.Fragment,{children:[t>0&&(0,c.jsx)(c.Fragment,{children:", "}),(0,c.jsx)(no.default,{documentId:e.userId})]})),disabled:r,children:o&&(0,G.isEAForum)()?(0,c.jsx)(o,{}):(0,c.jsx)(nr.default,{react:e})})},e)})})},nc=e=>{let{karmaChanges:t,handleClose:n}=e,a=(0,N.useStyles)(nt),{posts:i,comments:r,tagRevisions:o,updateFrequency:s}=t,l=(0,O.useCurrentUser)(),d=!(i&&i.length>0||r&&r.length>0||o&&o.length>0),u=(0,ni.getKarmaNotificationTimingChoices)();return(0,c.jsxs)(I.Typography,{variant:"body2",children:[d?(0,c.jsx)("span",{className:a.title,children:u[s].emptyText}):(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:a.title,children:u[s].infoText}),(0,c.jsxs)("div",{className:a.votedItems,children:[t.posts&&t.posts.map(e=>(0,c.jsxs)(t6.MenuItemLink,{className:a.votedItemRow,to:(0,eH.postGetPageUrl)(e),children:[0!==e.scoreChange&&(0,c.jsx)("span",{className:a.votedItemScoreChange,children:(0,c.jsx)(nn,{n:e.scoreChange})}),(0,c.jsx)("span",{className:a.votedItemReacts,children:(0,c.jsx)(nl,{reactionChanges:e.addedReacts})}),(0,c.jsx)("div",{className:a.votedItemDescription,children:e.title})]},e._id)),t.comments&&t.comments.map(e=>(0,c.jsxs)(t6.MenuItemLink,{className:a.votedItemRow,to:(0,na.commentGetPageUrlFromIds)({postId:e.postId,tagSlug:e.tagSlug,tagCommentType:e.tagCommentType,commentId:e._id}),children:[0!==e.scoreChange&&(0,c.jsx)("span",{className:a.votedItemScoreChange,children:(0,c.jsx)(nn,{n:e.scoreChange})}),!!e.addedReacts.length&&(0,c.jsx)("span",{className:a.votedItemReacts,children:(0,c.jsx)(nl,{reactionChanges:e.addedReacts})}),(0,c.jsx)("div",{className:a.votedItemDescription,children:e.description})]},e._id)),t.tagRevisions.map(e=>(0,c.jsxs)(t6.MenuItemLink,{className:a.votedItemRow,to:"".concat((0,e4.tagGetHistoryUrl)({slug:e.tagSlug}),"?user=").concat(l.slug),children:[(0,c.jsx)("span",{className:a.votedItemScoreChange,children:(0,c.jsx)(nn,{n:e.scoreChange})}),(0,c.jsx)("span",{className:a.votedItemReacts,children:(0,c.jsx)(nl,{reactionChanges:e.addedReacts})}),(0,c.jsx)("div",{className:a.votedItemDescription,children:e.tagName})]},e._id))]})]}),(0,c.jsx)(H.Link,{to:"/account",onClick:n,children:(0,c.jsx)("span",{className:a.settings,children:(0,eC.preferredHeadingCase)("Change Settings")})})]})},nd={staticChildren:{abTestGroups:{hasPage:!0},about:{hasPage:!0},account:{hasPage:!0},admin:{staticChildren:{commentEmbeddings:{hasPage:!0},curation:{hasPage:!0},debugHeaders:{hasRoute:!0},llmConversations:{hasPage:!0},migrations:{hasPage:!0},moderation:{hasPage:!0},moderationTemplates:{hasPage:!0},modgpt:{hasPage:!0},onboarding:{hasPage:!0},"random-user":{hasPage:!0},recentlyActiveUsers:{hasPage:!0},supermod:{hasPage:!0},synonyms:{hasPage:!0},tagMerge:{hasPage:!0}},lowerCase:{commentembeddings:"commentEmbeddings",curation:"curation",debugheaders:"debugHeaders",llmconversations:"llmConversations",migrations:"migrations",moderation:"moderation",moderationtemplates:"moderationTemplates",modgpt:"modgpt",onboarding:"onboarding","random-user":"random-user",recentlyactiveusers:"recentlyActiveUsers",supermod:"supermod",synonyms:"synonyms",tagmerge:"tagMerge"},hasPage:!0},allComments:{hasPage:!0},allCommentsWithReacts:{hasPage:!0},allPosts:{hasPage:!0},allgroups:{hasPage:!0},analyticsEvent:{hasRoute:!0},api:{staticChildren:{autocomplete:{hasRoute:!0},autocomplete405b:{hasRoute:!0},cron:{staticChildren:{"every-five-minutes":{hasRoute:!0},"every-hour":{hasRoute:!0},"every-midnight":{hasRoute:!0},"every-minute":{hasRoute:!0},"every-ten-minutes":{hasRoute:!0},"run-twitter-bot":{hasRoute:!0},"update-analytics-collections":{hasRoute:!0},"update-missing-post-embeddings":{hasRoute:!0},"update-promoted-spotlight-item":{hasRoute:!0},"update-review-vote-totals":{hasRoute:!0},"update-user-activities":{hasRoute:!0}},lowerCase:{"every-five-minutes":"every-five-minutes","every-hour":"every-hour","every-midnight":"every-midnight","every-minute":"every-minute","every-ten-minutes":"every-ten-minutes","run-twitter-bot":"run-twitter-bot","update-analytics-collections":"update-analytics-collections","update-missing-post-embeddings":"update-missing-post-embeddings","update-promoted-spotlight-item":"update-promoted-spotlight-item","update-review-vote-totals":"update-review-vote-totals","update-user-activities":"update-user-activities"}},dropAndCreatePg:{hasRoute:!0},getLlmFeedback:{hasRoute:!0},health:{hasRoute:!0},notificationCount:{hasRoute:!0},notificationEvents:{hasRoute:!0},quit:{hasRoute:!0},registerClientId:{hasRoute:!0},search:{staticChildren:{userFacets:{hasRoute:!0}},lowerCase:{userfacets:"userFacets"},hasRoute:!0},sendLlmChat:{hasRoute:!0},v2:{staticChildren:{crosspost:{staticChildren:{connectCrossposter:{hasRoute:!0},crosspost:{hasRoute:!0},crosspostDetails:{hasRoute:!0},crossposterDetails:{hasRoute:!0},generateToken:{hasRoute:!0},unlinkCrossposter:{hasRoute:!0},updateCrosspost:{hasRoute:!0}},lowerCase:{connectcrossposter:"connectCrossposter",crosspost:"crosspost",crosspostdetails:"crosspostDetails",crossposterdetails:"crossposterDetails",generatetoken:"generateToken",unlinkcrossposter:"unlinkCrossposter",updatecrosspost:"updateCrosspost"}}},lowerCase:{crosspost:"crosspost"}}},lowerCase:{autocomplete:"autocomplete",autocomplete405b:"autocomplete405b",cron:"cron",dropandcreatepg:"dropAndCreatePg",getllmfeedback:"getLlmFeedback",health:"health",notificationcount:"notificationCount",notificationevents:"notificationEvents",quit:"quit",registerclientid:"registerClientId",search:"search",sendllmchat:"sendLlmChat",v2:"v2"}},arbital:{hasPage:!0},auth:{staticChildren:{github:{staticChildren:{callback:{hasRoute:!0}},lowerCase:{callback:"callback"},hasRoute:!0},google:{staticChildren:{callback:{hasRoute:!0}},lowerCase:{callback:"callback"},hasRoute:!0},linkgdrive:{hasRoute:!0}},lowerCase:{github:"github",google:"google",linkgdrive:"linkgdrive"}},autocompleteSettings:{hasPage:!0},banNotice:{hasPage:!0},bestoflesswrong:{dynamicChild:{paramName:"year",child:{dynamicChild:{paramName:"topic",child:{hasPage:!0}}}},hasPage:!0},bestoflesswrongadmin:{dynamicChild:{paramName:"year",child:{hasPage:!0}}},bookmarks:{hasPage:!0},books:{staticChildren:{2018:{hasPage:!0},2019:{hasPage:!0}},lowerCase:{2018:"2018",2019:"2019"},hasPage:!0},"ckeditor-token":{hasRoute:!0},"ckeditor-webhook":{hasRoute:!0},codex:{dynamicChild:{paramName:"slug",child:{hasPage:!0}},hasPage:!0},collaborateOnPost:{hasPage:!0},collections:{dynamicChild:{paramName:"_id",child:{hasPage:!0}}},community:{hasPage:!0},compare:{staticChildren:{post:{dynamicChild:{paramName:"_id",child:{dynamicChild:{paramName:"slug",child:{hasPage:!0}}}}},w:{dynamicChild:{paramName:"slug",child:{hasPage:!0}}}},lowerCase:{post:"post",w:"w"}},contact:{hasPage:!0},crosspostLogin:{hasPage:!0},debug:{staticChildren:{emailHistory:{hasPage:!0},notificationEmailPreview:{hasPage:!0},"query-waterfall":{hasPage:!0}},lowerCase:{emailhistory:"emailHistory",notificationemailpreview:"notificationEmailPreview","query-waterfall":"query-waterfall"}},dialogues:{hasPage:!0},donate:{hasPage:!0},drafts:{hasPage:!0},editPost:{hasPage:!0},emailToken:{dynamicChild:{paramName:"token",child:{hasPage:!0}}},events:{dynamicChild:{paramName:"_id",child:{dynamicChild:{paramName:"slug",child:{hasPage:!0}},hasPage:!0}}},faq:{hasPage:!0},"favicon.ico":{hasRoute:!0},feed:{hasPage:!0},"feed.xml":{hasRoute:!0},g:{dynamicChild:{paramName:"groupId",child:{staticChildren:{p:{dynamicChild:{paramName:"_id",child:{hasPage:!0}}}},lowerCase:{p:"p"}}}},glossaryEditor:{hasPage:!0},graphiql:{hasRoute:!0},graphql:{hasRoute:!0},groups:{dynamicChild:{paramName:"groupId",child:{hasPage:!0}}},"groups-map":{hasPage:!0},highlights:{dynamicChild:{paramName:"slug",child:{hasPage:!0}},hasPage:!0},hpmor:{dynamicChild:{paramName:"slug",child:{hasPage:!0}},hasPage:!0},inbox:{hasPage:!0},item:{hasRoute:!0},leaderboard:{hasPage:!0},library:{hasPage:!0},login:{hasPage:!0},logout:{hasRoute:!0},lw:{dynamicChild:{paramName:"id",child:{dynamicChild:{paramName:"slug",child:{dynamicChild:{paramName:"commentId",child:{staticChildren:{".rss":{hasRoute:!0}},lowerCase:{".rss":".rss"},hasRoute:!0}},hasRoute:!0}},hasRoute:!0}}},manageSubscriptions:{hasPage:!0},meetups:{hasPage:!0},message:{dynamicChild:{paramName:"slug",child:{hasPage:!0}}},moderation:{staticChildren:{altAccounts:{hasPage:!0}},lowerCase:{altaccounts:"altAccounts"},hasPage:!0},moderatorComments:{hasPage:!0},moderatorInbox:{hasPage:!0},newLongformReview:{hasPage:!0},newPost:{hasPage:!0},nominatePosts:{dynamicChild:{paramName:"year",child:{hasPage:!0}}},nominations:{staticChildren:{2018:{hasPage:!0},2019:{hasPage:!0}},lowerCase:{2018:"2018",2019:"2019"}},out:{hasRoute:!0},pastEvents:{hasPage:!0},payments:{staticChildren:{account:{hasPage:!0},admin:{hasPage:!0}},lowerCase:{account:"account",admin:"admin"}},petrov:{staticChildren:{ceremony:{hasPage:!0}},lowerCase:{ceremony:"ceremony"}},petrovDayPoll:{hasPage:!0},petroyDayPoll:{hasPage:!0},postAnalytics:{hasPage:!0},posts:{staticChildren:{slug:{dynamicChild:{paramName:"slug",child:{hasPage:!0}},hasPage:!0}},lowerCase:{slug:"slug"},dynamicChild:{paramName:"_id",child:{dynamicChild:{paramName:"slug",child:{staticChildren:{comment:{dynamicChild:{paramName:"commentId",child:{hasPage:!0}},hasPage:!0}},lowerCase:{comment:"comment"},hasPage:!0}},hasPage:!0}}},postsWithApprovedJargon:{hasPage:!0},questions:{hasPage:!0},quickReview:{dynamicChild:{paramName:"year",child:{hasPage:!0}}},quicktakes:{hasPage:!0},rationality:{dynamicChild:{paramName:"slug",child:{hasPage:!0}},hasPage:!0},recommendations:{hasPage:!0},resendVerificationEmail:{hasPage:!0},resetPassword:{dynamicChild:{paramName:"token",child:{hasPage:!0}}},reviewAdmin:{dynamicChild:{paramName:"year",child:{hasPage:!0}}},reviewVoting:{dynamicChild:{paramName:"year",child:{hasPage:!0}}},reviews:{dynamicChild:{paramName:"year",child:{hasPage:!0}}},revisions:{staticChildren:{post:{dynamicChild:{paramName:"_id",child:{dynamicChild:{paramName:"slug",child:{hasPage:!0}}}}},w:{dynamicChild:{paramName:"slug",child:{hasPage:!0}}}},lowerCase:{post:"post",w:"w"}},"robots.txt":{hasRoute:!0},s:{dynamicChild:{paramName:"_id",child:{staticChildren:{p:{dynamicChild:{paramName:"postId",child:{hasPage:!0}}}},lowerCase:{p:"p"},hasPage:!0}}},search:{hasPage:!0},sequences:{dynamicChild:{paramName:"_id",child:{hasPage:!0}},hasPage:!0},sequencesNew:{hasPage:!0},spotlights:{hasPage:!0},u:{dynamicChild:{paramName:"slug",child:{hasPage:!0}}},upcomingEvents:{hasPage:!0},user:{dynamicChild:{paramName:"slug",child:{catchAll:{paramName:"params",child:{hasRoute:!0}},hasPage:!0}}},users:{dynamicChild:{paramName:"slug",child:{staticChildren:{edit:{hasPage:!0},replies:{hasPage:!0}},lowerCase:{edit:"edit",replies:"replies"},hasPage:!0}}},w:{staticChildren:{create:{hasPage:!0},dashboard:{hasPage:!0},random:{hasPage:!0}},lowerCase:{create:"create",dashboard:"dashboard",random:"random"},dynamicChild:{paramName:"slug",child:{staticChildren:{discussion:{hasPage:!0},edit:{hasPage:!0},history:{hasPage:!0}},lowerCase:{discussion:"discussion",edit:"edit",history:"history"},hasPage:!0}}},wActivity:{hasPage:!0},wFeed:{hasPage:!0},wikitags:{staticChildren:{all:{hasPage:!0}},lowerCase:{all:"all"}}},lowerCase:{abtestgroups:"abTestGroups",about:"about",account:"account",admin:"admin",allcomments:"allComments",allcommentswithreacts:"allCommentsWithReacts",allposts:"allPosts",allgroups:"allgroups",analyticsevent:"analyticsEvent",api:"api",arbital:"arbital",auth:"auth",autocompletesettings:"autocompleteSettings",bannotice:"banNotice",bestoflesswrong:"bestoflesswrong",bestoflesswrongadmin:"bestoflesswrongadmin",bookmarks:"bookmarks",books:"books","ckeditor-token":"ckeditor-token","ckeditor-webhook":"ckeditor-webhook",codex:"codex",collaborateonpost:"collaborateOnPost",collections:"collections",community:"community",compare:"compare",contact:"contact",crosspostlogin:"crosspostLogin",debug:"debug",dialogues:"dialogues",donate:"donate",drafts:"drafts",editpost:"editPost",emailtoken:"emailToken",events:"events",faq:"faq","favicon.ico":"favicon.ico",feed:"feed","feed.xml":"feed.xml",g:"g",glossaryeditor:"glossaryEditor",graphiql:"graphiql",graphql:"graphql",groups:"groups","groups-map":"groups-map",highlights:"highlights",hpmor:"hpmor",inbox:"inbox",item:"item",leaderboard:"leaderboard",library:"library",login:"login",logout:"logout",lw:"lw",managesubscriptions:"manageSubscriptions",meetups:"meetups",message:"message",moderation:"moderation",moderatorcomments:"moderatorComments",moderatorinbox:"moderatorInbox",newlongformreview:"newLongformReview",newpost:"newPost",nominateposts:"nominatePosts",nominations:"nominations",out:"out",pastevents:"pastEvents",payments:"payments",petrov:"petrov",petrovdaypoll:"petrovDayPoll",petroydaypoll:"petroyDayPoll",postanalytics:"postAnalytics",posts:"posts",postswithapprovedjargon:"postsWithApprovedJargon",questions:"questions",quickreview:"quickReview",quicktakes:"quicktakes",rationality:"rationality",recommendations:"recommendations",resendverificationemail:"resendVerificationEmail",resetpassword:"resetPassword",reviewadmin:"reviewAdmin",reviewvoting:"reviewVoting",reviews:"reviews",revisions:"revisions","robots.txt":"robots.txt",s:"s",search:"search",sequences:"sequences",sequencesnew:"sequencesNew",spotlights:"spotlights",u:"u",upcomingevents:"upcomingEvents",user:"user",users:"users",w:"w",wactivity:"wActivity",wfeed:"wFeed",wikitags:"wikitags"},hasPage:!0},nu=(0,ea.gql)("\n  query KarmaChangeNotifier($documentId: String) {\n    user(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...UserKarmaChanges\n      }\n    }\n  }\n"),np=e=>{var t;let{className:n}=e,a=(0,N.useStyles)(nt),i=(0,O.useCurrentUser)(),r=(0,er.useUpdateCurrentUser)(),[o,s]=(0,d.useState)(!1),[l,u]=(0,d.useState)(!1),p=(0,d.useRef)(null),{captureEvent:h}=(0,P.useTracking)(),[m,f]=(0,d.useState)((null==i?void 0:i.karmaChangeLastOpened)||new Date),{data:g}=(0,tF.useSuspenseQuery)(nu,{variables:{documentId:i._id}}),y=null==g||null==(t=g.user)?void 0:t.result,[v,b]=(0,d.useState)(null==y?void 0:y.karmaChanges),x=()=>{u(!1),i&&(null==y?void 0:y.karmaChanges)&&(r({...y.karmaChanges.endDate&&{karmaChangeLastOpened:new Date(y.karmaChanges.endDate)},...y.karmaChanges.startDate&&{karmaChangeBatchStart:new Date(y.karmaChanges.startDate)}}),"realtime"===y.karmaChanges.updateFrequency&&s(!0))},C=()=>{l?x():(u(!0),f(new Date)),h("karmaNotifierToggle",{open:!l,karmaChangeLastOpened:m,karmaChanges:v})};return(()=>{if(!y)return(0,c.jsx)(nh,{});let e=v||y.karmaChanges;if(!e)return(0,c.jsx)(nh,{});let{karmaChangeNotifierSettings:t}=i;if(t&&"disabled"===t.updateFrequency)return null;let{posts:r,comments:s,tagRevisions:d,endDate:u,totalChange:h}=e,f=new Date(m||0)<new Date(u||0),g=!(null==s?void 0:s.length)&&!(null==r?void 0:r.length)&&!(null==d?void 0:d.length)||o||!f;return(0,c.jsx)(P.AnalyticsContext,{pageSection:"karmaChangeNotifer",children:(0,c.jsxs)("div",{className:(0,w.default)(a.root,n),children:[(0,c.jsx)("div",{ref:p,children:(0,c.jsx)($.default,{onClick:C,className:a.karmaNotifierButton,children:g?(0,c.jsx)(e9.default,{icon:"KarmaOutline",className:a.starIcon}):(0,c.jsx)(tD.Badge,{badgeContent:(0,c.jsx)("span",{className:a.pointBadge,children:!!h&&(0,c.jsx)(nn,{n:h})}),children:(0,c.jsx)(e9.default,{icon:"Karma",className:a.starIcon})})})}),(0,c.jsx)(tu.default,{open:l,anchorEl:p.current,placement:"bottom-end",className:a.karmaNotifierPopper,children:(0,c.jsx)(t_.default,{onClickAway:x,children:(0,c.jsx)(E.Paper,{className:a.karmaNotifierPaper,children:(0,c.jsx)(nc,{karmaChanges:e,handleClose:x})})})})]})})})()},nh=e=>{let{className:t}=e,n=(0,N.useStyles)(nt);return(0,c.jsx)("div",{className:(0,w.default)(n.root,n.placeholder,t),children:(0,c.jsx)($.default,{className:n.karmaNotifierButton,children:(0,c.jsx)(e9.default,{icon:"KarmaOutline",className:n.starIcon})})})},nm=e=>{let{className:t}=e,{pathname:n}=(0,D.useLocation)(),a=function(e){let t=e.indexOf("?"),n=e.indexOf("#"),a=(e,t)=>-1===e?t:Math.min(e,t),i=a(n,a(t,e.length)),r=e.slice(0,i).split("/").filter(Boolean),o=nd,s=[];function l(e){return!!e&&!!(e.hasPage||e.hasRoute)}for(let e=0;e<r.length;e++){let t=r[e];if(!o)return null;if(o.lowerCase&&o.staticChildren){let e=o.lowerCase[t.toLowerCase()];if(e&&o.staticChildren[e]){s.push(e),o=o.staticChildren[e];continue}}if(o.dynamicChild){s.push(t),o=o.dynamicChild.child;continue}if(o.catchAll){for(let t=e;t<r.length;t++)s.push(r[t]);o=o.catchAll.child,e=r.length;break}if(o.optionalCatchAll){for(let t=e;t<r.length;t++)s.push(r[t]);o=o.optionalCatchAll.child,e=r.length;break}return null}return r.length?l(o)?"/"+s.join("/"):null:l(o)?"/":null}(n);return(0,c.jsx)(tP.default,{ssr:!!a,fallback:(0,c.jsx)(nh,{className:t}),children:(0,c.jsx)(ed.SuspenseWrapper,{name:"KarmaChangeNotifier",fallback:(0,c.jsx)(nh,{className:t}),children:(0,c.jsx)(eu.default,{children:(0,c.jsx)(np,{className:t})})})})};var nf=e.i(756453),ng=e.i(398838);let ny=(0,z.registerComponent)("MessagesMenuButton",e=>{let{className:t}=e,n=(0,N.useStyles)(tB),{unreadNotificationCountsQueryRef:a}=ew(),{data:i}=(0,el.useReadQuery)(a),r=null==i?void 0:i.unreadNotificationCounts.unreadPrivateMessages,{pathname:o}=(0,D.useLocation)(),s=(0,D.useNavigate)(),l=(0,d.useCallback)(()=>{s("/inbox")},[s]),u=r>0,p=u?String(r):"";return(0,c.jsx)(eZ.default,{title:"Messages",placement:"bottom",popperClassName:n.tooltip,className:t,children:(0,c.jsx)(tD.Badge,{className:n.badgeContainer,badgeClassName:(0,w.default)(n.badge,{[n.badgeBackground]:u,[n.badge1Char]:1===p.length,[n.badge2Chars]:2===p.length}),badgeContent:p,children:(0,c.jsx)($.default,{classes:{root:(0,w.default)(n.buttonClosed,{[n.buttonActive]:0===o.indexOf("/inbox")})},onClick:l,children:(0,c.jsx)(e9.default,{icon:"Envelope"})})})})});var nv=e.i(167225);function nb(e,t){return(nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nb(e,t)}var nw=e.i(131052);e.i(886729),e.i(40992);var nN=e.i(612418);e.i(179684),e.i(398437);var nC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g,nk=d.default.createContext||function(e,t){var n,a,i="__create-react-context-"+(nC.__global_unique_id__=(nC.__global_unique_id__||0)+1)+"__",r=function(e){function n(){for(var t,n,a,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=e.call.apply(e,[this].concat(r))||this).props.value,a=[],t.emitter={on:function(e){a.push(e)},off:function(e){a=a.filter(function(t){return t!==e})},get:function(){return n},set:function(e,t){n=e,a.forEach(function(e){return e(n,t)})}},t}nx(n,e);var a=n.prototype;return a.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},a.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,a=this.props.value,i=e.value;(a===i?0!==a||1/a==1/i:a!=a&&i!=i)?n=0:0!=(n=("function"==typeof t?t(a,i):0x3fffffff)|0)&&this.emitter.set(e.value,n)}},a.render=function(){return this.props.children},n}(d.default.Component);(n={})[i]=nw.default.object.isRequired,r.childContextTypes=n;var o=function(t){function n(){for(var e,n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){(e.observedBits&n)!=0&&e.setState({value:e.getValue()})},e}nx(n,t);var a=n.prototype;return a.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?0x3fffffff:t},a.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?0x3fffffff:e},a.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},a.getValue=function(){return this.context[i]?this.context[i].get():e},a.render=function(){var e;return(Array.isArray(e=this.props.children)?e[0]:e)(this.state.value)},n}(d.default.Component);return(a={})[i]=nw.default.object,o.contextTypes=a,{Provider:r,Consumer:o}},nS=function(e){var t=nk();return t.displayName=e,t};d.default.Component,d.default.Component,d.default.Component;var nE={},nI=0;d.default.Component;function nT(e,t){var n,a,i,r,o,s,l,c,d;return("string"==typeof(n={path:t,exact:!0,strict:!1})||Array.isArray(n))&&(n={path:n}),i=(a=n).path,o=void 0!==(r=a.exact)&&r,l=void 0!==(s=a.strict)&&s,d=void 0!==(c=a.sensitive)&&c,!![].concat(i).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var a=function(e,t){var n=""+t.end+t.strict+t.sensitive,a=nE[n]||(nE[n]={});if(a[e])return a[e];var i=[],r={regexp:(0,nN.default)(e,i,t),keys:i};return nI<1e4&&(a[e]=r,nI++),r}(n,{end:o,strict:l,sensitive:d}),i=a.regexp,r=a.keys,s=i.exec(e);if(!s)return null;var c=s[0],u=s.slice(1),p=e===c;return o&&!p?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:p,params:r.reduce(function(e,t,n){return e[t.name]=u[n],e},{})}},null)}d.default.Component,d.default.Component,d.default.useContext;let nj=e=>nT(e,"/")&&!(0,G.isAF)(),n_=e=>["/crosspostLogin","/groups-map"].some(t=>nT(e,t)),nL=e=>["/inbox","/inbox/:_id","/moderatorInbox","/conversation"].some(t=>nT(e,t));e.i(650256);var nO=e.i(574712);e.i(671339);var nA=e.i(730490),nR=e.i(780076),nD=e.i(229720);let nP=(0,Z.default)((0,c.jsxs)(d.default.Fragment,{children:[(0,c.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),(0,c.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}),"Mail");var nF=e.i(100916),nB=e.i(301100),nM=e.i(565718),nU=e.i(651605),nV=e.i(244389),nK=e.i(179096),nG=e.i(495314),nW=e.i(85528),nQ=e.i(945040),nq=e.i(239832),nz=e.i(93495),nH=e.i(415617),nY=e.i(87828);let nJ=(0,ea.gql)("\n  query PostNominatedNotification($documentId: String) {\n    post(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...PostsList\n      }\n    }\n  }\n"),nX=(0,z.registerComponent)("PostNominatedNotification",e=>{var t;let{classes:n,postId:a}=e,{loading:i,data:r}=(0,tF.useQuery)(nJ,{variables:{documentId:a},fetchPolicy:"cache-first"}),o=null==r||null==(t=r.post)?void 0:t.result;return i?(0,c.jsx)("div",{className:n.loading,children:(0,c.jsx)(nq.default,{})}):o?(0,c.jsxs)("div",{className:n.root,children:[(0,c.jsx)(nz.default,{post:o}),(0,c.jsxs)(nY.default,{contentType:"comment",children:[(0,c.jsxs)("p",{children:["Your post has been nominated for the ",(0,nG.getReviewNameInSitu)(),"."]}),(0,c.jsx)("p",{children:"You're encouraged to write a self-review, exploring how you think about the post today. Do you still endorse it? Have you learned anything new that adds more depth? How might you improve the post? What further work do you think should be done exploring the ideas here?"}),(0,c.jsx)("div",{className:n.reviewButton,children:(0,c.jsx)(nH.default,{post:o,year:nG.REVIEW_YEAR+"",reviewMessage:(0,c.jsx)(eZ.default,{title:"Write up your thoughts on what was good about a post, how it could be improved, and how you think stands the tests of time as part of the broader ".concat(K.forumTitleSetting.get()," conversation"),placement:"bottom",children:(0,c.jsx)("div",{className:n.reviewButton,children:"Write a Review"})})})})]})]}):(0,c.jsx)("div",{className:n.root,children:"Error"})},{styles:e=>({root:{padding:1.5*e.spacing.unit,width:(0,nW.getPostPreviewWidth)()},loading:{...(0,nQ.notificationLoadingStyles)(e)},reviewButton:{padding:e.spacing.unit,textAlign:"center"}})}),n$=(0,ea.gql)("\n  query TagRelNotificationItem($documentId: String) {\n    tagRel(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...TagRelFragment\n      }\n    }\n  }\n"),nZ=(0,z.registerComponent)("TagRelNotificationItem",e=>{var t,n,a;let{classes:i,tagRelId:r}=e,{loading:o,data:s}=(0,tF.useQuery)(n$,{variables:{documentId:r}}),l=null==s||null==(t=s.tagRel)?void 0:t.result;return o?(0,c.jsx)(nq.default,{}):l?(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:i.meta,children:["New post tagged ",(0,c.jsx)("em",{children:null==(n=l.tag)?void 0:n.name}),":"]}),(0,c.jsx)("div",{className:i.title,children:null==(a=l.post)?void 0:a.title})]}):null},{styles:e=>({meta:{fontSize:".9rem",color:e.palette.text.dim45},title:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})});var n0=e.i(244912);let n1=(0,ea.gql)("\n  query CommentOnYourDraftNotificationHover($documentId: String) {\n    post(input: { selector: { documentId: $documentId } }) {\n      result {\n        ...PostsMinimumInfo\n      }\n    }\n  }\n"),n2=(0,z.registerComponent)("CommentOnYourDraftNotificationHover",e=>{var t,n,a;let{notification:i,classes:r}=e,o=null!=(a=i.documentId)?a:void 0,s="/editPost?postId=".concat(o),l=(0,O.useCurrentUser)(),{data:d}=(0,tF.useQuery)(n1,{variables:{documentId:o},skip:!o}),u=null==d||null==(t=d.post)?void 0:t.result,p=null==(n=i.extraData)?void 0:n.senderUserID,h=(null==u?void 0:u.draft)?"draft":"post";return(0,c.jsxs)("div",{className:r.root,children:[(0,c.jsxs)("div",{children:[p?(0,c.jsx)(no.default,{documentId:i.extraData.senderUserID}):"Someone",(null==l?void 0:l._id)!==(null==u?void 0:u.userId)?" replied to your comment on ":" commented on your draft ".concat(h),(0,c.jsx)(n0.NotifPopoverLink,{to:s,children:u?u.title:(0,c.jsx)(nq.default,{})})]}),i.extraData&&(0,c.jsx)("blockquote",{dangerouslySetInnerHTML:{__html:i.extraData.commentHtml}})]})},{styles:e=>({root:{padding:16,...e.typography.commentStyle,...e.typography.body2,maxWidth:600}})}),n4={newCommentOnDraft:()=>n2};var n3=e.i(291742),n6=e.i(16956);let n5=(0,Z.default)((0,c.jsxs)(d.default.Fragment,{children:[(0,c.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,c.jsx)("path",{d:"M8 10H5V7H3v3H0v2h3v3h2v-3h3v-2zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 5 18 5c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86s-.34 2.04-.9 2.86c.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 5 13 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16c.83.73 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 13c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z"})]}),"GroupAdd");var n8=e.i(838630),n7=e.i(834562);let n9=e=>{let{style:t}=e;return(0,c.jsxs)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 293.373 293.373",style:t,fill:"currentColor",children:[(0,c.jsx)("g",{children:(0,c.jsxs)("g",{children:[(0,c.jsxs)("g",{children:[(0,c.jsx)("path",{d:"M130.265,162.904c-24.162,0-95.274,0-95.274,0c-7.549,0-13.726,6.176-13.726,13.725v103.02 c0,7.549,6.177,13.725,13.726,13.725c0,0,72.6,0,96.876,0c3.229,0,3.229-3.469,3.229-3.469V167.568 C135.095,167.568,135.095,162.904,130.265,162.904z"}),(0,c.jsx)("path",{d:"M258.383,162.904c0,0-71.384,0-95.177,0c-5.797,0-4.929,6.037-4.929,6.037v121.076c0,0-0.047,3.354,3.44,3.354 c24.166,0,96.664,0,96.664,0c7.549,0,13.726-6.176,13.726-13.725V176.629C272.109,169.08,265.932,162.904,258.383,162.904z"})]}),(0,c.jsxs)("g",{children:[(0,c.jsx)("path",{d:"M135.095,81.846c0,0,0-4.651-4.596-4.651c-27.521,0-111.008,0-111.008,0c-7.549,0-13.726,6.177-13.726,13.725v42.845 c0,7.549,6.177,13.725,13.726,13.725c0,0,83.861,0,111.384,0c4.22,0,4.22-3.66,4.22-3.66V81.846L135.095,81.846z"}),(0,c.jsx)("path",{d:"M273.882,77.195c0,0-83.521,0-111.362,0c-4.241,0-4.241,4.041-4.241,4.041v62.679c0,0,0,3.575,5.156,3.575 c27.611,0,110.447,0,110.447,0c7.549,0,13.726-6.176,13.726-13.725V90.92C287.608,83.372,281.431,77.195,273.882,77.195z"})]}),(0,c.jsx)("g",{children:(0,c.jsx)("path",{d:"M88.41,67.04c-6.28,0-12.016-0.498-17.046-1.481c-12.776-2.496-21.557-7.354-26.845-14.85 c-4.738-6.718-6.188-15-4.311-24.617C43.496,9.266,54.796,0,72.024,0c3.646,0,7.65,0.421,11.902,1.252 c10.816,2.113,24.65,8.315,37.007,16.59c20.965,14.041,22.002,22.77,20.958,28.115c-1.535,7.854-8.876,13.466-22.443,17.158 C110.282,65.609,98.969,67.04,88.41,67.04z M72.025,21.999c-6.672,0-8.965,1.864-10.224,8.311 c-1.03,5.271,0.269,7.112,0.695,7.717c1.784,2.53,6.431,4.64,13.086,5.939c3.591,0.702,8.028,1.073,12.827,1.073 c10.553,0,19.85-1.599,26.019-3.348c0.449-0.127,1.146-0.658,0.399-1.103c-8.065-6.57-22.82-15.343-35.119-17.746 C76.843,22.284,74.257,21.999,72.025,21.999z"})}),(0,c.jsx)("g",{children:(0,c.jsx)("path",{d:"M205.281,67.04c0,0,0,0-0.002,0c-10.559,0-21.871-1.431-31.037-3.925c-13.568-3.691-20.908-9.304-22.443-17.157 c-1.043-5.345-0.008-14.074,20.959-28.115c12.355-8.275,26.189-14.477,37.007-16.59c4.252-0.831,8.256-1.252,11.899-1.252 c17.232,0,28.531,9.267,31.816,26.093c1.879,9.616,0.43,17.898-4.309,24.616c-5.288,7.497-14.068,12.354-26.847,14.85 C217.296,66.541,211.56,67.04,205.281,67.04z M179.039,40.452c-0.715,0.415-0.369,1.07,0.002,1.177 c6.166,1.773,15.561,3.411,26.238,3.411c4.801,0,9.236-0.371,12.828-1.073c6.654-1.3,11.303-3.409,13.086-5.939 c0.428-0.605,1.728-2.446,0.695-7.717C230.63,23.864,228.336,22,221.663,22c-2.231,0-4.815,0.284-7.682,0.844 C201.681,25.246,187.104,33.881,179.039,40.452z"})})]})}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{}),(0,c.jsx)("g",{})]})},ae={margin:16,fontSize:20},at={margin:16,height:20,width:26},an={placement:"left-start",pageElementContext:"linkPreview",pageElementSubContext:"notificationItem",clickable:!0},aa=e=>{let{title:t,children:n,classes:a}=e;return(0,c.jsx)(eZ.default,{...an,tooltip:!1,title:(0,c.jsx)("span",{className:a.preview,children:(0,c.jsx)(E.Card,{children:t})}),children:n})},ai=(0,z.registerComponent)("NotificationsItem",e=>{var t,n,a;let{notification:i,lastNotificationsCheck:r,classes:o}=e,[s,l]=(0,d.useState)(!1),{captureEvent:u}=(0,P.useTracking)(),p=(0,D.useNavigate)(),h=(0,nB.getNotificationTypeByName)(null!=(t=i.type)?t:""),m=null!=(n=i.documentId)?n:"",f=h.getLink?h.getLink({documentType:i.documentType,documentId:i.documentId,extraData:i.extraData}):null!=(a=i.link)?a:"",g=(0,d.useCallback)(e=>{var t,n,a,r,s,l;let{children:d}=e,u=null!=(n=null==(t=n4[h.name])?void 0:t.call(n4))?n:null;if(u)return(0,c.jsx)(aa,{title:(0,c.jsx)(u,{notification:i}),classes:o,children:d});if("postNominated"===i.type)return(0,c.jsx)(aa,{title:(0,c.jsx)(nX,{postId:m}),classes:o,children:d});if("newDialogueMessages"===i.type){let e=null==(a=i.extraData)?void 0:a.dialogueMessageInfo,t=null!=(r=i.documentId)?r:void 0;return(0,c.jsx)(nV.default,{postId:t,dialogueMessageInfo:e,...an,children:d})}let p=(0,nM.parseRouteWithErrors)(f);switch(i.documentType){case"tagRel":return(0,c.jsx)(nV.default,{tagRelId:m,...an,children:d});case"post":return(0,c.jsx)(nV.default,{postId:m,...an,children:d});case"comment":let g=null==p||null==(s=p.params)?void 0:s._id;return g?(0,c.jsx)(nV.default,{postId:g,commentId:m,...an,children:d}):(0,c.jsx)(c.Fragment,{children:d});case"message":return(0,c.jsx)(aa,{title:(0,c.jsx)(nK.default,{conversationId:null==p||null==(l=p.query)?void 0:l.conversation,count:1}),classes:o,children:d})}return(0,c.jsx)(c.Fragment,{children:d})},[o,i,f,h,m]);return(0,c.jsx)(g,{children:(0,c.jsxs)("a",{href:f,className:(0,w.default)(o.root,{[o.read]:!i.createdAt||i.createdAt<r||s,[o.unread]:!(!i.createdAt||i.createdAt<r||s)}),onClick:e=>{if(e.button>0||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return;u("notificationItemClick",{notification:{_id:i._id,type:i.type,documentId:i.documentId,documentType:i.documentType,link:i.link}}),e.preventDefault(),p(f),l(!0);let t=new((0,nU.getUrlClass)())(f,(0,nF.getSiteUrl)()).hash;if(t){let e=document.getElementById(t.substr(1));e&&e.scrollIntoView({behavior:"smooth"})}},children:[i.type?function(e){if(!(0,nB.isNotificationTypeName)(e))return null;switch(e){case"newPost":case"newTagPosts":case"newSequencePosts":return(0,c.jsx)(eJ.default,{style:ae});case"newUserComment":case"newComment":case"newSubforumComment":case"newDebateComment":case"newShortform":case"newReply":case"newReplyToYou":case"newCommentOnDraft":case"newMention":return(0,c.jsx)(nD.default,{style:ae});case"postApproved":case"newEvent":case"newGroupPost":case"newUser":case"emailVerificationRequired":case"postSharedWithUser":case"alignmentSubmissionApproved":case"karmaPowersGained":return(0,c.jsx)(e9.default,{icon:"Bell",style:ae});case"postNominated":return(0,c.jsx)(e9.default,{icon:"Star",style:ae});case"newDialogueMessages":case"newDialogueBatchMessages":case"newPublishedDialogueMessages":case"newDialogueMatch":case"newDialogueChecks":case"yourTurnMatchForm":case"newDebateReply":return(0,c.jsx)(n7.default,{style:ae});case"newMessage":return(0,c.jsx)(nP,{style:ae});case"wrapped":return(0,c.jsx)(n9,{style:at});case"addedAsCoauthor":case"coauthorRequestNotification":return(0,c.jsx)(n5,{style:ae});case"newEventInRadius":case"editedEventInRadius":case"newRSVP":case"cancelledRSVP":return(0,c.jsx)(n3.default,{style:ae});case"newGroupOrganizer":case"newSubforumMember":return(0,c.jsx)(n6.default,{style:ae});case"coauthorAcceptNotification":return(0,c.jsx)(n8.default,{style:ae});default:return null}}(i.type):null,(0,c.jsx)("div",{className:o.notificationLabel,children:"tagRel"===i.documentType?(0,c.jsx)(nZ,{tagRelId:m}):i.message})]})})},{styles:e=>({root:{"&:hover":{backgroundColor:"".concat(e.palette.panelBackground.darken02," !important")},display:"flex",alignItems:"center",padding:0,borderBottom:e.palette.border.faint,transition:"none"},read:{backgroundColor:"".concat(e.palette.panelBackground.darken04," !important"),"&:hover":{backgroundColor:"".concat(e.palette.panelBackground.darken08," !important")}},unread:{backgroundColor:"inherit !important"},preview:{[e.breakpoints.down("xs")]:{display:"none"}},notificationLabel:{...e.typography.body2,fontSize:"14px",lineHeight:"18px",paddingRight:2*e.spacing.unit,color:e.palette.text.notificationLabel,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":2,"-webkit-box-orient":"vertical"}}),hocs:[en.default]});var ar=e.i(846552);let ao=(0,z.registerComponent)("NotificationsList",e=>{var t;let{terms:n,classes:a}=e,i=(0,O.useCurrentUser)(),{view:r,limit:o,...s}=n,{data:l,loading:u,loadMoreProps:p}=(0,ar.useQueryWithLoadMore)(ec,{variables:{selector:{[r]:s},limit:20,enableTotal:!1},itemsPerPage:10}),h=null==l||null==(t=l.notifications)?void 0:t.results,{loadMore:m}=p,[f]=(0,d.useState)((null==i?void 0:i.lastNotificationsCheck)||"");if(null==h?void 0:h.length)return(0,c.jsxs)("ul",{className:a.root,children:[h.map(e=>(0,c.jsx)(ai,{notification:e,lastNotificationsCheck:f},e._id)),h.length>=20&&(0,c.jsx)("div",{className:a.loadMoreButton,onClick:()=>m(),children:(0,c.jsx)("div",{className:a.loadMoreLabel,children:(0,eC.preferredHeadingCase)("Load More")})})]});{if(u)return(0,c.jsx)(nq.default,{});let e=void 0===n.type?(0,c.jsx)(c.Fragment,{}):"newPost"===n.type?(0,c.jsx)("b",{children:"new post"}):"newComment"===n.type?(0,c.jsx)("b",{children:"new comment"}):"newMessage"===n.type?(0,c.jsx)("b",{children:"new message"}):"of these";return(0,c.jsxs)("div",{className:a.empty,children:[" You don't have any ",e," notifications yet"]})}},{styles:e=>({root:{overflowY:"auto",padding:0,margin:0},empty:{...e.typography.body2,padding:10},loadMoreButton:{fontSize:"14px",padding:0,cursor:"pointer",margin:0,"&:hover":{background:e.palette.greyAlpha(.1)}},loadMoreLabel:{padding:16,textAlign:"center",width:"100%",fontFamily:e.palette.fonts.sansSerifStack}}),areEqual:{terms:"shallow"}}),as=(0,C.defineStyles)("NotificationsMenu",e=>({root:{display:"inline-block",verticalAlign:"top"},drawerPaper:{width:270,boxShadow:e.palette.boxShadow.notificationsDrawer,zIndex:e.zIndexes.notificationsMenu},badgeContainer:{padding:"none",verticalAlign:"inherit"},badge:{backgroundColor:"inherit",color:e.palette.text.notificationCount,fontSize:"12px",fontWeight:e.isFriendlyUI?450:500,right:"-15px",top:0,pointerEvents:"none"},icon:{color:e.palette.icon.slightlyDim,"$tabLabel:hover &":{color:e.palette.greyAlpha(1)}},cancelWrapper:{position:"absolute",top:0,height:48,right:0,paddingRight:5,cursor:"pointer"},cancel:{margin:"10px",color:e.palette.icon.dim5,"$cancelWrapper:hover &":{color:e.palette.icon.normal}},tabBar:{background:e.palette.panelBackground.notificationMenuTabBar},tabLabel:{color:e.palette.text.slightlyDim,minWidth:"auto"},hiddenTab:{pointerEvents:"none",minWidth:"auto",width:24}})),al=e=>{let{open:t,setIsOpen:n,hasOpened:a}=e,i=(0,N.useStyles)(as),r=(0,O.useCurrentUserId)(),[o,s]=(0,d.useState)(0),l=(0,d.useCallback)(()=>n(!1),[n]);if(!r)return null;let u=[{name:"All Notifications",icon:()=>(0,c.jsx)(e9.default,{icon:"Bell",className:i.icon}),terms:{view:"userNotifications"}},{name:"New Posts",icon:()=>(0,c.jsx)(eJ.default,{className:i.icon}),terms:{view:"userNotifications",type:"newPost"}},{name:"New Comments",icon:()=>(0,c.jsx)(nD.default,{className:i.icon}),terms:{view:"userNotifications",type:"newComment"}},{name:"New Messages",icon:()=>(0,c.jsx)(tD.Badge,{className:i.badgeContainer,badgeClassName:i.badge,badgeContent:(0,c.jsx)(ed.SuspenseWrapper,{name:"UnreadPrivateMessagesCountBadge",children:(0,c.jsx)(eu.default,{hideMessage:!0,children:(0,c.jsx)(ac,{})})}),children:(0,c.jsx)(nP,{className:i.icon})}),terms:{view:"userNotifications",type:"newMessage"}}],p=u[o].terms;return(0,c.jsx)("div",{className:i.root,children:(0,c.jsx)(eu.default,{children:t&&(0,c.jsx)(t2,{open:t,anchor:"right",onClose:l,paperClassName:i.drawerPaper,variant:"persistent",children:a&&(0,c.jsxs)("div",{className:"notifications-menu-content",children:[(0,c.jsxs)(nA.default,{fullWidth:!0,value:o,className:i.tabBar,onChange:(e,t)=>{t>=u.length?n(!1):s(t)},children:[u.map(e=>(0,c.jsx)(nO.default,{icon:(0,c.jsx)("span",{title:e.name,children:e.icon()}),className:i.tabLabel},e.name)),(0,c.jsx)(nO.default,{className:i.hiddenTab})]}),(0,c.jsx)("div",{className:i.cancelWrapper,onClick:()=>n(!1),children:(0,c.jsx)(nR.default,{className:i.cancel})}),(0,c.jsx)(ao,{terms:{...p,userId:r}})]})})})})},ac=()=>{var e,t;let{unreadNotificationCountsQueryRef:n}=ew(),{data:a}=(0,el.useReadQuery)(n),i=null!=(t=null==a||null==(e=a.unreadNotificationCounts)?void 0:e.unreadPrivateMessages)?t:0;return i>0?"".concat(i):""},ad=(0,z.registerComponent)("NotificationsMenu",e=>{let{open:t,setIsOpen:n,hasOpened:a}=e;return(0,c.jsx)(ed.SuspenseWrapper,{name:"NotificationsMenu",children:(0,c.jsx)(eu.default,{children:(0,c.jsx)(al,{open:t,setIsOpen:n,hasOpened:a})})})},{areEqual:"auto"});var au=e.i(109270),ap=e.i(338552),ah=e.i(600723);let am=(0,C.defineStyles)("FundraiserBanner",e=>({root:{display:"block",position:"relative",height:34,overflow:"hidden",textDecoration:"none",cursor:"pointer",opacity:1,"&:hover":{textDecoration:"none",opacity:1},[e.breakpoints.down("sm")]:{height:32}},rootHoverable:{"&:hover $overlay":{background:"linear-gradient(90deg, color-mix(in srgb, ".concat(e.palette.text.alwaysBlack," 40%, transparent) 0%, color-mix(in srgb, ").concat(e.palette.text.alwaysBlack," 15%, transparent) 60%, color-mix(in srgb, ").concat(e.palette.text.alwaysBlack," 30%, transparent) 100%)")},"&:hover $backgroundImage":{filter:"brightness(0.9)"}},backgroundImage:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(".concat("https://res.cloudinary.com/lesswrong-2-0/image/upload/v1764741742/habryka_Art_nouveau_cityscape_sci-fi_victorian_solarpunk_citysc_efcc5189-1666-4dd3-b487-2bdaae4cddb2_e86mhl.png",")"),backgroundSize:"cover",backgroundPosition:"center 40%",filter:"brightness(0.8)",transition:"filter 0.2s ease"},overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(90deg, color-mix(in srgb, ".concat(e.palette.text.alwaysBlack," 50%, transparent) 0%, color-mix(in srgb, ").concat(e.palette.text.alwaysBlack," 25%, transparent) 60%, color-mix(in srgb, ").concat(e.palette.text.alwaysBlack," 40%, transparent) 100%)"),transition:"background 0.2s ease"},content:{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",height:"100%",padding:"0 28px",[e.breakpoints.down("sm")]:{padding:"0 16px"}},leftSection:{display:"flex",alignItems:"baseline",gap:5},rightSection:{display:"flex",alignItems:"center",gap:10,[e.breakpoints.down("sm")]:{gap:6}},title:{color:e.palette.text.alwaysWhite,fontFamily:e.palette.fonts.sansSerifStack,fontSize:13,fontWeight:500,textShadow:"0 1px 3px color-mix(in srgb, ".concat(e.palette.text.alwaysBlack," 60%, transparent)"),[e.breakpoints.down("sm")]:{fontSize:12}},goalText:{color:"color-mix(in srgb, ".concat(e.palette.text.alwaysWhite," 92%, transparent)"),fontFamily:e.palette.fonts.sansSerifStack,fontSize:12,fontWeight:400,textShadow:"0 1px 3px color-mix(in srgb, ".concat(e.palette.text.alwaysBlack," 60%, transparent)"),[e.breakpoints.down("xs")]:{display:"none"}},ctaButton:{color:e.palette.text.alwaysWhite,padding:"3px 10px",borderRadius:3,fontSize:12,fontWeight:500,fontFamily:e.palette.fonts.sansSerifStack,textDecoration:"none",textShadow:"0 1px 2px color-mix(in srgb, ".concat(e.palette.text.alwaysBlack," 40%, transparent)"),background:e.palette.inverseGreyAlpha(.15),border:"1px solid ".concat(e.palette.inverseGreyAlpha(.25)),transition:"background 0.15s ease, border-color 0.15s ease","&:hover":{background:e.palette.inverseGreyAlpha(.25),borderColor:e.palette.inverseGreyAlpha(.4)},[e.breakpoints.down("sm")]:{padding:"2px 8px",fontSize:11}},close:{cursor:"pointer",color:e.palette.inverseGreyAlpha(.6),fontSize:16,padding:2,borderRadius:3,transition:"color 0.15s ease, background 0.15s ease","&:hover":{color:e.palette.inverseGreyAlpha(.9),background:e.palette.inverseGreyAlpha(.1)}}})),af=()=>{let e=(0,N.useStyles)(am),[t,n]=(0,ap.useCookiesWithConsent)([ah.HIDE_FUNDRAISER_BANNER_COOKIE]),{captureEvent:a}=(0,P.useTracking)(),[i,r]=(0,d.useState)(!1),o=(0,d.useCallback)(()=>{n(ah.HIDE_FUNDRAISER_BANNER_COOKIE,"true",{expires:(0,tH.default)().add(6,"months").toDate(),path:"/"})},[n]),s=(0,d.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),o(),a("fundraiser_banner_dismissed")},[o,a]),l=(0,d.useCallback)(()=>{a("fundraiser_banner_clicked")},[a]);return"true"===t[ah.HIDE_FUNDRAISER_BANNER_COOKIE]?null:(0,c.jsxs)(H.Link,{to:"https://www.every.org/lightcone-infrastructure/f/2026-fundraiser",target:"_blank",rel:"noopener noreferrer",onClick:l,className:(0,w.default)(e.root,{[e.rootHoverable]:!i}),children:[(0,c.jsx)("div",{className:e.backgroundImage}),(0,c.jsx)("div",{className:e.overlay}),(0,c.jsxs)("div",{className:e.content,children:[(0,c.jsxs)("div",{className:e.leftSection,children:[(0,c.jsx)("span",{className:e.title,children:"LessWrong & Lighthaven are fundraising for 2026"}),(0,c.jsxs)("span",{className:e.goalText,children:[" our goal is to raise ","$".concat("2","M")," for the next year"]})]}),(0,c.jsxs)("div",{className:e.rightSection,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[(0,c.jsx)("span",{className:e.ctaButton,children:"Donate"}),(0,c.jsx)(e9.default,{icon:"Close",onClick:s,className:e.close})]})]})]})};var ag=e.i(152100);let ay=()=>(0,eC.isBookUI)()?64:66,av=()=>(0,eC.isBookUI)()?56:66,ab=(0,d.createContext)({showFundraiserBanner:!0}),ax=(0,C.defineStyles)("Header",e=>({appBar:{boxShadow:e.palette.boxShadow.appBar,color:e.palette.text.bannerAdOverlay,...(0,G.forumSelect)({LWAF:e.dark?{background:e.palette.panelBackground.bannerAdTranslucent,backdropFilter:"blur(4px) brightness(1.1)","&$blackBackgroundAppBar":{boxShadow:e.palette.boxShadow.appBarDarkBackground,background:e.palette.panelBackground.appBarDarkBackground}}:{backgroundColor:e.palette.header.background,backdropFilter:"blur(4px)","&$blackBackgroundAppBar":{boxShadow:e.palette.boxShadow.appBar,background:e.palette.header.background}},default:{backgroundColor:e.palette.header.background}}),position:"static",width:"100%",display:"flex",zIndex:1100,boxSizing:"border-box",flexShrink:0,flexDirection:"column",...e.isFriendlyUI?{maxWidth:"100vw",overflow:"hidden",padding:"1px 20px",[e.breakpoints.down("sm")]:{padding:"1px 11px"},[e.breakpoints.down("xs")]:{padding:"9px 11px"}}:{}},appBarDarkBackground:{...(e=>{let{theme:t,color:n,contrastColor:a,loginButtonBackgroundColor:i,loginButtonHoverBackgroundColor:r,loginButtonColor:o,signupButtonBackgroundColor:s,signupButtonHoverBackgroundColor:l,signupButtonColor:c}=e;return{color:n,boxShadow:"none","& .Header-titleLink":{color:n},"& .HeaderSubtitle-subtitle":{color:n},"& .SearchBar-searchIcon":{color:n},"& .ais-SearchBox-input":{color:n},"& .ais-SearchBox-input::placeholder":{color:n},"& .KarmaChangeNotifier-starIcon":{color:n},"& .KarmaChangeNotifier-gainedPoints":{color:n},"& .NotificationsMenuButton-badge":{color:n},"& .NotificationsMenuButton-buttonClosed":{color:n},"& .MessagesMenuButton-buttonClosed":{color:n},"& .UsersMenu-arrowIcon":{color:n},"& .EAButton-variantContained":{backgroundColor:null!=s?s:n,color:null!=c?c:a,"&:hover":{backgroundColor:null!=l?l:"color-mix(in oklab, ".concat(null!=s?s:n," 90%, ").concat(null!=c?c:a,")")}},"& .EAButton-greyContained":{backgroundColor:null!=i?i:"color-mix(in oklab, ".concat(null!=o?o:n," 15%, ").concat(a,")"),color:null!=o?o:n,"&:hover":{backgroundColor:null!=r?r:"color-mix(in oklab, ".concat(null!=o?o:n," 10%, ").concat(t.palette.background.transparent,") !important")}}}})({theme:e,color:"var(--header-text-color)",contrastColor:"var(--header-contrast-color)"}),"--header-text-color":e.palette.text.alwaysWhite,"--header-contrast-color":e.palette.text.alwaysBlack},blackBackgroundAppBar:{},root:{height:"var(--header-height)","@media print":{display:"none"}},titleSubtitleContainer:{display:"flex",alignItems:"center"},titleFundraiserContainer:{display:"flex",flexDirection:"row",alignItems:"center"},title:{flex:1,position:"relative",top:3,paddingRight:e.spacing.unit,color:e.palette.text.secondary},titleLink:{color:e.palette.text.bannerAdOverlay,fontSize:19,"&:hover, &:active":{textDecoration:"none",opacity:.7},display:"flex",alignItems:"center",fontWeight:e.isFriendlyUI?400:void 0,height:e.isFriendlyUI?void 0:"19px",...e.isAF&&{top:0}},menuButton:{marginLeft:-e.spacing.unit,marginRight:e.spacing.unit},icon:{width:24,height:24},siteLogo:{marginLeft:-7,marginRight:6,[e.breakpoints.down("sm")]:{marginLeft:-12,marginRight:3}},hideLgUp:{[e.breakpoints.up(1424)]:{display:"none !important"}},hideMdDown:{[e.breakpoints.down(1424)]:{display:"none !important"}},hideSmDown:{[e.breakpoints.down("sm")]:{display:"none !important"}},hideXsDown:{[e.breakpoints.down("xs")]:{display:"none !important"}},hideMdUp:{[e.breakpoints.up("md")]:{display:"none !important"}},rightHeaderItems:{marginRight:-e.spacing.unit,marginLeft:"auto",display:"flex",alignItems:e.isFriendlyUI?"center":void 0},searchSSRStandin:{minWidth:48},headroom:{"& .headroom":{top:"unset",left:0,right:0,zIndex:1300},"& .headroom--unfixed":{position:"relative",transform:"translateY(0)"},"& .headroom--scrolled":{transition:"transform 200ms ease-in-out"},"& .headroom--unpinned":{position:"fixed",transform:"translateY(-100%)"},"& .headroom--pinned":{position:"fixed",transform:"translateY(0%)"}},headroomPinnedOpen:{"& .headroom--unpinned":{transform:"none !important"},"& .headroom--unfixed":{position:"fixed !important"}},lightconeFundraiserHeaderItem:{color:e.palette.review.winner,fontFamily:e.typography.headerStyle.fontFamily,fontSize:"1.4rem",marginLeft:e.spacing.unit},lightconeFundraiserHeaderItemSmall:{color:e.palette.review.winner,fontFamily:e.typography.headerStyle.fontFamily,fontSize:"1.4rem",fontWeight:600,marginLeft:e.spacing.unit,marginBottom:1.5},reserveSpaceForLlmChatSidebar:{[e.breakpoints.up("lg")]:{"& .headroom":{width:"calc(100% - ".concat(500,"px)")}}},headerHeight:{"--header-height":"".concat(ay(),"px"),[e.breakpoints.down("xs")]:{"--header-height":"".concat(av(),"px")}},headerHeightWithBanner:{"--header-height":"".concat(ay()+34,"px"),[e.breakpoints.down("xs")]:{"--header-height":"".concat(av()+32,"px")}}})),aw=e=>{let{children:t}=e,n=(0,N.useStyles)(ax),[a]=(0,ap.useCookiesWithConsent)([ah.HIDE_FUNDRAISER_BANNER_COOKIE]),i="true"===a[ah.HIDE_FUNDRAISER_BANNER_COOKIE],r=nj((0,ag.usePrerenderablePathname)()),o=!i&&r,s=(0,d.useMemo)(()=>({showFundraiserBanner:o}),[o]);return(0,c.jsx)(ab.Provider,{value:s,children:(0,c.jsx)("span",{className:(0,w.default)(n.headerHeight,{[n.headerHeightWithBanner]:o}),children:t})})},aN=(0,z.registerComponent)("Header",e=>{var t,n,a,i;let{standaloneNavigationPresent:r,sidebarHidden:o,toggleStandaloneNavigation:s,stayAtTop:l=!1,searchResultsArea:u,backgroundColor:p}=e,h=(0,N.useStyles)(ax),[m,f]=(0,d.useState)(!1),[g,y]=(0,d.useState)(!1),[v,b]=(0,d.useState)(!1),[x,C]=(0,d.useState)(!1),[k,S]=(0,d.useState)(!0),{showFundraiserBanner:E}=(0,d.useContext)(ab),T=(0,O.useGetCurrentUser)(),j=!!(0,O.useCurrentUserId)(),_=(0,O.useFilteredCurrentUser)(e=>!!(null==e?void 0:e.usernameUnset)),{toc:L}=(0,d.useContext)(et.SidebarsContext),{captureEvent:A}=(0,P.useTracking)(),{notificationsOpened:R}=ew(),{pathname:F,hash:B}=(0,D.useLocation)(),{currentForumEvent:M}=(0,ek.useCurrentAndRecentForumEvents)(),U={...p?{backgroundColor:p}:{}};(0,d.useEffect)(()=>{B||S(!0)},[F,B]);let V=(0,eC.isFriendlyUI)(),G=!(0,eC.isFriendlyUI)()&&j&&!_,W=(0,eC.isFriendlyUI)()&&j&&!_,Q=e=>{f(e),A("navigationBarToggle",{open:e})},q=(0,d.useCallback)(async e=>{j&&(e?(y(!0),b(!0),await R()):y(!1))},[j,R]),z=(0,d.useCallback)(e=>{e&&A("searchToggle",{open:e}),C(e)},[A]),J=(0,c.jsxs)(d.default.Fragment,{children:[(null==L||null==(t=L.sectionData)?void 0:t.sections)?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:h.hideSmDown,children:(0,c.jsx)($.default,{className:(0,w.default)(h.menuButton,{[h.hideLgUp]:r&&k}),color:"inherit","aria-label":"Menu",onClick:()=>Q(!0),children:(0,c.jsx)(e9.default,{icon:"Menu",className:h.icon})})}),(0,c.jsx)("div",{className:h.hideMdUp,children:(0,c.jsx)($.default,{className:(0,w.default)(h.menuButton,{[h.hideLgUp]:r&&k}),color:"inherit","aria-label":"Menu",onClick:()=>Q(!0),children:(0,c.jsx)(ee,{className:h.icon})})})]}):(0,c.jsx)($.default,{className:(0,w.default)(h.menuButton,{[h.hideLgUp]:r&&k}),color:"inherit","aria-label":"Menu",onClick:()=>Q(!0),children:(0,c.jsx)(e9.default,{icon:"Menu",className:h.icon})}),r&&k&&(0,c.jsx)($.default,{className:(0,w.default)(h.menuButton,h.hideMdDown),color:"inherit","aria-label":"Menu",onClick:s,children:(0,eC.isFriendlyUI)()&&!o?(0,c.jsx)(e9.default,{icon:"CloseMenu",className:h.icon}):(0,c.jsx)(e9.default,{icon:"Menu",className:h.icon})})]}),Z=(0,eC.isFriendlyUI)()?h.hideXsDown:h.hideMdDown,en=j&&(0,c.jsx)("div",{className:x?Z:void 0,children:(0,c.jsx)(P.AnalyticsContext,{pageSectionContext:"usersMenu",children:(0,c.jsx)(tE,{})})}),ea=(0,eC.isFriendlyUI)()?(0,c.jsx)(tA,{}):(0,c.jsx)(tR,{}),ei=(0,c.jsxs)("div",{className:(0,w.default)(h.rightHeaderItems),children:[(0,c.jsx)(tt,{onSetIsActive:z,searchResultsArea:u}),!(0,eC.isFriendlyUI)()&&en,!j&&ea,G&&(0,c.jsx)(nm,{className:(0,eC.isFriendlyUI)()&&x?h.hideXsDown:void 0}),j&&!_&&(0,c.jsx)(tq,{toggle:()=>{let e=T();if(!e)return;let{lastNotificationsCheck:t}=e;V?A("notificationsIconToggle",{previousCheck:t}):(A("notificationsIconToggle",{open:!g,previousCheck:t}),q(!g))},open:g,className:(0,eC.isFriendlyUI)()&&x?h.hideXsDown:void 0}),W&&(0,c.jsx)(ed.SuspenseWrapper,{name:"MesagesMenuButton",children:(0,c.jsx)(ny,{className:(0,eC.isFriendlyUI)()&&x?h.hideXsDown:void 0})}),(0,eC.isFriendlyUI)()&&en]}),er=(0,c.jsx)(ne,{open:m,handleOpen:()=>Q(!0),handleClose:()=>Q(!1),toc:null!=(n=null==L?void 0:L.sectionData)?n:null}),eo=j&&!V&&(0,c.jsx)(ad,{open:g,hasOpened:v,setIsOpen:q}),es=null==M?void 0:M.bannerImageId,el=(0,d.useContext)(iF),ec=(0,eE.hasForumEvents)()&&nj(F)&&es&&(null==M?void 0:M.eventFormat)!=="BASIC"&&!p;if(ec){let e,t=ec?{background:(e=M.darkColor,"top / cover no-repeat url(".concat((0,eS.makeCloudinaryImageUrl)(es,{c:"fill",dpr:"auto",q:"auto",f:"auto",g:"north"}),")").concat(e?", ".concat(e):"")),"--header-text-color":null!=(a=M.bannerTextColor)?a:void 0,"--header-contrast-color":null!=(i=M.darkColor)?i:void 0}:{};U={...U,...ec?t:{}}}let eu=Object.keys(U).includes("backgroundColor")||Object.keys(U).includes("background"),ep=(0,au.useIsOnGrayBackground)();return(0,c.jsx)(P.AnalyticsContext,{pageSectionContext:"header",children:(0,c.jsxs)("div",{className:h.root,children:[(0,c.jsxs)(Y.default,{disableInlineStyles:!0,downTolerance:1,upTolerance:1,height:E?ay()+34:ay(),className:(0,w.default)(h.headroom,{[h.headroomPinnedOpen]:x,[h.reserveSpaceForLlmChatSidebar]:el&&!k}),onUnfix:()=>S(!0),onUnpin:()=>S(!1),disable:l,children:[E&&(0,c.jsx)(af,{}),(0,c.jsx)("header",{className:(0,w.default)(h.appBar,eu&&h.appBarDarkBackground,!ep&&h.blackBackgroundAppBar),style:U,children:(0,c.jsxs)(X,{disableGutters:(0,eC.isFriendlyUI)(),children:[J,(0,c.jsxs)(I.Typography,{className:h.title,variant:"title",children:[(0,c.jsx)("div",{className:h.hideSmDown,children:(0,c.jsxs)("div",{className:h.titleSubtitleContainer,children:[(0,c.jsx)("div",{className:h.titleFundraiserContainer,children:(0,c.jsxs)(H.Link,{to:"/",className:h.titleLink,children:[K.hasProminentLogoSetting.get()&&(0,c.jsx)("div",{className:h.siteLogo,children:(0,c.jsx)(ng.default,{eaContrast:eu})}),K.forumHeaderTitleSetting.get()]})}),(0,c.jsx)(nf.default,{})]})}),(0,c.jsx)("div",{className:(0,w.default)(h.hideMdUp,h.titleFundraiserContainer),children:(0,c.jsxs)(H.Link,{to:"/",className:h.titleLink,children:[K.hasProminentLogoSetting.get()&&(0,c.jsx)("div",{className:h.siteLogo,children:(0,c.jsx)(ng.default,{eaContrast:eu})}),K.forumShortTitleSetting.get()]})})]}),ei]})}),er]}),eo]})})},{areEqual:"auto",hocs:[en.default]}),aC=e=>!e.firstChild||e.firstChild.offsetParent===e,ak=null;"undefined"!=typeof CSS&&CSS.supports&&(CSS.supports("position","sticky")?ak="sticky":CSS.supports("position","-webkit-sticky")&&(ak="-webkit-sticky"));let aS=!1;try{let e=Object.defineProperty({},"passive",{get(){aS={passive:!0}}}),t=()=>{};window.addEventListener("testPassive",t,e),window.removeEventListener("testPassive",t,e)}catch(e){}let aE=e=>{let{el:t,onChange:n,unsubs:a,measure:i}=e;if(t===window){let e=()=>({top:0,left:0,height:window.innerHeight,width:window.innerWidth}),t=i(e()),r=()=>{Object.assign(t,i(e())),n()};return window.addEventListener("resize",r,aS),a.push(()=>window.removeEventListener("resize",r)),t}{let e=i(t.getBoundingClientRect()),r=new ResizeObserver(()=>{Object.assign(e,i(t.getBoundingClientRect())),n()});return r.observe(t),a.push(()=>r.disconnect()),e}},aI=function(){let{offsetTop:e=0,offsetBottom:t=0,bottom:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a,i]=(0,d.useState)(null);return(0,d.useEffect)(()=>{if(!a||!ak)return;let i=[];return((e,t,n)=>{let a,{bottom:i,offsetBottom:r,offsetTop:o}=n,s=(e=>{let t=e;for(;t=t.parentElement;){let e=getComputedStyle(t,null).getPropertyValue("overflow-y");if(t===document.body)break;if("auto"===e||"scroll"===e||"overlay"===e)return t}return window})(e),l=!1,c=()=>{l||requestAnimationFrame(()=>{let e=p();e!==x&&w(e),l=!1}),l=!0},d=s===window?window.scrollY:s.scrollTop,u=e=>{let{offsetTop:t,height:n}=m,{naturalTop:a}=y,{height:i}=v;return e+t+n>=a+i+b+r},p=()=>{let{height:e}=m,{height:t}=v;return t+o+r<=e?3:u(d)?1:2},h=s!==window&&aC(s),m=aE({el:s,onChange:c,unsubs:t,measure:e=>{let{height:t,top:n}=e;return{height:t,offsetTop:h?n:0}}}),f=(e=>{let t=e.parentElement;for(;t&&"contents"===getComputedStyle(t,null).getPropertyValue("display");)t=t.parentElement;return t||window})(e),g=f===window?{top:0,bottom:0}:{top:parseInt((a=getComputedStyle(f,null)).getPropertyValue("padding-top"),10),bottom:parseInt(a.getPropertyValue("padding-bottom"),10)},y=aE({el:f,onChange:c,unsubs:t,measure:e=>{let{height:t}=e;return{height:t-g.top-g.bottom,naturalTop:f===window?0:((e,t)=>{let n=e,a=0;aC(t)||(a+=e.offsetTop-t.offsetTop,t=e.offsetParent,a+=-e.offsetTop);do a+=n.offsetTop,n=n.offsetParent;while(n&&n!==t)return a})(f,s)+g.top+m.offsetTop}}}),v=aE({el:e,onChange:c,unsubs:t,measure:e=>{let{height:t}=e;return{height:t}}}),b=0,x=p(),w=t=>{let n=x;if(x=t,2===n&&(b=-1),3===t){e.style.position=ak,i?e.style.bottom="".concat(r,"px"):e.style.top="".concat(o,"px");return}let{height:a,offsetTop:s}=m,{height:l,naturalTop:c}=y,{height:u}=v;if(2===t)if(e.style.position="relative",b=0===n?Math.max(0,s+d-c+o):Math.max(0,s+d+a-(c+u+r)),i){let t=Math.max(0,l-u-b);e.style.bottom="".concat(t,"px")}else e.style.top="".concat(b,"px");else e.style.position=ak,1===t?i?e.style.bottom="".concat(r,"px"):e.style.top="".concat(a-u-r,"px"):i?e.style.bottom="".concat(a-u-r,"px"):e.style.top="".concat(o,"px")};w(x);let N=e=>{if(e===d)return;let t=e-d;if(d=e,3===x)return;let{offsetTop:n,height:a}=m,{naturalTop:i,height:s}=y,{height:l}=v;if(t>0)if(0===x){if(e+n+o>i){let t=Math.max(0,n+d-i+o);e+n+a<=i+l+t+r?w(2):w(1)}}else 2===x&&u(e)&&w(1);else if(1===x){if(n+e+a<i+s+r){let t=Math.max(0,n+d+a-(i+l+r));n+e+o>=i+t?w(2):w(0)}}else 2===x&&n+e+o<i+b&&w(0)},C=s===window?()=>N(window.scrollY):()=>N(s.scrollTop);s.addEventListener("scroll",C,aS),s.addEventListener("mousewheel",C,aS),t.push(()=>s.removeEventListener("scroll",C),()=>s.removeEventListener("mousewheel",C))})(a,i,{offsetBottom:t,offsetTop:e,bottom:n}),()=>{i.forEach(e=>e())}},[a,t,e,n]),i},aT=e=>{let{offsetTop:t,offsetBottom:n,bottom:a,children:i,className:r,style:o}=e,s=aI({offsetTop:t,offsetBottom:n,bottom:a});return(0,c.jsx)("div",{className:r,style:o,ref:s,children:i})};function aj(e,t){return Math.random()*(t-e)+e}function a_(){let[e,t]=(0,d.useState)([]);return((0,d.useEffect)(()=>{var e;let n=document.createElement("style");n.textContent="\n      @keyframes fly-out {\n        0% {\n          transform: translate(0px, 0px) rotate(0deg) scale(1);\n          opacity: 1;\n        }\n        50% {\n          opacity: 1;\n        }\n        100% {\n          transform: var(--transform);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(n),e=()=>{let e=new WeakMap;function a(n){if(!e.has(n)){let a=e=>(function(e){if(!e.currentTarget)return;let n=e.clientX-30,a=e.clientY-25,i=Array.from({length:10}).map(()=>{let e=Math.random().toString(36).substring(2,11),t=aj(0,2*Math.PI),i=aj(120,270),r=n+i*Math.cos(t),o=a+i*Math.sin(t);return{id:e,startX:n,startY:a,endX:r,endY:o,rotate:aj(0,360),scale:aj(.5,1.2)}});t(e=>[...e,...i]),setTimeout(()=>{t(e=>e.filter(e=>!i.some(t=>t.id===e.id)))},1500)})(e);n.addEventListener("click",a,{passive:!0}),e.set(n,a)}}function i(t){let n=e.get(t);n&&(t.removeEventListener("click",n),e.delete(t))}function r(e){e.querySelectorAll("button").forEach(e=>a(e))}let o=new MutationObserver(e=>{for(let t of e)"childList"===t.type&&(t.addedNodes.forEach(e=>{e instanceof HTMLElement&&("button"===e.tagName.toLowerCase()&&a(e),r(e))}),t.removedNodes.forEach(e=>{e instanceof HTMLElement&&("button"===e.tagName.toLowerCase()&&i(e),e.querySelectorAll("button").forEach(e=>i(e)))}))});return o.observe(document.body,{childList:!0,subtree:!0}),r(document.body),()=>{o.disconnect(),document.querySelectorAll("button").forEach(e=>i(e)),n.remove()}},"function"==typeof window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,0)},[]),"undefined"==typeof document)?null:eQ.default.createPortal((0,c.jsx)(c.Fragment,{children:e.map(e=>{let t=e.endX-e.startX,n=e.endY-e.startY,a="translate(".concat(t,"px, ").concat(n,"px) rotate(").concat(e.rotate,"deg) scale(").concat(e.scale,")");return(0,c.jsx)("img",{src:K.buttonBurstImage.get(),style:{position:"fixed",left:0,top:0,width:"60px",height:"60px",pointerEvents:"none",zIndex:9999,transform:"translate(0px, 0px)",animation:"fly-out 1.5s ease-out forwards","--transform":a,translate:"".concat(e.startX,"px ").concat(e.startY,"px")}},e.id)})}),document.body)}var aL=e.i(135029);let aO=(0,z.registerComponent)("AnalyticsClient",()=>{let e=(0,O.useCurrentUser)(),[t]=(0,ap.useCookiesWithConsent)([ah.CLIENT_ID_COOKIE]),n=(0,O.useCurrentUserLoading)(),a=(0,d.useContext)(m.ABTestGroupsUsedContext),i=null==e?void 0:e._id,r=t[ah.CLIENT_ID_COOKIE];return(0,d.useEffect)(()=>{P.clientContextVars.userId=i,P.clientContextVars.clientId=r,P.clientContextVars.tabId=window.tabId,(0,G.isLWorAF)()||(P.clientContextVars.abTestGroupsUsed=a),(0,P.throttledFlushClientEvents)(!0)},[i,r,a]),(0,d.useEffect)(()=>{var t;if(n)return;let a=window.tabId;if(!a)return;let i="tabStartedFired:".concat(a);if(sessionStorage.getItem(i))return;sessionStorage.setItem(i,"1");let o=null!=(t=navigator.userAgent)?t:null,s=(0,aL.getAllUserABTestGroups)(e?{user:e}:{clientId:r});(0,P.captureEvent)("tabStarted",{tabId:a,userAgent:o,abTestGroups:s}),(0,P.throttledFlushClientEvents)(!0)},[r,i,n]),(0,c.jsx)(c.Fragment,{})},{hocs:[en.default]});var aA=e.i(130697),aR=e.i(2942);let aD="lwSessionTracker";var aP=e.i(695062);let aF=()=>{!function(){let{captureEvent:e}=(0,P.useTracking)(),t=(0,d.useCallback)(()=>{e("beforeUnloadFired"),(0,P.flushClientEvents)(!0)},[e]);(0,ep.useEventListener)("beforeunload",t)}();let{captureEvent:e}=(0,P.useTracking)(),t=(0,d.useRef)(!0);(0,aP.useEffectOnce)(()=>{let{isVisible:n,visibilityState:a}=eg();t.current=n,e("pageVisibilityChange",{isVisible:n,visibilityState:a})}),ef((n,a)=>{t.current=n,o(),e("pageVisibilityChange",{isVisible:n,visibilityState:a})});let n=(0,d.useRef)(!0),{resetTimer:a}=function(e,t,n){let{captureEvent:a}=(0,P.useTracking)(),i=(0,d.useRef)(0),[r,o]=e,s=(0,d.useRef)(null),l=(0,d.useCallback)(()=>{if(n.current){let e=i.current<60?r:o;clearInterval(s.current),s.current=setInterval(()=>{n.current&&a("timerEvent",{seconds:i.current+e,increment:e}),i.current+=e},1e3*e)}else clearInterval(s.current)},[a,o,r,60,n]);return(0,aP.useEffectOnce)(l),(0,d.useEffect)(()=>()=>clearInterval(s.current),[]),{resetTimer:l}}([10,30],0,n),{updateLastActivity:i}=function(){let{captureEvent:e}=(0,P.useTracking)(),t=(0,d.useCallback)(()=>{let t=(0,aA.getBrowserLocalStorage)();if(!t)return{sessionId:(0,aR.randomId)(),lastActivityTimestamp:Date.now()};let n=t.getItem(aD);if(n)try{let a=JSON.parse(n);if(Date.now()-a.lastActivityTimestamp<18e5)return a;let i={sessionId:(0,aR.randomId)(),lastActivityTimestamp:Date.now()};return t.setItem(aD,JSON.stringify(i)),e("sessionStarted",{previousSessionId:a.sessionId,previousSessionLastActivity:a.lastActivityTimestamp}),i}catch(e){console.error("Failed to parse session data",e)}let a={sessionId:(0,aR.randomId)(),lastActivityTimestamp:Date.now()};return t.setItem(aD,JSON.stringify(a)),e("sessionStarted"),a},[e]),n=(0,d.useCallback)(()=>{let e=(0,aA.getBrowserLocalStorage)();if(!e)return;let t=e.getItem(aD);if(t)try{let n={...JSON.parse(t),lastActivityTimestamp:Date.now()};e.setItem(aD,JSON.stringify(n))}catch(e){console.error("Failed to update session data",e)}},[]);return(0,d.useEffect)(()=>{let e=t();P.clientContextVars.sessionId=e.sessionId;let n=()=>{let e=t();P.clientContextVars.sessionId=e.sessionId};document.addEventListener("visibilitychange",n);let a=e=>{if(e.key===aD&&e.newValue)try{let t=JSON.parse(e.newValue);P.clientContextVars.sessionId=t.sessionId}catch(e){console.error("Failed to parse session data from storage event",e)}};return window.addEventListener("storage",a),()=>{document.removeEventListener("visibilitychange",n),window.removeEventListener("storage",a)}},[t]),{updateLastActivity:n}}(),r=(0,d.useRef)(!1),o=(0,d.useCallback)(()=>{let e=!r.current&&t.current;e&&i(),n.current!==e&&(n.current=e,a())},[i,a]);return eh(60,(0,d.useCallback)(e=>{r.current=e,o()},[o])),(0,d.useEffect)(()=>{let e=setInterval(()=>{o()},12e4);return()=>clearInterval(e)},[o]),(0,c.jsx)(c.Fragment,{})};var aB=e.i(312104);let aM=(0,z.registerComponent)("AdminToggle",e=>{let{classes:t}=e,n=(0,O.useCurrentUser)(),{loading:a,toggleOn:i,toggleOff:r}=ts();return n?n.isAdmin?(0,c.jsxs)("div",{className:(0,w.default)(t.toggle,{[t.toggleDisabled]:a}),onClick:a?void 0:r,children:[(0,c.jsx)("div",{className:t.onText,children:"Admin on"}),(0,c.jsx)("div",{className:t.toggleDot})]}):!n.isAdmin&&(0,Q.userIsMemberOf)(n,"realAdmins")?(0,c.jsxs)("div",{className:(0,w.default)(t.toggle,t.toggleOff,{[t.toggleDisabled]:a}),onClick:a?void 0:i,children:[(0,c.jsx)("div",{className:t.offText,children:"Admin off"}),(0,c.jsx)("div",{className:(0,w.default)(t.toggleDot,t.toggleDotOff)})]}):null:null},{styles:e=>({toggle:{position:"fixed",left:20,bottom:20,display:"flex",alignItems:"center",height:36,width:118,backgroundColor:e.palette.buttons.alwaysPrimary,color:e.palette.text.alwaysWhite,fontSize:13,fontFamily:e.typography.fontFamily,fontWeight:600,padding:"0 18px",borderRadius:18,boxShadow:e.palette.boxShadow.eaCard,cursor:"pointer",zIndex:e.zIndexes.intercomButton,"&:hover":{backgroundColor:e.palette.primary.dark},[e.breakpoints.down("md")]:{left:10,bottom:58,height:26,width:92,fontSize:11,padding:"0 12px",borderRadius:13},[e.breakpoints.down("xs")]:{display:"none"},"@media print":{display:"none"}},toggleOff:{backgroundColor:e.palette.grey[400],"&:hover":{backgroundColor:e.palette.grey[500]}},toggleDisabled:{cursor:"default"},onText:{textAlign:"left"},offText:{flexGrow:1,textAlign:"right"},toggleDot:{position:"absolute",left:87,height:26,width:26,backgroundColor:e.palette.text.alwaysWhite,borderRadius:"50%",[e.breakpoints.down("md")]:{left:70,height:18,width:18}},toggleDotOff:{left:5,[e.breakpoints.down("md")]:{left:4}}})});var aU=e.i(395504);let aV=Symbol("processed");function aK(e){return function(e,t){let n,{inspect:a,collect:i,callback:r}=t,o=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:function(e){return a(e)?i(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}}),s=[];for(;n=o.nextNode();)s.push(n);return s}(e,{inspect:e=>!["STYLE","SCRIPT"].includes(e.nodeName),collect:e=>e.nodeType===Node.TEXT_NODE})}function aG(e,t){var n;if(e[aV])return;let a=null!=(n=e.textContent)?n:"",i=!1;t.forEach(e=>{let[t,n]=e,r=t.split(/\s+/),o=n.split(/\s+/),s=r.map(e=>"(".concat(e,")")).join("\\s*"),l=RegExp("(".concat(s,")(\\s*)"),"gi");a=a.replace(l,function(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];i=!0;let s=a.slice(0,-3),l=null!=(t=a[a.length-3])?t:"",c=e.trim()!==e.replace(/\s+/g,"");return o.map((e,t)=>{var n,a;return a=null!=(n=s[t])?n:"",a===a.toUpperCase()?e.toUpperCase():a===a.toLowerCase()?e.toLowerCase():a[0]===a[0].toUpperCase()?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e.toLowerCase()}).join(c?" ":"")+l})}),i&&(e.textContent=a),e[aV]=!0}let aW=(0,z.registerComponent)("GlobalHotkeys",()=>{let e,t,n=(0,R.useConcreteThemeOptions)(),a=(0,R.useSetTheme)(),i=(0,O.useCurrentUser)(),r=(0,er.useUpdateCurrentUser)(),o=(e=Object.entries(K.textReplacementsSetting.get()),t=(0,d.useRef)(null),()=>{for(let t of aK(document.body))aG(t,e);t.current||(t.current=new MutationObserver(t=>{t.forEach(t=>{"childList"===t.type?t.addedNodes.forEach(t=>{if(t.nodeType===Node.ELEMENT_NODE)for(let n of aK(t))aG(n,e);else t.nodeType===Node.TEXT_NODE&&aG(t,e)}):"characterData"===t.type&&aG(t.target,e)})})),t.current.observe(document.body,{childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})});return(0,aU.useGlobalKeydown)(e=>{if((0,eE.userHasDarkModeHotkey)(i)&&e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&68===e.keyCode){e.preventDefault();let t="dark"===n.name?"default":"dark";a({...n,name:t})}(0,Q.userIsAdminOrMod)(i)&&e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&83===e.keyCode&&(e.preventDefault(),r({hideSunshineSidebar:!(null==i?void 0:i.hideSunshineSidebar)})),(0,G.isLW)()&&(0,Q.userIsAdminOrMod)(i)&&e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&85===e.keyCode&&o()}),(0,aU.useOnSearchHotkey)(()=>{let e=document.getElementsByTagName("details");for(let t=0;t<e.length;t++){let n=e.item(t);n&&!n.getAttribute("open")&&n.setAttribute("open","true")}}),(0,c.jsx)(c.Fragment,{})});var aQ=e.i(64040),aq=e.i(425415),az=e.i(190072);let aH=e=>"map"in e&&null!==e.map&&void 0!==e.map,aY=e=>{if(!e)return null;if(e instanceof az.Mesh){let t=e.material;if(t){for(let n of Array.isArray(t)?t:[t])if(aH(n))return e}}if(e.children&&Array.isArray(e.children))for(let t of e.children){let e=aY(t);if(e)return e}return null},aJ=(0,tN.default)(()=>e.A(121420).then(e=>e.default),{loadableGenerated:{modules:[39084]},ssr:!1}),aX=(0,C.defineStyles)("SolsticeGlobe3D",e=>({root:{width:"100%",position:"relative",transition:"opacity 0.8s ease-in-out"},rootCursorPointer:{cursor:"pointer"},rootCursorGrab:{cursor:"grab"},rootLoaded:{opacity:1},rootNotLoaded:{opacity:0},globeWrapper:{transform:"translateX(-35vw) scale(1)",transformOrigin:"center center"}})),a$=e=>{var t;let n,a,i,{pointsData:r,defaultPointOfView:o,onPointClick:s,onReady:l,onFullyLoaded:u,className:p,style:h,onClick:m,dayImageUrl:f="https://res.cloudinary.com/lesswrong-2-0/image/upload/v1762666472/flat_earth_Largest_still3_yltj4n_otlubi.jpg",nightImageUrl:g="https://res.cloudinary.com/lesswrong-2-0/image/upload/v1762666463/nightearth_lkrdgh.jpg",luminosityImageUrl:y="https://res.cloudinary.com/lesswrong-2-0/image/upload/v1762666542/luminositymap_rrwlcl.jpg",altitudeScale:v=.099,initialAltitudeMultiplier:b=1}=e,x=(0,N.useStyles)(aX),[C,k]=(0,d.useState)(!1),[S,E]=(0,d.useState)(!1),[I,T]=(0,d.useState)(window.innerHeight),[j,_]=(0,d.useState)(!1),L=(0,d.useRef)(void 0),O=(n=(0,d.useRef)(null),(0,d.useEffect)(()=>(n.current=new az.ShaderMaterial({uniforms:{dayTexture:{value:null},nightTexture:{value:null},luminosityTexture:{value:null},sunPosition:{value:new az.Vector2},globeRotation:{value:new az.Vector2},textureRotation:{value:0},contrast:{value:1.1},brightness:{value:1},brightnessAdd:{value:.1}},vertexShader:"\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    ",fragmentShader:"\n      #define PI 3.141592653589793\n      uniform sampler2D dayTexture;\n      uniform sampler2D nightTexture;\n      uniform sampler2D luminosityTexture;\n      uniform vec2 sunPosition;\n      uniform vec2 globeRotation;\n      uniform float textureRotation;\n      uniform float contrast;\n      uniform float brightness;\n      uniform float brightnessAdd;\n      varying vec2 vUv;\n\n      void main() {\n        vec2 rotatedUv = vUv;\n        if (textureRotation != 0.0) {\n          rotatedUv.x = mod(vUv.x + textureRotation / (2.0 * PI), 1.0);\n        }\n        \n        float longitude = (rotatedUv.x - 0.5) * 360.0;\n        \n        // Account for globe rotation\n        float adjustedLongitude = longitude - globeRotation.x;\n        \n        float sunLongitude = sunPosition.x + 90.0;\n        \n        float lonDiff = adjustedLongitude - sunLongitude;\n        if (lonDiff > 180.0) lonDiff -= 360.0;\n        if (lonDiff < -180.0) lonDiff += 360.0;\n        \n        float angleFromSun = abs(lonDiff);\n        \n        float rawBlend = cos(angleFromSun * PI / 180.0);\n        float blendFactor = smoothstep(-0.1, 0.1, rawBlend);\n        \n        vec4 dayColor = texture2D(dayTexture, rotatedUv);\n        vec4 nightColor = texture2D(nightTexture, rotatedUv);\n        \n        float nightFactor = 1.0 - blendFactor;\n        vec4 luminosityColor = texture2D(luminosityTexture, rotatedUv);\n        vec3 luminosityEnhanced = pow(luminosityColor.rgb, vec3(0.9));\n        nightColor.rgb += luminosityEnhanced * luminosityColor.a * nightFactor * 1.2;\n        \n        vec4 blendedColor = mix(nightColor, dayColor, blendFactor);\n        vec3 brightened = blendedColor.rgb * brightness + brightnessAdd;\n        vec3 contrastAdjusted = (brightened - 0.5) * contrast + 0.5;\n        vec3 finalColor = clamp(contrastAdjusted, 0.0, 1.0);\n        \n        gl_FragColor = vec4(finalColor, blendedColor.a);\n      }\n    "}),()=>{n.current&&"function"==typeof n.current.dispose&&n.current.dispose()}),[]),n),A=(0,d.useRef)(null),R=(0,d.useRef)(!1),D=(0,d.useRef)(!1),P=(0,d.useRef)(null),F=(0,d.useMemo)(()=>({lat:o.lat,lng:o.lng,altitude:o.altitude*b}),[o.lat,o.lng,o.altitude,b]);t=()=>{E(!0),null==u||u()},a=(0,d.useRef)(l),i=(0,d.useRef)(t),(0,d.useEffect)(()=>{a.current=l},[l]),(0,d.useEffect)(()=>{i.current=t},[t]),(0,d.useEffect)(()=>{var e,t,n,r;if(!C||!L.current)return;let o=aY(L.current.scene);(null==o?void 0:o.material)&&O.current&&(o.material=O.current);let s=new az.TextureLoader,l=0,c=[f,g,y].filter(Boolean).length,d=()=>{if(l>=c){var e;null==(e=i.current)||e.call(i)}};0===c&&(null==(r=i.current)||r.call(i));let u=(e,t)=>{e&&O.current&&s.load(e,e=>{e.colorSpace=az.SRGBColorSpace,e.wrapS=az.RepeatWrapping,e.wrapT=az.ClampToEdgeWrapping,O.current&&(O.current.uniforms[t].value=e),l++,d()},void 0,t=>{console.error("Failed to load texture ".concat(e,":"),t),l++,d()})};u(f,"dayTexture"),u(g,"nightTexture"),u(y,"luminosityTexture"),L.current.pointOfView({lat:F.lat,lng:F.lng,altitude:F.altitude},0),(null==(t=O.current)||null==(e=t.uniforms)?void 0:e.sunPosition)&&O.current.uniforms.sunPosition.value.set(30,0),null==(n=a.current)||n.call(a)},[C,L,O,f,g,y,F.lat,F.lng,F.altitude]);let B=(0,d.useCallback)((e,t,n)=>{let a=Array.from(document.querySelectorAll("div[data-globe-marker]"));if(void 0!==t&&void 0!==n){for(let e of a)if(e instanceof HTMLElement){let a=e.getBoundingClientRect();if(t>=a.left&&t<=a.right&&n>=a.top&&n<=a.bottom)return e}}let i=e;for(;i;){if(i.hasAttribute&&i.hasAttribute("data-globe-marker"))return i;i=i.parentElement}return null},[]),M=(0,d.useCallback)(e=>{A.current={x:e.clientX,y:e.clientY},R.current=!1;let t=B(e.target,e.clientX,e.clientY);if(t){let n=t.getAttribute("data-marker-index");if(null!==n){let a=parseInt(n,10);if(!isNaN(a)&&a>=0&&a<r.length){let n=r[a];if(s&&n.eventId){let a={lat:n.lat,lng:n.lng,size:n.size,eventId:n.eventId,event:n.event},i=t.getBoundingClientRect();s(a,{x:i.left+i.width/2,y:i.top+i.height/2}),e.stopPropagation()}}}return}D.current||null==m||m(e)},[B,r,s,m]),U=(0,d.useCallback)(e=>{if(A.current){let t=Math.abs(e.clientX-A.current.x),n=Math.abs(e.clientY-A.current.y);(t>5||n>5)&&(R.current=!0)}},[]),V=(0,d.useCallback)(e=>{e.stopPropagation();let t=e.target,n=null!==B(t,e.clientX,e.clientY)||null!==t.closest("svg");A.current&&R.current&&!n?e.clientX-A.current.x<-10&&(D.current=!0,P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{D.current=!1,P.current=null},0)):n&&(D.current=!1,P.current&&(clearTimeout(P.current),P.current=null)),A.current=null,R.current=!1},[B]),K=(0,d.useCallback)(e=>{_(null!==B(e.target,e.clientX,e.clientY))},[B]);(0,ep.useEventListener)("mousemove",U),(0,ep.useEventListener)("mousemove",K),(0,ep.useEventListener)("mouseup",V);let G=(0,d.useCallback)(e=>{if(B(e.target,e.clientX,e.clientY))return void e.stopPropagation()},[B]),W=(0,d.useCallback)(e=>{var t,n;let{lng:a,lat:i}=e;(null==(n=O.current)||null==(t=n.uniforms)?void 0:t.globeRotation)&&O.current.uniforms.globeRotation.value.set(a,i)},[O]),Q=r.map((e,t)=>({lat:e.lat,lng:e.lng,size:e.size,color:e.color,eventId:e.eventId,event:e.event,_index:t})),q=(0,d.useCallback)(e=>{let t=e.event&&"object"==typeof e.event&&"_id"in e.event&&"string"==typeof e.event._id?e.event._id:null,n="FjHG3XcrhXkGWTDwf"===t||"YcKFwMLjCrr9hnerm"===t,a=document.createElement("div");return a.setAttribute("data-globe-marker","true"),a.setAttribute("data-marker-index",String(e._index)),a.style.color=n?"light-dark(white, white)":"light-dark(rgb(206, 233, 255), rgb(206, 233, 255))",a.innerHTML='\n      <div style="text-align: center;">\n        <svg viewBox="0 0 24 24" style="width:'.concat(n?45:30,'px;margin:0 auto;">\n          <path fill="currentColor" d="M12 2C8.13 2 5 5.13 5 9c0 3.25 2.5 6.75 7 11.54 4.5-4.79 7-8.29 7-11.54 0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>\n        </svg>\n      </div>\n    '),a},[]),z=(0,d.useCallback)(e=>("number"==typeof e.size?e.size:1)*v*.01,[v]);return(0,d.useEffect)(()=>{let e=()=>{T(window.innerHeight)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,c.jsx)("div",{style:{...h,height:I},className:(0,w.default)(p,x.root,{[x.rootCursorPointer]:j,[x.rootCursorGrab]:!j,[x.rootLoaded]:S,[x.rootNotLoaded]:!S}),onMouseDown:M,onClick:G,children:(0,c.jsx)("div",{className:x.globeWrapper,children:(0,c.jsx)(aJ,{ref:L,globeImageUrl:void 0,backgroundImageUrl:"https://res.cloudinary.com/lesswrong-2-0/image/upload/v1761941646/starfield_fdoup4.jpg",globeMaterial:O.current,onGlobeReady:()=>k(!0),animateIn:!0,polygonsTransitionDuration:0,polygonAltitude:.03,htmlElementsData:Q,htmlLat:e=>e.lat,htmlAltitude:z,htmlElement:q,showAtmosphere:!0,atmosphereColor:"light-dark(rgb(206, 233, 255), rgb(206, 233, 255))",atmosphereAltitude:.15,enablePointerInteraction:!0,onZoom:W})})})};var aZ=e.i(258950),a0=e.i(953760),a1=e.i(522016),a2=e.i(756838);let a4=(0,C.defineStyles)("GlobePopup",e=>({popupContainer:{...(0,V.commentBodyStyles)(e),background:e.palette.grey[200],borderRadius:"5px !important",boxShadow:e.shadows[10],padding:10,maxWidth:250,position:"relative"},triangle:{position:"absolute",width:0,height:0,borderStyle:"solid"},link:{display:"flex",flexDirection:"column",textDecoration:"none",gap:4,textWrap:"balance","&:hover":{opacity:1}},meta:{fontWeight:400,fontSize:"1rem",opacity:.8,lineHeight:1.2}})),a3=e=>{let{document:t,screenCoords:n,onClose:a}=e,i=(0,N.useStyles)(a4),r=(0,d.useRef)(null),[o,s]=(0,d.useState)({}),l=(0,R.useTheme)().palette.grey[200],{refs:u,floatingStyles:p,placement:h}=(0,aZ.useFloating)({placement:"right",middleware:[(0,aZ.offset)(25),(0,aZ.flip)({fallbackPlacements:["left"]}),(0,aZ.shift)({padding:8})],whileElementsMounted:a0.autoUpdate});if((0,d.useEffect)(()=>{u.setReference({getBoundingClientRect:()=>({width:0,height:0,x:n.x,y:n.y,top:n.y,left:n.x,right:n.x,bottom:n.y})})},[u,n.x,n.y]),(0,d.useEffect)(()=>{r.current&&s({width:0,height:0,borderStyle:"solid",...{right:{left:0,top:"50%",transform:"translateX(-100%) translateY(-50%)",borderWidth:"8px 10px 8px 0",borderColor:"transparent ".concat(l," transparent transparent")},left:{left:"100%",top:"50%",transform:"translateY(-50%)",borderWidth:"8px 0 8px 10px",borderColor:"transparent transparent transparent ".concat(l)}}[h.split("-")[0]]})},[h,n.x,n.y,l]),!t)return null;let m=t.startTime?new Date(t.startTime):null,f=t.endTime?new Date(t.endTime):null,g=m&&f&&m.toDateString()===f.toDateString();return(0,c.jsxs)("div",{ref:e=>{u.setFloating(e),r.current=e},style:p,className:i.popupContainer,children:[(0,c.jsx)("div",{className:i.triangle,style:o}),(0,c.jsxs)(a1.default,{href:(0,eH.postGetPageUrl)(t),className:i.link,target:"_blank",rel:"noopener noreferrer",children:[(0,c.jsx)("div",{children:t.title}),(t.startTime||t.endTime)&&(0,c.jsxs)(a2.Row,{justifyContent:"flex-start",gap:4,children:[t.startTime&&(0,c.jsx)("div",{className:i.meta,children:(0,c.jsx)("em",{children:(0,c.jsx)(e$.default,{tooltip:!1,date:t.startTime,format:"MMM D h:mm a"})})}),t.startTime&&t.endTime&&" - ",t.endTime&&(0,c.jsx)("div",{className:i.meta,children:(0,c.jsx)("em",{children:(0,c.jsx)(e$.default,{tooltip:!1,date:t.endTime,format:g?"h:mm a":"MMM D h:mm a"})})})]}),t.location&&(0,c.jsx)("div",{className:i.meta,children:t.location})]})]})},a6=(0,C.defineStyles)("SolsticeSeasonBanner",e=>({root:{position:"fixed",top:0,right:0,width:"50vw",height:"100%",display:"none",[e.breakpoints.up(1100)]:{display:"block"}},overlay:{position:"absolute",top:0,right:0,width:"100vw",height:"100%",backgroundColor:e.palette.background.default,opacity:0,zIndex:10,pointerEvents:"none"},"@keyframes solsticeGlobeFade":{"0%":{pointerEvents:"auto"},"100%":{pointerEvents:"none"}},"@keyframes solsticeGlobeFadeVisual":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes solsticeOverlayFade":{"0%":{opacity:0},"100%":{opacity:1}},"@supports (animation-timeline: scroll())":{overlay:{animationName:"$solsticeOverlayFade",animationTimeline:"scroll()",animationDuration:"1s",animationTimingFunction:"linear",animationFillMode:"both",animationRange:"0% 10%"},globeContainer:{animationName:"$solsticeGlobeFade",animationTimeline:"scroll()",animationDuration:"1s",animationTimingFunction:"linear",animationFillMode:"both",animationRange:"0% 10%"}},title:{fontSize:53,fontWeight:500,[e.breakpoints.down(1525)]:{fontSize:43},[e.breakpoints.down(1200)]:{fontSize:33},fontFamily:e.typography.headerStyle.fontFamily,color:e.palette.text.alwaysWhite,zIndex:2,transition:"color 0.8s ease-in-out, opacity 0.3s ease-out",paddingBottom:1,lineHeight:1.2,marginTop:0,marginBottom:12},textContainer:{position:"absolute",bottom:150,width:205,paddingBottom:20,textShadow:"0 0 5px ".concat(e.palette.text.alwaysBlack,", 0 0 15px ").concat(e.palette.text.alwaysBlack,", 0 0 50px ").concat(e.palette.text.alwaysBlack),left:"63.5%",[e.breakpoints.up(1200)]:{left:"55%",width:270},[e.breakpoints.up(1525)]:{left:"50%",width:330,marginRight:0},[e.breakpoints.up(1620)]:{left:"40%"},transform:"translateX(-50%)",zIndex:4,lineHeight:1.5,transition:"opacity 0.5s ease-in-out",opacity:1,"& a":{color:e.palette.link.color}},subtitle:{fontSize:16,[e.breakpoints.up(1525)]:{fontSize:20},"& a":{color:e.palette.text.alwaysWhite},fontWeight:500,marginTop:".5rem",marginBottom:".5rem",display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:e.typography.postStyle.fontFamily,color:e.palette.text.alwaysWhite,transition:"color 0.8s ease-in-out, opacity 0.3s ease-out","& li":{marginLeft:-10},"& ul":{margin:0}},hideOnSmallishScreens:{[e.breakpoints.down(1200)]:{display:"none"}},hideOnMediumScreens:{[e.breakpoints.down(1525)]:{display:"none"}},globeGradientRight:{position:"absolute",top:0,right:0,width:"calc(100vw - 360px)",background:"linear-gradient(to left, transparent 20%, ".concat(e.palette.background.default," 90%)"),[e.breakpoints.up(1400)]:{width:"calc(100vw - 460px)",background:"linear-gradient(to left, transparent 40%, ".concat(e.palette.background.default," 90%)")},height:"100%",[e.breakpoints.up(1620)]:{width:"calc(100vw - 560px)",background:"linear-gradient(to left, transparent 60%, ".concat(e.palette.background.default," 90%)")},[e.breakpoints.up(2e3)]:{width:"calc(75vw - 200px)"},zIndex:1,pointerEvents:"none",transition:"opacity 0.3s ease-out"},globeContainer:{position:"absolute",top:0,right:0,width:"60%",height:"calc(100vh + 120px)",transition:"opacity 0.3s ease-out",zIndex:0,clipPath:"inset(0 0 0 -100vw)"},buttonContainer:{display:"flex",width:195,flexWrap:"wrap",flexDirection:"column",gap:8,marginTop:16,[e.breakpoints.up(1200)]:{width:270,flexDirection:"row"},[e.breakpoints.up(1525)]:{width:330,flexDirection:"row"}},eventButton:{display:"flex",...e.typography.commentStyle,borderRadius:3,background:"light-dark(".concat(e.palette.grey[800],", ").concat(e.palette.grey[300],")"),"&&":{color:e.palette.text.alwaysWhite},cursor:"pointer",border:"none",justifyContent:"space-between",width:"100%",alignItems:"center",wordWrap:"balance",transition:"background 0.8s ease-in-out",fontSize:12,padding:8,paddingLeft:10,paddingRight:10,[e.breakpoints.up(1200)]:{width:"calc(50% - 5px)"},[e.breakpoints.up(1525)]:{padding:8,paddingLeft:12,paddingRight:12,fontSize:15}},date:{fontSize:12,fontWeight:400,opacity:.8,whiteSpace:"nowrap"},createEventButtonAnnounce:{...e.typography.commentStyle,fontSize:16,color:e.palette.primary.light,marginTop:0,cursor:"pointer"},hideButton:{width:310,textAlign:"center",...e.typography.commentStyle,fontSize:12,fontWeight:400,opacity:.8,color:e.palette.text.alwaysWhite,marginTop:10},postsListBlockingRect:{position:"absolute",top:0,height:"100%",width:800,right:"calc(100% - 315px)",[e.breakpoints.up(1200)]:{right:"calc(100% - 300px)"},[e.breakpoints.up(1300)]:{right:"calc(100% - 240px)"},[e.breakpoints.up(1424)]:{right:"calc(100% - 350px)"},[e.breakpoints.up(1500)]:{right:"calc(100% - 324px)"},[e.breakpoints.up(1700)]:{right:"calc(100% - 250px)"},[e.breakpoints.up(1800)]:{right:"calc(100% - 200px)"},zIndex:5,pointerEvents:"auto"},background:{position:"absolute",top:0,right:0,width:"60vw",height:"100%",pointerEvents:"auto",background:"linear-gradient(to left, ".concat(e.palette.text.alwaysBlack," 60%, transparent 100%)")}})),a5=(0,ea.gql)("\n  query HomepageCommunityEventPostsQuery($eventType: String!) {\n    HomepageCommunityEventPosts(eventType: $eventType) {\n      posts {\n        ...PostsList\n      }\n    }\n  }\n");function a8(){var e;let t=(0,N.useStyles)(a6),[n,a]=(0,d.useState)(!1),[i,r]=(0,d.useState)(null),[o,s]=(0,d.useState)(null),l=(0,d.useRef)(!1),u=em.isClient&&window.navigator.userAgent.includes("CloudWatch-canary-coVij6peechaekou");(0,d.useEffect)(()=>{if(!em.isClient||window.navigator.userAgent.includes("CloudWatch-canary-coVij6peechaekou"))return;let e=()=>{a(window.innerWidth>=1100)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let{data:p}=(0,tF.useQuery)(a5,{variables:{eventType:"SOLSTICE"}}),h=(0,d.useMemo)(()=>{var e,t;return null!=(t=null==p||null==(e=p.HomepageCommunityEventPosts)?void 0:e.posts)?t:[]},[null==p||null==(e=p.HomepageCommunityEventPosts)?void 0:e.posts]),m=(0,d.useMemo)(()=>h.map(e=>{var t,n,a,i,r,o;return{_id:e._id,lat:null==(a=e.googleLocation)||null==(n=a.geometry)||null==(t=n.location)?void 0:t.lat,lng:null==(o=e.googleLocation)||null==(r=o.geometry)||null==(i=r.location)?void 0:i.lng,types:e.types}}),[h]),f=(0,d.useMemo)(()=>({lat:20,lng:-70,altitude:2.2}),[]),[g,y]=(0,ap.useCookiesWithConsent)([ah.HIDE_SOLSTICE_GLOBE_COOKIE]),v=(0,d.useCallback)(()=>{y(ah.HIDE_SOLSTICE_GLOBE_COOKIE,"true")},[y]),b=(0,d.useMemo)(()=>h.find(e=>e._id===i),[h,i]),x=(0,d.useMemo)(()=>m.filter(e=>null!=e.lat&&null!=e.lng).map(e=>({lat:e.lat,lng:e.lng,size:.5,eventId:e._id,event:e})),[m]),C=(0,d.useCallback)((e,t,n)=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),t?(l.current=!0,r(t),s(n||{x:window.innerWidth/2,y:window.innerHeight/2}),setTimeout(()=>{l.current=!1},0)):l.current||(r(null),s(null))},[]);return u||!n?null:(0,c.jsxs)("div",{className:t.root,children:[(0,c.jsx)("div",{className:t.overlay}),(0,c.jsx)("div",{className:t.globeGradientRight}),(0,c.jsx)("div",{className:t.postsListBlockingRect}),(0,c.jsx)("div",{className:t.background}),(0,c.jsxs)("div",{className:t.globeContainer,children:[(0,c.jsx)(a$,{pointsData:x,defaultPointOfView:f,onPointClick:(e,t)=>C(void 0,e.eventId,t),onClick:e=>C(e,void 0),style:{width:"100%",height:"100%"}}),i&&o&&b&&(0,c.jsx)(a3,{document:b,screenCoords:o,onClose:()=>{r(null),s(null)}}),(0,c.jsxs)("div",{className:(0,w.default)(t.textContainer),children:[(0,c.jsx)("h1",{className:(0,w.default)(t.title),children:"Solstice Season"}),(0,c.jsx)("p",{className:(0,w.default)(t.subtitle,t.hideOnSmallishScreens),children:"Celebrate the longest night of the year!"}),(0,c.jsx)("p",{className:(0,w.default)(t.subtitle),children:"Visit a megameetup at a major city, or host a small gathering for your friends the night of the 21st."}),(0,c.jsxs)("div",{className:t.buttonContainer,children:[(0,c.jsxs)(H.Link,{to:"https://waypoint.lighthaven.space/solstice-season",target:"_blank",rel:"noopener noreferrer",className:(0,w.default)(t.eventButton),children:[(0,c.jsxs)("span",{children:["Berkeley ",(0,c.jsx)("span",{className:t.hideOnMediumScreens,children:"Megameetup"})]}),(0,c.jsx)("span",{className:t.date,children:"Dec 6"})]}),(0,c.jsxs)(H.Link,{to:"https://rationalistmegameetup.com/",target:"_blank",rel:"noopener noreferrer",className:(0,w.default)(t.eventButton),children:[(0,c.jsxs)("span",{children:["New York ",(0,c.jsx)("span",{className:t.hideOnMediumScreens,children:"Megameetup"})]}),(0,c.jsx)("span",{className:t.date,children:"Dec 20"})]})]}),(0,c.jsx)("div",{className:t.hideButton,onClick:()=>v(),children:"Hide Map"})]})]})]})}let a7=()=>(0,c.jsx)(ed.SuspenseWrapper,{name:"SolsticeSeasonBanner",children:(0,c.jsx)(a8,{})});var a9=e.i(293958);let ie=(0,C.defineStyles)("AnnualReviewSidebarBanner",e=>({root:{position:"absolute",top:0,right:0,width:"50vw",height:"100vh",zIndex:e.zIndexes.frontpageSplashImage,pointerEvents:"none",[e.breakpoints.down(1200)]:{display:"none"}},imageColumn:{position:"absolute",top:0,right:0,height:"100vh",width:"640px",pointerEvents:"auto","@media(max-width: 1720px)":{right:-100},"@media(max-width: 1550px)":{right:-200},"@media(max-width: 1450px)":{right:-250}},image:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"left",transform:"scaleX(-1)"},gradientOverlayDown:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to bottom, \n                transparent 50%,\n                ".concat(e.palette.background.default," 70%)"),pointerEvents:"none"},gradientOverlayLeft:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to left, \n                transparent 50%,\n                ".concat(e.palette.background.default," 95%)"),pointerEvents:"none"},textContainer:{...e.typography.postStyle,position:"absolute",right:16,bottom:80,color:e.palette.greyAlpha(.87),textAlign:"right",width:500,[e.breakpoints.down(1600)]:{width:300},[e.breakpoints.down(1380)]:{width:200},pointerEvents:"auto",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:8},title:{fontSize:"clamp(2.5rem, 3vw, 4rem)",lineHeight:"1.2",margin:0,color:"inherit",textDecoration:"none","& a":{color:"inherit",textDecoration:"none"}},subtitle:{...e.typography.postStyle,fontSize:"clamp(1.5rem, 1.5vw, 2rem)",lineHeight:"1.2",margin:0,marginBottom:0,textAlign:"right",textShadow:"none",color:"inherit",whiteSpace:"nowrap"},description:{...e.typography.commentStyle,fontSize:"16px !important",fontStyle:"normal",maxWidth:300,textBalance:"auto",marginLeft:"auto",textAlign:"right",color:"inherit",marginBottom:8,"& p":{marginTop:0,marginBottom:8}},timeRemaining:{...e.typography.commentStyle,fontSize:14,color:e.palette.grey[500],marginLeft:12},actionButton:{...e.typography.commentStyle,backgroundColor:e.palette.primary.main,opacity:.8,border:"none",color:e.palette.text.alwaysWhite,borderRadius:"3px",textAlign:"center",padding:"8px 14px",cursor:"pointer",display:"inline-block",textShadow:"none","&:hover":{textDecoration:"none",opacity:1},fontWeight:"500",fontSize:"22px"}})),it="/nominatePosts/".concat(nG.REVIEW_YEAR,"?").concat(eK.default.stringify((0,eH.allPostsParams)(nG.REVIEW_YEAR))),ia="/reviewVoting",ii={NOMINATIONS:{phaseName:"Nomination",phaseDescription:"In the nomination phase, we identify posts worthy of consideration in the review.",buttonLabel:"Nominate Now",getDateRange:()=>({start:(0,nG.getReviewStart)(nG.REVIEW_YEAR),end:(0,nG.getNominationPhaseEndDisplay)(nG.REVIEW_YEAR)}),getButtonLink:()=>it},REVIEWS:{phaseName:"Discussion",phaseDescription:"In the discussion phase, we review and debate posts. Posts that receive one written review move to the final voting phase.",buttonLabel:"Review Now",getDateRange:()=>({start:(0,nG.getNominationPhaseEnd)(nG.REVIEW_YEAR),end:(0,nG.getReviewPhaseEndDisplay)(nG.REVIEW_YEAR)}),getButtonLink:()=>ia},VOTING:{phaseName:"Voting",phaseDescription:"In the final voting phase, we do a full voting pass. The outcome determines Best of LessWrong results.",buttonLabel:"Vote Now",getDateRange:()=>({start:(0,nG.getReviewPhaseEnd)(nG.REVIEW_YEAR),end:(0,nG.getVotingPhaseEndDisplay)(nG.REVIEW_YEAR)}),getButtonLink:()=>ia},RESULTS:{phaseName:"Results",phaseDescription:"Voting is complete! See which posts made it into the Best of LessWrong.",buttonLabel:"View Results",getDateRange:()=>({start:(0,nG.getVotingPhaseEndDisplay)(nG.REVIEW_YEAR),end:(0,nG.getResultsPhaseEnd)(nG.REVIEW_YEAR)}),getButtonLink:()=>ia}},ir=()=>{let e,t=(0,N.useStyles)(ie),n=(0,O.useCurrentUser)(),{openDialog:a}=(0,B.useDialog)(),i=(0,nG.getReviewPhase)(nG.REVIEW_YEAR);if("UNSTARTED"===i||"COMPLETE"===i)return null;let r=ii[i];if(!r)return null;let{start:o,end:s}=r.getDateRange(),l="".concat(r.phaseName," | ").concat(o.month()===s.month()?"".concat(o.format("MMMM D"),"-").concat(s.format("D")):"".concat(o.format("MMM D")," - ").concat(s.format("MMM D")));return(0,c.jsx)(P.AnalyticsContext,{pageSectionContext:"AnnualReviewSidebarBanner",children:(0,c.jsxs)("div",{className:t.root,children:[(0,c.jsxs)("div",{className:t.imageColumn,children:[(0,c.jsx)(aq.default,{loading:"lazy",className:t.image,publicId:"ruby_37_annual_review_banner_2025_cropped",darkPublicId:"annual_review_2025_darkmode_cropped_2_upscaled_3_wrzrxh"}),(0,c.jsx)("div",{className:t.gradientOverlayDown}),(0,c.jsx)("div",{className:t.gradientOverlayLeft})]}),(0,c.jsxs)("div",{className:t.textContainer,children:[(0,c.jsx)("h1",{className:t.title,children:(0,c.jsx)("a",{href:nG.reviewPostPath,children:(0,nG.getReviewTitle)(nG.REVIEW_YEAR)})}),(0,c.jsx)("div",{className:t.subtitle,children:l}),(0,c.jsxs)("div",{className:t.description,children:[(0,c.jsx)("p",{children:"Each December, the LessWrong community reviews the best blogposts of yesteryear."}),(0,c.jsx)("p",{children:r.phaseDescription})]}),(0,c.jsx)("a",{href:r.getButtonLink(),onClick:function(e){n||(a({name:"LoginPopup",contents:e=>{let{onClose:t}=e;return(0,c.jsx)(a9.default,{onClose:t})}}),e.preventDefault())},className:t.actionButton,children:r.buttonLabel}),(e=s.diff(new Date))>0&&e<864e5&&(0,c.jsxs)("span",{className:t.timeRemaining,children:[s.fromNow()," remaining"]})]})]})})},io=(0,C.defineStyles)("LWBackgroundImage",e=>({root:{position:"absolute",top:0,right:0},backgroundImage:{position:"absolute",width:"57vw",maxWidth:"1000px",top:"-70px",right:"-334px","-webkit-mask-image":"radial-gradient(ellipse at center top, ".concat(e.palette.text.alwaysBlack," 55%, transparent 70%)"),[e.breakpoints.up(2e3)]:{right:"0px"}},imageColumn:{position:"absolute",top:0,right:0,height:"100vh",width:"57vw",[e.breakpoints.down("sm")]:{display:"none"}},showSolsticeButton:{position:"fixed",bottom:12,right:"12vw",zIndex:10,...e.typography.commentStyle,background:"transparent",border:"none",borderRadius:3,fontSize:14,fontWeight:400,cursor:"pointer",padding:"8px 16px",opacity:.5,transition:"opacity 0.2s ease-out","&:hover":{opacity:1},[e.breakpoints.down(1425)]:{display:"none"}}})),is=(0,z.registerComponent)("LWBackgroundImage",e=>{let{standaloneNavigation:t}=e,n=(0,N.useStyles)(io),{pathname:a}=(0,D.useSubscribedLocation)(),i=nj(a),[r,o]=(0,ap.useCookiesWithConsent)([ah.HIDE_SOLSTICE_GLOBE_COOKIE]),s="true"===r[ah.HIDE_SOLSTICE_GLOBE_COOKIE],l=t?(0,c.jsx)("div",{className:n.imageColumn,children:(0,c.jsx)(aq.default,{loading:"lazy",className:n.backgroundImage,publicId:"ohabryka_Topographic_aquarelle_book_cover_by_Thomas_W._Schaller_f9c9dbbe-4880-4f12-8ebb-b8f0b900abc1_m4k6dy_734413",darkPublicId:"ohabryka_Topographic_aquarelle_book_cover_by_Thomas_W._Schaller_f9c9dbbe-4880-4f12-8ebb-b8f0b900abc1_m4k6dy_734413_copy_lnopmw"})}):null,d=t&&i&&!s?(0,c.jsx)(a7,{}):l;(0,nG.reviewIsActive)()&&t&&i&&(d=(0,c.jsx)(ir,{}));let u=t&&i&&s;return(0,c.jsxs)("div",{className:n.root,children:[d,u&&(0,c.jsx)("button",{className:n.showSolsticeButton,onClick:()=>o(ah.HIDE_SOLSTICE_GLOBE_COOKIE,"false"),children:"Show Solstice Season"})]})},{areEqual:"auto",hocs:[en.default]});var il=e.i(299749),ic=d,id=e.i(745009);let iu=!!window.document&&!!window.document.createElement;class ip extends ic.Component{UNSAFE_componentWillReceiveProps(e){let{appID:t,...n}=e;iu&&(window.intercomSettings={...n,app_id:t},window.Intercom&&(this.loggedIn(this.props)&&!this.loggedIn(e)?(window.Intercom("shutdown"),window.Intercom("boot",n)):window.Intercom("update",n)))}shouldComponentUpdate(){return!1}componentWillUnmount(){if(!iu||!window.Intercom)return!1;window.Intercom("shutdown"),delete window.Intercom,delete window.intercomSettings}loggedIn(e){return e.email||e.user_id}render(){return!1}constructor(e){super(e);const{appID:t,...n}=e;if(!t||!iu)return;window.Intercom||function(e,t,n,a,i){function r(){r.c(arguments)}r.q=[],r.c=function(e){r.q.push(e)},e.Intercom=r,(a=t.createElement("script")).async=1,a.src="https://widget.intercom.io/widget/"+n,t.head.appendChild(a)}(window,document,t),window.intercomSettings={...n,app_id:t},window.Intercom&&window.Intercom("boot",n)}}(0,il._)(ip,"propTypes",{appID:id.default.string.isRequired}),(0,il._)(ip,"displayName","Intercom");let ih=(0,z.registerComponent)("IntercomWrapper",()=>{let e=(0,O.useCurrentUser)(),{pathname:t}=(0,D.useLocation)(),{cookiePreferences:n}=(0,ap.useCookiePreferences)(),a=n.includes("functional");return n_(t)?null:a?e&&!e.hideIntercom?(0,c.jsx)("div",{id:"intercom-outer-frame",children:(0,c.jsx)(ip,{appID:K.intercomAppIdSetting.get(),user_id:e._id,email:(0,tn.getUserEmail)(e),name:e.displayName})}):e?null:(0,c.jsx)("div",{id:"intercom-outer-frame",children:(0,c.jsx)(ip,{appID:K.intercomAppIdSetting.get()})}):(console.log("Not showing Intercom because functional cookies are not allowed"),null)},{styles:e=>({"@global":{...e.palette.intercom?{".intercom-launcher":{backgroundColor:e.palette.intercom.buttonBackground}}:null,".intercom-lightweight-app":{zIndex:"".concat(e.zIndexes.intercomButton," !important")},[e.breakpoints.down("sm")]:{"#intercom-container, .intercom-lightweight-app":{display:"none"}}}}),hocs:[en.default]});var im=e.i(449403),ig=e.i(136541),iy=e.i(476331);e.i(720030);var iv=e.i(275261);let ib=(0,z.registerComponent)("CookieTable",e=>{let{type:t,thirdPartyName:n,className:a,classes:i}=e,r=Object.values(im.CookiesTable).filter(e=>e.type===t&&e.thirdPartyName===n);return(0,c.jsxs)("div",{className:a,children:[(0,c.jsxs)(I.Typography,{variant:"body1",className:i.heading,children:["Set by ",null!=n?n:"us"]}),(0,c.jsx)("div",{className:i.tableContainer,children:(0,c.jsxs)("table",{className:i.table,children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:i.th,children:"Name"}),(0,c.jsx)("th",{className:i.th,children:"Description"})]})}),(0,c.jsx)("tbody",{children:r.map(e=>(0,c.jsxs)("tr",{className:i.tr,children:[(0,c.jsx)("td",{className:"".concat(i.td," ").concat(i.tdName),children:e.name}),(0,c.jsx)("td",{className:"".concat(i.td," ").concat(i.tdDescription),children:e.description})]},e.name))})]})})]})},{styles:e=>({root:{},heading:{padding:0,marginBottom:8,marginTop:8,fontWeight:600,fontSize:"1.2rem",fontFamily:e.palette.fonts.sansSerifStack},tableContainer:{borderTopLeftRadius:e.borderRadius.default,borderTopRightRadius:e.borderRadius.default,overflow:"hidden",marginBottom:8},table:{...e.typography.commentStyle,width:"100%",borderCollapse:"collapse",fontWeight:400},th:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,padding:8,borderBottom:"1px solid ".concat(e.palette.grey[800]),borderRight:"1px solid ".concat(e.palette.primary.main),borderLeft:"1px solid ".concat(e.palette.primary.main),fontSize:"1rem",textAlign:"left"},tr:{border:"1px solid ".concat(e.palette.grey[300])},td:{padding:8,fontSize:"1rem"},tdName:{width:"40%",wordBreak:"break-all"},tdDescription:{width:"60%"}})});var ix=e.i(833851);let iw=e=>{let{title:t,cookieType:n,allowedCookies:a,setAllowedCookies:i,alwaysEnabled:r=!1,className:o,classes:s}=e,[l,u]=(0,d.useState)(!1),p=(0,d.useMemo)(()=>a.includes(n),[a,n]),h=(0,d.useCallback)(()=>{r||(p?i(a.filter(e=>e!==n)):i([...a,n]))},[r,p,i,a,n]),m={necessary:"Necessary cookies are essential for the website to function properly. These cookies ensure basic functionalities and security features of the website, anonymously. In general these cookies expire after 24 months.",functional:"Functional cookies are not strictly necessary but help to perform certain functionalities, such as allowing you to contact us via Intercom. In general these cookies expire after 24 months.",analytics:"Analytics cookies are used to understand how visitors interact with the website. These cookies help provide information on metrics the number of visitors, bounce rate, traffic source, etc. In general these cookies expire after 24 months."}[n],f=[...new Set(Object.values(im.CookiesTable).filter(e=>e.type===n).map(e=>e.thirdPartyName))].sort().reverse();return(0,c.jsxs)("div",{className:o,children:[(0,c.jsxs)("div",{className:s.category,children:[(0,c.jsxs)("div",{className:s.categoryLabel,onClick:()=>u(!l),children:[(0,c.jsx)(e9.default,{icon:l?"ThickChevronDown":"ThickChevronRight"}),(0,c.jsx)(I.Typography,{variant:"body2",children:t})]}),r?(0,c.jsx)(I.Typography,{variant:"body2",className:s.checkboxOrLabel,children:(0,c.jsx)("i",{children:"always enabled"})}):(0,c.jsx)(iv.default,{className:s.checkboxOrLabel,checked:p,onChange:h})]}),(0,c.jsxs)("div",{className:(0,w.default)(s.explanationContainer,{[s.open]:l}),children:[(0,c.jsx)(I.Typography,{variant:"body2",className:s.explanation,children:m}),f.map(e=>(0,c.jsx)(ib,{type:n,thirdPartyName:e},"".concat(n,"_").concat(e)))]})]})},iN=(0,z.registerComponent)("CookieDialog",e=>{let{onClose:t,classes:n}=e,{cookiePreferences:a,updateCookiePreferences:i}=(0,ap.useCookiePreferences)(),[r,o]=(0,d.useState)(a),s=(0,d.useCallback)(()=>{i(r),null==t||t()},[r,t,i]);return(0,c.jsxs)(ix.default,{open:!0,onClose:t,paperClassName:n.dialog,children:[(0,c.jsx)(iy.DialogTitle,{className:n.title,children:"Cookie Settings"}),(0,c.jsxs)(ig.DialogContent,{className:n.content,children:[(0,c.jsxs)(I.Typography,{variant:"body2",className:n.blurb,children:["We use cookies to improve your experience while you navigate through the website. Necessary cookies are always stored in your browser as they are essential for the basic functionality of the website. We also use cookies for non-essential purposes such as remembering your preferences between visits, or for analytics. These cookies will be stored in your browser only with your consent. Read our full cookie policy"," ",(0,c.jsx)("a",{target:"_blank",rel:"noreferrer",href:"/cookiePolicy",children:"here"}),"."]}),(0,c.jsxs)(I.Typography,{variant:"body2",className:n.blurb,children:["If you have previously accepted cookies and are now rejecting them, you are responsible for removing any that have already been set. You can do so by refreshing the page and then following the instructions"," ",(0,c.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://support.google.com/chrome/answer/95647",children:"here"}),"."]}),(0,c.jsx)(iw,{title:"Necessary",cookieType:"necessary",allowedCookies:r,setAllowedCookies:o,alwaysEnabled:!0,classes:n,className:n.categoryWrapper}),(0,c.jsx)(iw,{title:"Functional",cookieType:"functional",allowedCookies:r,setAllowedCookies:o,classes:n,className:n.categoryWrapper}),(0,c.jsx)(iw,{title:"Analytics",cookieType:"analytics",allowedCookies:r,setAllowedCookies:o,classes:n,className:n.categoryWrapper}),(0,c.jsx)(x.default,{className:n.button,variant:"contained",color:"primary",onClick:s,children:"Save preferences"})]})]})},{styles:e=>({dialog:{margin:24},title:{marginLeft:4,padding:"24px 24px 10px","& .MuiTypography-title":{color:e.palette.grey[1e3]}},content:{minWidth:280},blurb:{marginLeft:4,marginRight:4,marginBottom:12,"& a":{textDecoration:"underline",fontWeight:600,"&:hover":{textDecoration:"underline"}}},categoryWrapper:{marginBottom:8},category:{height:48,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:e.palette.grey[100],borderRadius:e.borderRadius.default},categoryLabel:{paddingLeft:6,display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer"},checkboxOrLabel:{padding:12},explanationContainer:{maxHeight:0,overflow:"hidden",transition:"max-height 0.3s ease-in-out"},explanation:{padding:"8px 0px",fontWeight:400},open:{maxHeight:"200px",overflow:"auto"},button:{marginTop:12,marginLeft:"auto",color:e.palette.text.alwaysWhite,textTransform:"none",whiteSpace:"nowrap",fontSize:14,display:"block",boxShadow:"none"}})}),iC=(0,z.registerComponent)("CookieBanner",e=>{let{classes:t}=e,{openDialog:n}=(0,B.useDialog)(),{updateCookiePreferences:a}=(0,ap.useCookiePreferences)();return(0,c.jsxs)("div",{className:(0,w.default)(t.bannerContainer),children:[(0,c.jsxs)(I.Typography,{variant:"body2",className:t.text,children:['We and our partners use cookies, including to review how our site is used and to improve our site\'s performance. By clicking "Accept all" you agree to their use. Customise your'," ",(0,c.jsx)("a",{onClick:()=>{n({name:"CookieDialog",contents:e=>{let{onClose:t}=e;return(0,c.jsx)(iN,{onClose:t})}})},children:"cookie settings"})," ","for more control, or review our cookie policy ",(0,c.jsx)("a",{href:"/cookiePolicy",children:"here"}),"."]}),(0,c.jsxs)("div",{className:t.buttonGroup,children:[(0,c.jsx)(x.default,{className:(0,w.default)(t.button,t.rejectButton),variant:"contained",onClick:()=>{a(im.ONLY_NECESSARY_COOKIES)},children:"Reject"}),(0,c.jsx)(x.default,{className:t.button,variant:"contained",color:"primary",onClick:()=>{a(im.ALL_COOKIES)},children:"Accept all"})]})]})},{styles:e=>({bannerContainer:{display:"flex",alignItems:"center",position:"fixed",bottom:0,left:0,right:0,backgroundColor:e.palette.panelBackground.cookieBanner,zIndex:1001,flexDirection:"row",justifyContent:"center",padding:"16px",[e.breakpoints.down("md")]:{padding:"16px"},[e.breakpoints.down("xs")]:{padding:14,flexDirection:"column",display:"grid"}},text:{color:e.palette.text.invertedBackgroundText,fontWeight:400,maxWidth:1200,fontSize:14,"& a":{textDecoration:"underline",fontWeight:600,"&:hover":{textDecoration:"underline"}}},buttonGroup:{display:"flex",marginTop:0,alignItems:"flex-end",marginLeft:24,[e.breakpoints.down("xs")]:{marginTop:12,marginLeft:0}},button:{textTransform:"none",color:e.palette.text.alwaysWhite,whiteSpace:"nowrap",fontSize:14,marginRight:6,boxShadow:"none",[e.breakpoints.up("sm")]:{marginBottom:0}},rejectButton:{backgroundColor:e.palette.grey[600],"&:hover":{backgroundColor:e.palette.grey[700]}}})});var ik=e.i(558467),iS=e.i(834018),iE=e.i(97488);let iI=(0,tN.default)(()=>e.A(127920),{loadableGenerated:{modules:[289228]},ssr:!1}),iT=(0,tN.default)(()=>e.A(673749),{loadableGenerated:{modules:[940268]},ssr:!1}),ij=(0,tN.default)(()=>e.A(678722),{loadableGenerated:{modules:[287157]},ssr:!1}),i_=(0,ea.gql)("\n  mutation updateUserLayout($selector: SelectorInput!, $data: UpdateUserDataInput!) {\n    updateUser(selector: $selector, data: $data) {\n      data {\n        ...UsersCurrent\n      }\n    }\n  }\n"),iL=["termsOfUse"],iO=(0,C.defineStyles)("Layout",e=>({fullscreenBodyWrapper:{flexBasis:0,flexGrow:1,overflow:"auto",[e.breakpoints.down("xs")]:{overflow:"visible"}},spacedGridActivated:{'@supports (grid-template-areas: "title")':{display:"grid",gridTemplateAreas:'\n        "navSidebar ... main imageGap sunshine"\n      ',gridTemplateColumns:"\n        minmax(0, min-content)\n        minmax(0, 1fr)\n        minmax(0, min-content)\n        minmax(0, ".concat((0,G.isLWorAF)()?7:1,"fr)\n        minmax(0, min-content)\n      ")}},gridBreakpointMd:{[e.breakpoints.down("md")]:{display:"block"}},gridBreakpointSm:{[e.breakpoints.down("sm")]:{display:"block"}},eaHomeLayout:{display:"flex",alignItems:"start",[e.breakpoints.down("md")]:{display:"block"}},navSidebar:{gridArea:"navSidebar"},sunshine:{gridArea:"sunshine"},languageModelLauncher:{position:"absolute",top:"-57px",right:"-334px",[e.breakpoints.down("lg")]:{display:"none"}},topLevelContainer:{display:"flex",flexDirection:"row",minHeight:"100vh",width:"100%"},pageContent:{flexGrow:1,flexShrink:1,minWidth:0,display:"flex",flexDirection:"column"},llmChatColumn:{flexShrink:0,flexGrow:0},"@global":{...(0,W.globalStyles)(e),p:(0,V.pBodyStyle)(e),".mapboxgl-popup":{willChange:"auto !important",zIndex:e.zIndexes.styledMapPopup},"@font-face":[{fontFamily:"GreekFallback",src:"local('Arial')",unicodeRange:"U+0370-03FF, U+1F00-1FFF"},{fontFamily:"ETBookRoman",src:"url('https://res.cloudinary.com/lesswrong-2-0/raw/upload/v1723063815/et-book-roman-line-figures_tvofzs.woff') format('woff')"}],".ck-table-properties-form__alignment-row":{display:"none !important"}},searchResultsArea:{position:"absolute",zIndex:e.zIndexes.searchResults,top:0,width:"100%"},hideHomepageMapOnMobile:{[e.breakpoints.down("sm")]:{display:"none"}},stickyWrapper:{transition:"transform 200ms ease-in-out",transform:"translateY(".concat(20,"px)"),marginBottom:20},stickyWrapperHeaderVisible:{transform:"translateY(calc(var(--header-height) + ".concat(20,"px))")}})),iA=e=>{let{children:t}=e,n=(0,N.useStyles)(iO),{headerVisible:a,headerAtTop:i}=(()=>{let[e,t]=(0,d.useState)({headerVisible:!0,headerAtTop:!0});return(0,d.useEffect)(()=>{let e=document.querySelector(".headroom");if(!e)return;let n=new MutationObserver(()=>{t({headerVisible:!e.classList.contains("headroom--unpinned"),headerAtTop:e.classList.contains("headroom--unfixed")})});return n.observe(e,{attributes:!0}),()=>n.disconnect()},[]),e})();return(0,c.jsx)(aT,{offsetTop:0,offsetBottom:20,children:(0,c.jsx)("div",{className:(0,w.default)(n.stickyWrapper,{[n.stickyWrapperHeaderVisible]:a&&!i}),children:t})})},iR=e=>{let{sticky:t,children:n}=e;return t?(0,c.jsx)(iA,{children:n}):(0,c.jsx)(c.Fragment,{children:n})};function iD(e){let{hideIntercomButton:t}=e,{explicitConsentGiven:n,explicitConsentRequired:a}=(0,ap.useCookiePreferences)();return!0!==a||n?t?null:(0,c.jsx)(ih,{}):(0,c.jsx)(iC,{})}function iP(){let e=(0,R.useTheme)();return(0,c.jsxs)(q.Helmet,{name:"fonts",children:[e.typography.fontDownloads&&e.typography.fontDownloads.map(e=>(0,c.jsx)("link",{rel:"stylesheet",href:e},"font-".concat(e))),(0,c.jsx)("meta",{httpEquiv:"Accept-CH",content:"DPR, Viewport-Width, Width"})]})}let iF=(0,d.createContext)(!1),iB=e=>{let{children:t}=e,n=(0,N.useStyles)(iO),a=(0,O.useCurrentUser)(),{pathname:i}=(0,D.useLocation)(),r=i.startsWith("/inbox"),[o,s]=(0,ap.useCookiesWithConsent)([ah.SHOW_LLM_CHAT_COOKIE]),[l,u]=(0,d.useState)(!1),p=(0,d.useCallback)(()=>{u(!1),s(ah.SHOW_LLM_CHAT_COOKIE,"false",{path:"/"})},[s]),h=!!a&&(0,eE.userHasLlmChat)(a)&&!r;return(0,c.jsxs)("div",{className:n.topLevelContainer,children:[(0,c.jsx)("div",{className:n.pageContent,children:(0,c.jsx)(iF.Provider,{value:l,children:t})}),h&&(0,c.jsx)("div",{className:n.llmChatColumn,children:(0,c.jsx)(tP.default,{ssr:!1,children:l?(0,c.jsx)(ed.SuspenseWrapper,{name:"SidebarLanguageModelChat",children:(0,c.jsx)(ij,{onClose:p})}):(0,c.jsx)(iT,{onClick:()=>u(!0)})})})]})},iM=(0,C.defineStyles)("PageBackgroundWrapper",e=>({wrapper:{position:"relative",overflowX:"clip"},fullscreen:{height:"max(100vh, 600px)",display:"flex",flexDirection:"column"}}));function iU(e){let{children:t}=e,n=(0,N.useStyles)(iM),a=(0,ag.usePrerenderablePathname)();return(0,c.jsx)("div",{id:"wrapper",className:(0,w.default)("wrapper",{"alignment-forum":(0,G.isAF)(),[n.fullscreen]:nL(a),[n.wrapper]:(0,G.isLWorAF)()}),children:t})}let iV=e=>{var t;let n,a,i,r,o,s,l,{children:u}=e,p=(0,N.useStyles)(iO),h=(0,O.useCurrentUser)(),f=null==h?void 0:h._id,g=(0,d.useRef)(null),y=!!h&&!!(null==h?void 0:h.hideNavigationSidebar),[v,b]=(0,d.useState)(y),{pathname:x,query:C}=(0,D.useLocation)(),{metadata:k}=(0,iS.useRouteMetadata)(),[S]=(0,ik.useMutationNoCache)(i_),E=(0,d.useCallback)(()=>{f&&S({variables:{selector:{_id:f},data:{hideNavigationSidebar:!v}}}),b(!v)},[S,f,v]),I=x.startsWith("/inbox"),T=x.startsWith("/wrapped"),j=(0,R.useThemeColor)(e=>e.palette.wrapped.background);return T?l=j:x.startsWith("/voting-portal")?l="transparent":tw.isBlackBarTitle&&(l="rgba(0, 0, 0, 0.7)"),n=nT(x,"/")&&!!((0,Q.userCanDo)(h,"posts.moderate.all")||(null==h||null==(t=h.groups)?void 0:t.includes("alignmentForumAdmins")))&&!(null==h?void 0:h.hideSunshineSidebar),a=!!k.hasLeftNavigationColumn,i=!!k.hasLeftNavigationColumn,r=(0,eC.isFriendlyUI)()&&nj(x),s=(o=(0,G.isLW)())&&a,iL.some(e=>x.startsWith("/".concat(e))),(0,c.jsx)(P.AnalyticsContext,{path:x,children:(0,c.jsx)(tu.PopperPortalProvider,{children:(0,c.jsx)(ex,{children:(0,c.jsx)(F.TimezoneWrapper,{children:(0,c.jsx)(U.ItemsReadContextWrapper,{children:(0,c.jsx)(tI.LoginPopoverContextProvider,{children:(0,c.jsx)(et.default,{children:(0,c.jsx)(iE.EditorCommandsContextProvider,{children:(0,c.jsx)(m.AutosaveEditorStateContextProvider,{children:(0,c.jsx)(aQ.default,{children:(0,c.jsx)(m.DisableNoKibitzContextProvider,{children:(0,c.jsx)(aB.CommentOnSelectionPageWrapper,{children:(0,c.jsx)(ek.CurrentAndRecentForumEventsProvider,{children:(0,c.jsx)(iB,{children:(0,c.jsx)(aw,{children:(0,c.jsxs)(iU,{children:[K.buttonBurstSetting.get()&&(0,c.jsx)(a_,{}),(0,c.jsx)(B.DialogManager,{children:(0,c.jsxs)(M.CommentBoxManager,{children:[(0,c.jsx)(iP,{}),(0,c.jsx)(aO,{}),(0,c.jsx)(aF,{}),(0,c.jsx)(aW,{}),(0,c.jsx)(tP.default,{ssr:!1,children:(0,c.jsx)(iD,{hideIntercomButton:T||I})}),(0,c.jsx)("noscript",{className:"noscript-warning",children:" This website requires javascript to properly function. Consider activating javascript to get access to all site functionality. "}),(0,c.jsx)("noscript",{children:(0,c.jsx)("iframe",{src:"https://www.googletagmanager.com/ns.html?id=".concat(K.googleTagManagerIdSetting.get()),height:"0",width:"0",style:{display:"none",visibility:"hidden"}})}),!n_(x)&&(0,c.jsx)(ed.SuspenseWrapper,{name:"Header",children:(0,c.jsx)(aN,{searchResultsArea:g,standaloneNavigationPresent:a,sidebarHidden:v,toggleStandaloneNavigation:E,stayAtTop:nT(x,"/admin/digests/:num"),backgroundColor:l})}),!1,(0,c.jsx)(eu.default,{children:(0,c.jsx)(L,{})}),(0,eC.isFriendlyUI)()&&!T&&(0,c.jsx)(aM,{}),(0,c.jsxs)("div",{className:(0,w.default)({[p.spacedGridActivated]:i,[p.gridBreakpointMd]:!o&&i,[p.gridBreakpointSm]:o&&i,[p.eaHomeLayout]:r&&!n,[p.fullscreenBodyWrapper]:nL(x)}),children:[a&&(0,c.jsx)(ed.SuspenseWrapper,{fallback:(0,c.jsx)("span",{}),name:"NavigationStandalone",children:(0,c.jsx)(iR,{sticky:r,children:(0,c.jsx)(tP.default,{ssr:!0,clientTiming:"mobile-aware",children:(0,c.jsx)(ed.SuspenseWrapper,{name:"NavigationStandalone",children:(0,c.jsx)(t$,{sidebarHidden:v,noTopMargin:r,iconOnlyNavigationEnabled:s})})})})}),(0,c.jsx)("div",{ref:g,className:p.searchResultsArea}),u,(0,G.isLW)()&&(0,c.jsx)(is,{standaloneNavigation:a}),n&&(0,c.jsx)("div",{className:p.sunshine,children:(0,c.jsx)(tP.default,{ssr:!1,children:(0,c.jsx)(ed.SuspenseWrapper,{name:"SunshineSidebar",children:(0,c.jsx)(iI,{})})})})]})]})}),(0,c.jsx)(ei.default,{})]})})})})})})})})})})})})})})})})};var iK=e.i(290154),iG=e.i(936535),iW=e.i(241888),iQ=e.i(308184);function iq(e){return"object"==typeof e&&"function"==typeof(null==e?void 0:e[Symbol.iterator])}var iz=e.i(444613),iH=e.i(1770),iY=e.i(20064),iJ=e.i(285809);function iX(e,t){let[n,a]=t?[e,t]:[void 0,e],i=" Did you mean ";n&&(i+=n+" ");let r=a.map(e=>'"'.concat(e,'"'));switch(r.length){case 0:return"";case 1:return i+r[0]+"?";case 2:return i+r[0]+" or "+r[1]+"?"}let o=r.slice(0,5),s=o.pop();return i+o.join(", ")+", or "+s+"?"}function i$(e){return e}var iZ=e.i(990083);function i0(e,t){let n=Object.create(null);for(let a of e)n[t(a)]=a;return n}function i1(e,t,n){let a=Object.create(null);for(let i of e)a[t(i)]=n(i);return a}function i2(e,t){let n=Object.create(null);for(let a of Object.keys(e))n[a]=t(e[a],a);return n}function i4(e,t){let n=0,a=0;for(;n<e.length&&a<t.length;){let i=e.charCodeAt(n),r=t.charCodeAt(a);if(i6(i)&&i6(r)){let o=0;do++n,o=10*o+i-i3,i=e.charCodeAt(n);while(i6(i)&&o>0)let s=0;do++a,s=10*s+r-i3,r=t.charCodeAt(a);while(i6(r)&&s>0)if(o<s)return -1;if(o>s)return 1}else{if(i<r)return -1;if(i>r)return 1;++n,++a}}return e.length-t.length}let i3=48;function i6(e){return!isNaN(e)&&i3<=e&&e<=57}function i5(e,t){let n=Object.create(null),a=new i8(e),i=Math.floor(.4*e.length)+1;for(let e of t){let t=a.measure(e,i);void 0!==t&&(n[e]=t)}return Object.keys(n).sort((e,t)=>{let a=n[e]-n[t];return 0!==a?a:i4(e,t)})}class i8{measure(e,t){if(this._input===e)return 0;let n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let a=i7(n),i=this._inputArray;if(a.length<i.length){let e=a;a=i,i=e}let r=a.length,o=i.length;if(r-o>t)return;let s=this._rows;for(let e=0;e<=o;e++)s[0][e]=e;for(let e=1;e<=r;e++){let n=s[(e-1)%3],r=s[e%3],l=r[0]=e;for(let t=1;t<=o;t++){let o=+(a[e-1]!==i[t-1]),c=Math.min(n[t]+1,r[t-1]+1,n[t-1]+o);e>1&&t>1&&a[e-1]===i[t-2]&&a[e-2]===i[t-1]&&(c=Math.min(c,s[(e-2)%3][t-2]+1)),c<l&&(l=c),r[t]=c}if(l>t)return}let l=s[r%3][o];return l<=t?l:void 0}constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=i7(this._inputLowerCase),this._rows=[Array(e.length+1).fill(0),Array(e.length+1).fill(0),Array(e.length+1).fill(0)]}}function i7(e){let t=e.length,n=Array(t);for(let a=0;a<t;++a)n[a]=e.charCodeAt(a);return n}function i9(e){if(null==e)return Object.create(null);if(null===Object.getPrototypeOf(e))return e;let t=Object.create(null);for(let[n,a]of Object.entries(e))t[n]=a;return t}var re=e.i(502956),rt=e.i(254335);function rn(e){if(null!=e||(0,iG.devAssert)(!1,"Must provide name."),"string"==typeof e||(0,iG.devAssert)(!1,"Expected name to be a string."),0===e.length)throw new iH.GraphQLError("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!(0,rt.isNameContinue)(e.charCodeAt(t)))throw new iH.GraphQLError('Names must only contain [_a-zA-Z0-9] but "'.concat(e,'" does not.'));if(!(0,rt.isNameStart)(e.charCodeAt(0)))throw new iH.GraphQLError('Names must start with [_a-zA-Z] but "'.concat(e,'" does not.'));return e}function ra(e){return ri(e)||rr(e)||ro(e)||rs(e)||rl(e)||rc(e)||rd(e)||ru(e)}function ri(e){return(0,iZ.instanceOf)(e,rk)}function rr(e){return(0,iZ.instanceOf)(e,rS)}function ro(e){return(0,iZ.instanceOf)(e,rA)}function rs(e){return(0,iZ.instanceOf)(e,rR)}function rl(e){return(0,iZ.instanceOf)(e,rP)}function rc(e){return(0,iZ.instanceOf)(e,rM)}function rd(e){return(0,iZ.instanceOf)(e,ry)}function ru(e){return(0,iZ.instanceOf)(e,rv)}function rp(e){return ri(e)||rl(e)||rc(e)||rb(e)&&rp(e.ofType)}function rh(e){return ri(e)||rr(e)||ro(e)||rs(e)||rl(e)||rb(e)&&rh(e.ofType)}function rm(e){return ri(e)||rl(e)}function rf(e){return rr(e)||ro(e)||rs(e)}function rg(e){return ro(e)||rs(e)}class ry{get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}constructor(e){ra(e)||(0,iG.devAssert)(!1,"Expected ".concat((0,iW.inspect)(e)," to be a GraphQL type.")),this.ofType=e}}class rv{get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}constructor(e){(function(e){return ra(e)&&!ru(e)})(e)||(0,iG.devAssert)(!1,"Expected ".concat((0,iW.inspect)(e)," to be a GraphQL nullable type.")),this.ofType=e}}function rb(e){return rd(e)||ru(e)}function rx(e){if(e)return ru(e)?e.ofType:e}function rw(e){if(e){let t=e;for(;rb(t);)t=t.ofType;return t}}function rN(e){return"function"==typeof e?e():e}function rC(e){return"function"==typeof e?e():e}class rk{get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}constructor(e){var t,n,a,i;const r=null!=(t=e.parseValue)?t:i$;this.name=rn(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=null!=(n=e.serialize)?n:i$,this.parseValue=r,this.parseLiteral=null!=(a=e.parseLiteral)?a:(e,t)=>r(function e(t,n){switch(t.kind){case iJ.Kind.NULL:return null;case iJ.Kind.INT:return parseInt(t.value,10);case iJ.Kind.FLOAT:return parseFloat(t.value);case iJ.Kind.STRING:case iJ.Kind.ENUM:case iJ.Kind.BOOLEAN:return t.value;case iJ.Kind.LIST:return t.values.map(t=>e(t,n));case iJ.Kind.OBJECT:return i1(t.fields,e=>e.name.value,t=>e(t.value,n));case iJ.Kind.VARIABLE:return null==n?void 0:n[t.name.value]}}(e,t)),this.extensions=i9(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!=(i=e.extensionASTNodes)?i:[],null==e.specifiedByURL||"string"==typeof e.specifiedByURL||(0,iG.devAssert)(!1,"".concat(this.name,' must provide "specifiedByURL" as a string, ')+"but got: ".concat((0,iW.inspect)(e.specifiedByURL),".")),null==e.serialize||"function"==typeof e.serialize||(0,iG.devAssert)(!1,"".concat(this.name,' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.')),e.parseLiteral&&("function"==typeof e.parseValue&&"function"==typeof e.parseLiteral||(0,iG.devAssert)(!1,"".concat(this.name,' must provide both "parseValue" and "parseLiteral" functions.')))}}class rS{get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"==typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:r_(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}constructor(e){var t;this.name=rn(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=i9(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!=(t=e.extensionASTNodes)?t:[],this._fields=()=>rI(e),this._interfaces=()=>rE(e),null==e.isTypeOf||"function"==typeof e.isTypeOf||(0,iG.devAssert)(!1,"".concat(this.name,' must provide "isTypeOf" as a function, ')+"but got: ".concat((0,iW.inspect)(e.isTypeOf),"."))}}function rE(e){var t;let n=rN(null!=(t=e.interfaces)?t:[]);return Array.isArray(n)||(0,iG.devAssert)(!1,"".concat(e.name," interfaces must be an Array or a function which returns an Array.")),n}function rI(e){let t=rC(e.fields);return rj(t)||(0,iG.devAssert)(!1,"".concat(e.name," fields must be an object with field names as keys or a function which returns such an object.")),i2(t,(t,n)=>{var a;rj(t)||(0,iG.devAssert)(!1,"".concat(e.name,".").concat(n," field config must be an object.")),null==t.resolve||"function"==typeof t.resolve||(0,iG.devAssert)(!1,"".concat(e.name,".").concat(n," field resolver must be a function if ")+"provided, but got: ".concat((0,iW.inspect)(t.resolve),"."));let i=null!=(a=t.args)?a:{};return rj(i)||(0,iG.devAssert)(!1,"".concat(e.name,".").concat(n," args must be an object with argument names as keys.")),{name:rn(n),description:t.description,type:t.type,args:rT(i),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:i9(t.extensions),astNode:t.astNode}})}function rT(e){return Object.entries(e).map(e=>{let[t,n]=e;return{name:rn(t),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:i9(n.extensions),astNode:n.astNode}})}function rj(e){return(0,iz.isObjectLike)(e)&&!Array.isArray(e)}function r_(e){return i2(e,e=>({description:e.description,type:e.type,args:rL(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function rL(e){return i1(e,e=>e.name,e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function rO(e){return ru(e.type)&&void 0===e.defaultValue}class rA{get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"==typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:r_(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}constructor(e){var t;this.name=rn(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=i9(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!=(t=e.extensionASTNodes)?t:[],this._fields=rI.bind(void 0,e),this._interfaces=rE.bind(void 0,e),null==e.resolveType||"function"==typeof e.resolveType||(0,iG.devAssert)(!1,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat((0,iW.inspect)(e.resolveType),"."))}}class rR{get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return"function"==typeof this._types&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}constructor(e){var t;this.name=rn(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=i9(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!=(t=e.extensionASTNodes)?t:[],this._types=rD.bind(void 0,e),null==e.resolveType||"function"==typeof e.resolveType||(0,iG.devAssert)(!1,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat((0,iW.inspect)(e.resolveType),"."))}}function rD(e){let t=rN(e.types);return Array.isArray(t)||(0,iG.devAssert)(!1,"Must provide Array of types or a function which returns such an array for Union ".concat(e.name,".")),t}class rP{get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return"function"==typeof this._values&&(this._values=rB(this.name,this._values())),this._values}getValue(e){return null===this._nameLookup&&(this._nameLookup=i0(this.getValues(),e=>e.name)),this._nameLookup[e]}serialize(e){null===this._valueLookup&&(this._valueLookup=new Map(this.getValues().map(e=>[e.value,e])));let t=this._valueLookup.get(e);if(void 0===t)throw new iH.GraphQLError('Enum "'.concat(this.name,'" cannot represent value: ').concat((0,iW.inspect)(e)));return t.name}parseValue(e){if("string"!=typeof e){let t=(0,iW.inspect)(e);throw new iH.GraphQLError('Enum "'.concat(this.name,'" cannot represent non-string value: ').concat(t,".")+rF(this,t))}let t=this.getValue(e);if(null==t)throw new iH.GraphQLError('Value "'.concat(e,'" does not exist in "').concat(this.name,'" enum.')+rF(this,e));return t.value}parseLiteral(e,t){if(e.kind!==iJ.Kind.ENUM){let t=(0,re.print)(e);throw new iH.GraphQLError('Enum "'.concat(this.name,'" cannot represent non-enum value: ').concat(t,".")+rF(this,t),{nodes:e})}let n=this.getValue(e.value);if(null==n){let t=(0,re.print)(e);throw new iH.GraphQLError('Value "'.concat(t,'" does not exist in "').concat(this.name,'" enum.')+rF(this,t),{nodes:e})}return n.value}toConfig(){let e=i1(this.getValues(),e=>e.name,e=>({description:e.description,value:e.value,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}constructor(e){var t;this.name=rn(e.name),this.description=e.description,this.extensions=i9(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!=(t=e.extensionASTNodes)?t:[],this._values="function"==typeof e.values?e.values:rB(this.name,e.values),this._valueLookup=null,this._nameLookup=null}}function rF(e,t){return iX("the enum value",i5(t,e.getValues().map(e=>e.name)))}function rB(e,t){return rj(t)||(0,iG.devAssert)(!1,"".concat(e," values must be an object with value names as keys.")),Object.entries(t).map(t=>{let[n,a]=t;return rj(a)||(0,iG.devAssert)(!1,"".concat(e,".").concat(n,' must refer to an object with a "value" key ')+"representing an internal value but got: ".concat((0,iW.inspect)(a),".")),{name:function(e){if("true"===e||"false"===e||"null"===e)throw new iH.GraphQLError("Enum values cannot be named: ".concat(e));return rn(e)}(n),description:a.description,value:void 0!==a.value?a.value:n,deprecationReason:a.deprecationReason,extensions:i9(a.extensions),astNode:a.astNode}})}class rM{get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields}toConfig(){let e=i2(this.getFields(),e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,isOneOf:this.isOneOf}}toString(){return this.name}toJSON(){return this.toString()}constructor(e){var t,n;this.name=rn(e.name),this.description=e.description,this.extensions=i9(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!=(t=e.extensionASTNodes)?t:[],this.isOneOf=null!=(n=e.isOneOf)&&n,this._fields=rU.bind(void 0,e)}}function rU(e){let t=rC(e.fields);return rj(t)||(0,iG.devAssert)(!1,"".concat(e.name," fields must be an object with field names as keys or a function which returns such an object.")),i2(t,(t,n)=>("resolve"in t&&(0,iG.devAssert)(!1,"".concat(e.name,".").concat(n," field has a resolve property, but Input Types cannot define resolvers.")),{name:rn(n),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:i9(t.extensions),astNode:t.astNode}))}function rV(e){return ru(e.type)&&void 0===e.defaultValue}var rK=e.i(531532);let rG=new rk({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){let t=rY(e);if("boolean"==typeof t)return+!!t;let n=t;if("string"==typeof t&&""!==t&&(n=Number(t)),"number"!=typeof n||!Number.isInteger(n))throw new iH.GraphQLError("Int cannot represent non-integer value: ".concat((0,iW.inspect)(t)));if(n>0x7fffffff||n<-0x80000000)throw new iH.GraphQLError("Int cannot represent non 32-bit signed integer value: "+(0,iW.inspect)(t));return n},parseValue(e){if("number"!=typeof e||!Number.isInteger(e))throw new iH.GraphQLError("Int cannot represent non-integer value: ".concat((0,iW.inspect)(e)));if(e>0x7fffffff||e<-0x80000000)throw new iH.GraphQLError("Int cannot represent non 32-bit signed integer value: ".concat(e));return e},parseLiteral(e){if(e.kind!==iJ.Kind.INT)throw new iH.GraphQLError("Int cannot represent non-integer value: ".concat((0,re.print)(e)),{nodes:e});let t=parseInt(e.value,10);if(t>0x7fffffff||t<-0x80000000)throw new iH.GraphQLError("Int cannot represent non 32-bit signed integer value: ".concat(e.value),{nodes:e});return t}}),rW=new rk({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){let t=rY(e);if("boolean"==typeof t)return+!!t;let n=t;if("string"==typeof t&&""!==t&&(n=Number(t)),"number"!=typeof n||!Number.isFinite(n))throw new iH.GraphQLError("Float cannot represent non numeric value: ".concat((0,iW.inspect)(t)));return n},parseValue(e){if("number"!=typeof e||!Number.isFinite(e))throw new iH.GraphQLError("Float cannot represent non numeric value: ".concat((0,iW.inspect)(e)));return e},parseLiteral(e){if(e.kind!==iJ.Kind.FLOAT&&e.kind!==iJ.Kind.INT)throw new iH.GraphQLError("Float cannot represent non numeric value: ".concat((0,re.print)(e)),e);return parseFloat(e.value)}}),rQ=new rk({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){let t=rY(e);if("string"==typeof t)return t;if("boolean"==typeof t)return t?"true":"false";if("number"==typeof t&&Number.isFinite(t))return t.toString();throw new iH.GraphQLError("String cannot represent value: ".concat((0,iW.inspect)(e)))},parseValue(e){if("string"!=typeof e)throw new iH.GraphQLError("String cannot represent a non string value: ".concat((0,iW.inspect)(e)));return e},parseLiteral(e){if(e.kind!==iJ.Kind.STRING)throw new iH.GraphQLError("String cannot represent a non string value: ".concat((0,re.print)(e)),{nodes:e});return e.value}}),rq=new rk({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){let t=rY(e);if("boolean"==typeof t)return t;if(Number.isFinite(t))return 0!==t;throw new iH.GraphQLError("Boolean cannot represent a non boolean value: ".concat((0,iW.inspect)(t)))},parseValue(e){if("boolean"!=typeof e)throw new iH.GraphQLError("Boolean cannot represent a non boolean value: ".concat((0,iW.inspect)(e)));return e},parseLiteral(e){if(e.kind!==iJ.Kind.BOOLEAN)throw new iH.GraphQLError("Boolean cannot represent a non boolean value: ".concat((0,re.print)(e)),{nodes:e});return e.value}}),rz=new rk({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){let t=rY(e);if("string"==typeof t)return t;if(Number.isInteger(t))return String(t);throw new iH.GraphQLError("ID cannot represent value: ".concat((0,iW.inspect)(e)))},parseValue(e){if("string"==typeof e)return e;if("number"==typeof e&&Number.isInteger(e))return e.toString();throw new iH.GraphQLError("ID cannot represent value: ".concat((0,iW.inspect)(e)))},parseLiteral(e){if(e.kind!==iJ.Kind.STRING&&e.kind!==iJ.Kind.INT)throw new iH.GraphQLError("ID cannot represent a non-string and non-integer value: "+(0,re.print)(e),{nodes:e});return e.value}}),rH=Object.freeze([rQ,rG,rW,rq,rz]);function rY(e){if((0,iz.isObjectLike)(e)){if("function"==typeof e.valueOf){let t=e.valueOf();if(!(0,iz.isObjectLike)(t))return t}if("function"==typeof e.toJSON)return e.toJSON()}return e}let rJ=/^-?(?:0|[1-9][0-9]*)$/,rX=new rS({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:rQ,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new rv(new ry(new rv(r0))),resolve:e=>Object.values(e.getTypeMap())},queryType:{description:"The type that query operations will be rooted at.",type:new rv(r0),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:r0,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:r0,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new rv(new ry(new rv(r$))),resolve:e=>e.getDirectives()}})}),r$=new rS({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:()=>({name:{type:new rv(rQ),resolve:e=>e.name},description:{type:rQ,resolve:e=>e.description},isRepeatable:{type:new rv(rq),resolve:e=>e.isRepeatable},locations:{type:new rv(new ry(new rv(rZ))),resolve:e=>e.locations},args:{type:new rv(new ry(new rv(r2))),args:{includeDeprecated:{type:rq,defaultValue:!1}},resolve(e,t){let{includeDeprecated:n}=t;return n?e.args:e.args.filter(e=>null==e.deprecationReason)}}})}),rZ=new rP({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:rK.DirectiveLocation.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:rK.DirectiveLocation.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:rK.DirectiveLocation.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:rK.DirectiveLocation.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:rK.DirectiveLocation.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:rK.DirectiveLocation.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:rK.DirectiveLocation.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:rK.DirectiveLocation.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:rK.DirectiveLocation.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:rK.DirectiveLocation.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:rK.DirectiveLocation.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:rK.DirectiveLocation.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:rK.DirectiveLocation.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:rK.DirectiveLocation.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:rK.DirectiveLocation.UNION,description:"Location adjacent to a union definition."},ENUM:{value:rK.DirectiveLocation.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:rK.DirectiveLocation.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:rK.DirectiveLocation.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:rK.DirectiveLocation.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),r0=new rS({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new rv(r3),resolve:e=>ri(e)?i.SCALAR:rr(e)?i.OBJECT:ro(e)?i.INTERFACE:rs(e)?i.UNION:rl(e)?i.ENUM:rc(e)?i.INPUT_OBJECT:rd(e)?i.LIST:ru(e)?i.NON_NULL:void(0,iQ.invariant)(!1,'Unexpected type: "'.concat((0,iW.inspect)(e),'".'))},name:{type:rQ,resolve:e=>"name"in e?e.name:void 0},description:{type:rQ,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:rQ,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new ry(new rv(r1)),args:{includeDeprecated:{type:rq,defaultValue:!1}},resolve(e,t){let{includeDeprecated:n}=t;if(rr(e)||ro(e)){let t=Object.values(e.getFields());return n?t:t.filter(e=>null==e.deprecationReason)}}},interfaces:{type:new ry(new rv(r0)),resolve(e){if(rr(e)||ro(e))return e.getInterfaces()}},possibleTypes:{type:new ry(new rv(r0)),resolve(e,t,n,a){let{schema:i}=a;if(rg(e))return i.getPossibleTypes(e)}},enumValues:{type:new ry(new rv(r4)),args:{includeDeprecated:{type:rq,defaultValue:!1}},resolve(e,t){let{includeDeprecated:n}=t;if(rl(e)){let t=e.getValues();return n?t:t.filter(e=>null==e.deprecationReason)}}},inputFields:{type:new ry(new rv(r2)),args:{includeDeprecated:{type:rq,defaultValue:!1}},resolve(e,t){let{includeDeprecated:n}=t;if(rc(e)){let t=Object.values(e.getFields());return n?t:t.filter(e=>null==e.deprecationReason)}}},ofType:{type:r0,resolve:e=>"ofType"in e?e.ofType:void 0},isOneOf:{type:rq,resolve:e=>{if(rc(e))return e.isOneOf}}})}),r1=new rS({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new rv(rQ),resolve:e=>e.name},description:{type:rQ,resolve:e=>e.description},args:{type:new rv(new ry(new rv(r2))),args:{includeDeprecated:{type:rq,defaultValue:!1}},resolve(e,t){let{includeDeprecated:n}=t;return n?e.args:e.args.filter(e=>null==e.deprecationReason)}},type:{type:new rv(r0),resolve:e=>e.type},isDeprecated:{type:new rv(rq),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:rQ,resolve:e=>e.deprecationReason}})}),r2=new rS({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new rv(rQ),resolve:e=>e.name},description:{type:rQ,resolve:e=>e.description},type:{type:new rv(r0),resolve:e=>e.type},defaultValue:{type:rQ,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){let{type:t,defaultValue:n}=e,a=function e(t,n){if(ru(n)){let a=e(t,n.ofType);return(null==a?void 0:a.kind)===iJ.Kind.NULL?null:a}if(null===t)return{kind:iJ.Kind.NULL};if(void 0===t)return null;if(rd(n)){let a=n.ofType;if(iq(t)){let n=[];for(let i of t){let t=e(i,a);null!=t&&n.push(t)}return{kind:iJ.Kind.LIST,values:n}}return e(t,a)}if(rc(n)){if(!(0,iz.isObjectLike)(t))return null;let a=[];for(let i of Object.values(n.getFields())){let n=e(t[i.name],i.type);n&&a.push({kind:iJ.Kind.OBJECT_FIELD,name:{kind:iJ.Kind.NAME,value:i.name},value:n})}return{kind:iJ.Kind.OBJECT,fields:a}}if(rm(n)){let e=n.serialize(t);if(null==e)return null;if("boolean"==typeof e)return{kind:iJ.Kind.BOOLEAN,value:e};if("number"==typeof e&&Number.isFinite(e)){let t=String(e);return rJ.test(t)?{kind:iJ.Kind.INT,value:t}:{kind:iJ.Kind.FLOAT,value:t}}if("string"==typeof e)return rl(n)?{kind:iJ.Kind.ENUM,value:e}:n===rz&&rJ.test(e)?{kind:iJ.Kind.INT,value:e}:{kind:iJ.Kind.STRING,value:e};throw TypeError("Cannot convert value to AST: ".concat((0,iW.inspect)(e),"."))}(0,iQ.invariant)(!1,"Unexpected input type: "+(0,iW.inspect)(n))}(n,t);return a?(0,re.print)(a):null}},isDeprecated:{type:new rv(rq),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:rQ,resolve:e=>e.deprecationReason}})}),r4=new rS({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new rv(rQ),resolve:e=>e.name},description:{type:rQ,resolve:e=>e.description},isDeprecated:{type:new rv(rq),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:rQ,resolve:e=>e.deprecationReason}})});(n=i||(i={})).SCALAR="SCALAR",n.OBJECT="OBJECT",n.INTERFACE="INTERFACE",n.UNION="UNION",n.ENUM="ENUM",n.INPUT_OBJECT="INPUT_OBJECT",n.LIST="LIST",n.NON_NULL="NON_NULL";let r3=new rP({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:i.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:i.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:i.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:i.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:i.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:i.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:i.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:i.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),r6={name:"__schema",type:new rv(rX),description:"Access the current type schema of this server.",args:[],resolve:(e,t,n,a)=>{let{schema:i}=a;return i},deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},r5={name:"__type",type:r0,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new rv(rQ),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(e,t,n,a)=>{let{name:i}=t,{schema:r}=a;return r.getType(i)},deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},r8={name:"__typename",type:new rv(rQ),description:"The name of the current Object type at runtime.",args:[],resolve:(e,t,n,a)=>{let{parentType:i}=a;return i.name},deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},r7=Object.freeze([rX,r$,rZ,r0,r1,r2,r4,r3]);function r9(e,t,n){return t===n||(ru(n)?!!ru(t)&&r9(e,t.ofType,n.ofType):ru(t)?r9(e,t.ofType,n):rd(n)?!!rd(t)&&r9(e,t.ofType,n.ofType):!rd(t)&&rg(n)&&(ro(t)||rr(t))&&e.isSubType(n,t))}function oe(e,t,n){return t===n||(rg(t)?rg(n)?e.getPossibleTypes(t).some(t=>e.isSubType(n,t)):e.isSubType(t,n):!!rg(n)&&e.isSubType(n,t))}function ot(e){return(0,iZ.instanceOf)(e,on)}class on{get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:rL(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}constructor(e){var t,n;this.name=rn(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=null!=(t=e.isRepeatable)&&t,this.extensions=i9(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||(0,iG.devAssert)(!1,"@".concat(e.name," locations must be an Array."));const a=null!=(n=e.args)?n:{};(0,iz.isObjectLike)(a)&&!Array.isArray(a)||(0,iG.devAssert)(!1,"@".concat(e.name," args must be an object with argument names as keys.")),this.args=rT(a)}}let oa=new on({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[rK.DirectiveLocation.FIELD,rK.DirectiveLocation.FRAGMENT_SPREAD,rK.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new rv(rq),description:"Included when true."}}}),oi=new on({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[rK.DirectiveLocation.FIELD,rK.DirectiveLocation.FRAGMENT_SPREAD,rK.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new rv(rq),description:"Skipped when true."}}}),or=new on({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[rK.DirectiveLocation.FIELD_DEFINITION,rK.DirectiveLocation.ARGUMENT_DEFINITION,rK.DirectiveLocation.INPUT_FIELD_DEFINITION,rK.DirectiveLocation.ENUM_VALUE],args:{reason:{type:rQ,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:"No longer supported"}}}),oo=Object.freeze([oa,oi,or,new on({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[rK.DirectiveLocation.SCALAR],args:{url:{type:new rv(rQ),description:"The URL that specifies the behavior of this scalar."}}}),new on({name:"oneOf",description:"Indicates exactly one field must be supplied and this field must not be `null`.",locations:[rK.DirectiveLocation.INPUT_OBJECT],args:{}})]);class os{get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case iY.OperationTypeNode.QUERY:return this.getQueryType();case iY.OperationTypeNode.MUTATION:return this.getMutationType();case iY.OperationTypeNode.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return rs(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){let t=this._implementationsMap[e.name];return null!=t?t:{objects:[],interfaces:[]}}isSubType(e,t){let n=this._subTypeMap[e.name];if(void 0===n){if(n=Object.create(null),rs(e))for(let t of e.getTypes())n[t.name]=!0;else{let t=this.getImplementations(e);for(let e of t.objects)n[e.name]=!0;for(let e of t.interfaces)n[e.name]=!0}this._subTypeMap[e.name]=n}return void 0!==n[t.name]}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find(t=>t.name===e)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:void 0!==this.__validationErrors}}constructor(e){var t,n;this.__validationErrors=!0===e.assumeValid?[]:void 0,(0,iz.isObjectLike)(e)||(0,iG.devAssert)(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||(0,iG.devAssert)(!1,'"types" must be Array if provided but got: '.concat((0,iW.inspect)(e.types),".")),!e.directives||Array.isArray(e.directives)||(0,iG.devAssert)(!1,'"directives" must be Array if provided but got: '+"".concat((0,iW.inspect)(e.directives),".")),this.description=e.description,this.extensions=i9(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!=(t=e.extensionASTNodes)?t:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=null!=(n=e.directives)?n:oo;const a=new Set(e.types);if(null!=e.types)for(const t of e.types)a.delete(t),ol(t,a);for(const e of(null!=this._queryType&&ol(this._queryType,a),null!=this._mutationType&&ol(this._mutationType,a),null!=this._subscriptionType&&ol(this._subscriptionType,a),this._directives))if(ot(e))for(const t of e.args)ol(t.type,a);for(const e of(ol(rX,a),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null),a)){if(null==e)continue;const t=e.name;if(t||(0,iG.devAssert)(!1,"One of the provided types for building the Schema is missing a name."),void 0!==this._typeMap[t])throw Error('Schema must contain uniquely named types but contains multiple types named "'.concat(t,'".'));if(this._typeMap[t]=e,ro(e)){for(const t of e.getInterfaces())if(ro(t)){let n=this._implementationsMap[t.name];void 0===n&&(n=this._implementationsMap[t.name]={objects:[],interfaces:[]}),n.interfaces.push(e)}}else if(rr(e)){for(const t of e.getInterfaces())if(ro(t)){let n=this._implementationsMap[t.name];void 0===n&&(n=this._implementationsMap[t.name]={objects:[],interfaces:[]}),n.objects.push(e)}}}}}function ol(e,t){let n=rw(e);if(!t.has(n)){if(t.add(n),rs(n))for(let e of n.getTypes())ol(e,t);else if(rr(n)||ro(n)){for(let e of n.getInterfaces())ol(e,t);for(let e of Object.values(n.getFields()))for(let n of(ol(e.type,t),e.args))ol(n.type,t)}else if(rc(n))for(let e of Object.values(n.getFields()))ol(e.type,t)}return t}function oc(e,t){switch(t.kind){case iJ.Kind.LIST_TYPE:{let n=oc(e,t.type);return n&&new ry(n)}case iJ.Kind.NON_NULL_TYPE:{let n=oc(e,t.type);return n&&new rv(n)}case iJ.Kind.NAMED_TYPE:return e.getType(t.name.value)}}function od(e,t){return e.kind===iJ.Kind.VARIABLE&&(null==t||void 0===t[e.name.value])}function ou(e,t,n){var a;let i={},r=i0(null!=(a=t.arguments)?a:[],e=>e.name.value);for(let a of e.args){let e=a.name,o=a.type,s=r[e];if(!s){if(void 0!==a.defaultValue)i[e]=a.defaultValue;else if(ru(o))throw new iH.GraphQLError('Argument "'.concat(e,'" of required type "').concat((0,iW.inspect)(o),'" ')+"was not provided.",{nodes:t});continue}let l=s.value,c=l.kind===iJ.Kind.NULL;if(l.kind===iJ.Kind.VARIABLE){let t=l.name.value;if(null==n||!function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(n,t)){if(void 0!==a.defaultValue)i[e]=a.defaultValue;else if(ru(o))throw new iH.GraphQLError('Argument "'.concat(e,'" of required type "').concat((0,iW.inspect)(o),'" ')+'was provided the variable "$'.concat(t,'" which was not provided a runtime value.'),{nodes:l});continue}c=null==n[t]}if(c&&ru(o))throw new iH.GraphQLError('Argument "'.concat(e,'" of non-null type "').concat((0,iW.inspect)(o),'" ')+"must not be null.",{nodes:l});let d=function e(t,n,a){if(t){if(t.kind===iJ.Kind.VARIABLE){let e=t.name.value;if(null==a||void 0===a[e])return;let i=a[e];if(null===i&&ru(n))return;return i}if(ru(n)){if(t.kind===iJ.Kind.NULL)return;return e(t,n.ofType,a)}if(t.kind===iJ.Kind.NULL)return null;if(rd(n)){let i=n.ofType;if(t.kind===iJ.Kind.LIST){let n=[];for(let r of t.values)if(od(r,a)){if(ru(i))return;n.push(null)}else{let t=e(r,i,a);if(void 0===t)return;n.push(t)}return n}let r=e(t,i,a);if(void 0===r)return;return[r]}if(rc(n)){if(t.kind!==iJ.Kind.OBJECT)return;let i=Object.create(null),r=i0(t.fields,e=>e.name.value);for(let t of Object.values(n.getFields())){let n=r[t.name];if(!n||od(n.value,a)){if(void 0!==t.defaultValue)i[t.name]=t.defaultValue;else if(ru(t.type))return;continue}let o=e(n.value,t.type,a);if(void 0===o)return;i[t.name]=o}if(n.isOneOf){let e=Object.keys(i);if(1!==e.length||null===i[e[0]])return}return i}if(rm(n)){let e;try{e=n.parseLiteral(t,a)}catch(e){return}if(void 0===e)return;return e}(0,iQ.invariant)(!1,"Unexpected input type: "+(0,iW.inspect)(n))}}(l,o,n);if(void 0===d)throw new iH.GraphQLError('Argument "'.concat(e,'" has invalid value ').concat((0,re.print)(l),"."),{nodes:l});i[e]=d}return i}function op(e,t,n){var a;let i=null==(a=t.directives)?void 0:a.find(t=>t.name.value===e.name);if(i)return ou(e,i,n)}function oh(e,t,n,a,i,r,o){for(let l of i.selections)switch(l.kind){case iJ.Kind.FIELD:{var s;if(!om(n,l))continue;let e=(s=l).alias?s.alias.value:s.name.value,t=r.get(e);void 0!==t?t.push(l):r.set(e,[l]);break}case iJ.Kind.INLINE_FRAGMENT:if(!om(n,l)||!of(e,l,a))continue;oh(e,t,n,a,l.selectionSet,r,o);break;case iJ.Kind.FRAGMENT_SPREAD:{let i=l.name.value;if(o.has(i)||!om(n,l))continue;o.add(i);let s=t[i];if(!s||!of(e,s,a))continue;oh(e,t,n,a,s.selectionSet,r,o)}}}function om(e,t){let n=op(oi,t,e);if((null==n?void 0:n.if)===!0)return!1;let a=op(oa,t,e);return(null==a?void 0:a.if)!==!1}function of(e,t,n){let a=t.typeCondition;if(!a)return!0;let i=oc(e,a);return i===n||!!rg(i)&&e.isSubType(i,n)}a=(e,t,n)=>(function(e,t,n,a,i){let r=new Map,o=new Set;for(let s of i)s.selectionSet&&oh(e,t,n,a,s.selectionSet,r,o);return r})(e.schema,e.fragments,e.variableValues,t,n);var og=e.i(498943);class oy{get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){let t=this._schema;switch(e.kind){case iJ.Kind.SELECTION_SET:{let e=rw(this.getType());this._parentTypeStack.push(rf(e)?e:void 0);break}case iJ.Kind.FIELD:{let n,a,i=this.getParentType();i&&(n=this._getFieldDef(t,i,e))&&(a=n.type),this._fieldDefStack.push(n),this._typeStack.push(rh(a)?a:void 0);break}case iJ.Kind.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case iJ.Kind.OPERATION_DEFINITION:{let n=t.getRootType(e.operation);this._typeStack.push(rr(n)?n:void 0);break}case iJ.Kind.INLINE_FRAGMENT:case iJ.Kind.FRAGMENT_DEFINITION:{let n=e.typeCondition,a=n?oc(t,n):rw(this.getType());this._typeStack.push(rh(a)?a:void 0);break}case iJ.Kind.VARIABLE_DEFINITION:{let n=oc(t,e.type);this._inputTypeStack.push(rp(n)?n:void 0);break}case iJ.Kind.ARGUMENT:{var n;let t,a,i=null!=(n=this.getDirective())?n:this.getFieldDef();i&&(t=i.args.find(t=>t.name===e.name.value))&&(a=t.type),this._argument=t,this._defaultValueStack.push(t?t.defaultValue:void 0),this._inputTypeStack.push(rp(a)?a:void 0);break}case iJ.Kind.LIST:{let e=rx(this.getInputType()),t=rd(e)?e.ofType:e;this._defaultValueStack.push(void 0),this._inputTypeStack.push(rp(t)?t:void 0);break}case iJ.Kind.OBJECT_FIELD:{let t,n,a=rw(this.getInputType());rc(a)&&(n=a.getFields()[e.name.value])&&(t=n.type),this._defaultValueStack.push(n?n.defaultValue:void 0),this._inputTypeStack.push(rp(t)?t:void 0);break}case iJ.Kind.ENUM:{let t,n=rw(this.getInputType());rl(n)&&(t=n.getValue(e.value)),this._enumValue=t}}}leave(e){switch(e.kind){case iJ.Kind.SELECTION_SET:this._parentTypeStack.pop();break;case iJ.Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case iJ.Kind.DIRECTIVE:this._directive=null;break;case iJ.Kind.OPERATION_DEFINITION:case iJ.Kind.INLINE_FRAGMENT:case iJ.Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case iJ.Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case iJ.Kind.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case iJ.Kind.LIST:case iJ.Kind.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case iJ.Kind.ENUM:this._enumValue=null}}constructor(e,t,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=null!=n?n:ov,t&&(rp(t)&&this._inputTypeStack.push(t),rf(t)&&this._parentTypeStack.push(t),rh(t)&&this._typeStack.push(t))}}function ov(e,t,n){let a=n.name.value;return a===r6.name&&e.getQueryType()===t?r6:a===r5.name&&e.getQueryType()===t?r5:a===r8.name&&rf(t)?r8:rr(t)||ro(t)?t.getFields()[a]:void 0}function ob(e){return e.kind===iJ.Kind.SCALAR_TYPE_DEFINITION||e.kind===iJ.Kind.OBJECT_TYPE_DEFINITION||e.kind===iJ.Kind.INTERFACE_TYPE_DEFINITION||e.kind===iJ.Kind.UNION_TYPE_DEFINITION||e.kind===iJ.Kind.ENUM_TYPE_DEFINITION||e.kind===iJ.Kind.INPUT_OBJECT_TYPE_DEFINITION}function ox(e){return e.kind===iJ.Kind.SCALAR_TYPE_EXTENSION||e.kind===iJ.Kind.OBJECT_TYPE_EXTENSION||e.kind===iJ.Kind.INTERFACE_TYPE_EXTENSION||e.kind===iJ.Kind.UNION_TYPE_EXTENSION||e.kind===iJ.Kind.ENUM_TYPE_EXTENSION||e.kind===iJ.Kind.INPUT_OBJECT_TYPE_EXTENSION}function ow(e){let t=Object.create(null),n=e.getSchema();for(let e of n?n.getDirectives():oo)t[e.name]=e.args.map(e=>e.name);for(let n of e.getDocument().definitions)if(n.kind===iJ.Kind.DIRECTIVE_DEFINITION){var a;let e=null!=(a=n.arguments)?a:[];t[n.name.value]=e.map(e=>e.name.value)}return{Directive(n){let a=n.name.value,i=t[a];if(n.arguments&&i)for(let t of n.arguments){let n=t.name.value;if(!i.includes(n)){let r=i5(n,i);e.reportError(new iH.GraphQLError('Unknown argument "'.concat(n,'" on directive "@').concat(a,'".')+iX(r),{nodes:t}))}}return!1}}}function oN(e){let t=Object.create(null),n=e.getSchema();for(let e of n?n.getDirectives():oo)t[e.name]=e.locations;for(let n of e.getDocument().definitions)n.kind===iJ.Kind.DIRECTIVE_DEFINITION&&(t[n.name.value]=n.locations.map(e=>e.value));return{Directive(n,a,i,r,o){let s=n.name.value,l=t[s];if(!l)return void e.reportError(new iH.GraphQLError('Unknown directive "@'.concat(s,'".'),{nodes:n}));let c=function(e){let t=e[e.length-1];switch("kind"in t||(0,iQ.invariant)(!1),t.kind){case iJ.Kind.OPERATION_DEFINITION:var n=t.operation;switch(n){case iY.OperationTypeNode.QUERY:return rK.DirectiveLocation.QUERY;case iY.OperationTypeNode.MUTATION:return rK.DirectiveLocation.MUTATION;case iY.OperationTypeNode.SUBSCRIPTION:return rK.DirectiveLocation.SUBSCRIPTION}return;case iJ.Kind.FIELD:return rK.DirectiveLocation.FIELD;case iJ.Kind.FRAGMENT_SPREAD:return rK.DirectiveLocation.FRAGMENT_SPREAD;case iJ.Kind.INLINE_FRAGMENT:return rK.DirectiveLocation.INLINE_FRAGMENT;case iJ.Kind.FRAGMENT_DEFINITION:return rK.DirectiveLocation.FRAGMENT_DEFINITION;case iJ.Kind.VARIABLE_DEFINITION:return rK.DirectiveLocation.VARIABLE_DEFINITION;case iJ.Kind.SCHEMA_DEFINITION:case iJ.Kind.SCHEMA_EXTENSION:return rK.DirectiveLocation.SCHEMA;case iJ.Kind.SCALAR_TYPE_DEFINITION:case iJ.Kind.SCALAR_TYPE_EXTENSION:return rK.DirectiveLocation.SCALAR;case iJ.Kind.OBJECT_TYPE_DEFINITION:case iJ.Kind.OBJECT_TYPE_EXTENSION:return rK.DirectiveLocation.OBJECT;case iJ.Kind.FIELD_DEFINITION:return rK.DirectiveLocation.FIELD_DEFINITION;case iJ.Kind.INTERFACE_TYPE_DEFINITION:case iJ.Kind.INTERFACE_TYPE_EXTENSION:return rK.DirectiveLocation.INTERFACE;case iJ.Kind.UNION_TYPE_DEFINITION:case iJ.Kind.UNION_TYPE_EXTENSION:return rK.DirectiveLocation.UNION;case iJ.Kind.ENUM_TYPE_DEFINITION:case iJ.Kind.ENUM_TYPE_EXTENSION:return rK.DirectiveLocation.ENUM;case iJ.Kind.ENUM_VALUE_DEFINITION:return rK.DirectiveLocation.ENUM_VALUE;case iJ.Kind.INPUT_OBJECT_TYPE_DEFINITION:case iJ.Kind.INPUT_OBJECT_TYPE_EXTENSION:return rK.DirectiveLocation.INPUT_OBJECT;case iJ.Kind.INPUT_VALUE_DEFINITION:{let t=e[e.length-3];return"kind"in t||(0,iQ.invariant)(!1),t.kind===iJ.Kind.INPUT_OBJECT_TYPE_DEFINITION?rK.DirectiveLocation.INPUT_FIELD_DEFINITION:rK.DirectiveLocation.ARGUMENT_DEFINITION}default:(0,iQ.invariant)(!1,"Unexpected kind: "+(0,iW.inspect)(t.kind))}}(o);c&&!l.includes(c)&&e.reportError(new iH.GraphQLError('Directive "@'.concat(s,'" may not be used on ').concat(c,"."),{nodes:n}))}}}function oC(e){let t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),a=Object.create(null);for(let t of e.getDocument().definitions)ob(t)&&(a[t.name.value]=!0);let i=[...Object.keys(n),...Object.keys(a)];return{NamedType(t,r,o,s,l){let c=t.name.value;if(!n[c]&&!a[c]){var d;let n=null!=(d=l[2])?d:o,a=null!=n&&function(e){var t;return"kind"in e&&(e.kind===iJ.Kind.SCHEMA_DEFINITION||ob(e)||e.kind===iJ.Kind.DIRECTIVE_DEFINITION||(t=e).kind===iJ.Kind.SCHEMA_EXTENSION||ox(t))}(n);if(a&&ok.includes(c))return;let r=i5(c,a?ok.concat(i):i);e.reportError(new iH.GraphQLError('Unknown type "'.concat(c,'".')+iX(r),{nodes:t}))}}}}let ok=[...rH,...r7].map(e=>e.name);function oS(e,t,n,a,i,r,o,s){if(a.has(o,s,r))return;a.add(o,s,r);let l=e.getFragment(s);if(!l)return;let[c,d]=oL(e,n,l);if(o!==c)for(let s of(oI(e,t,n,a,i,r,o,c),d))oS(e,t,n,a,i,r,o,s)}function oE(e,t,n,a,i,r,o,s){if(o===s||i.has(o,s,r))return;i.add(o,s,r);let l=e.getFragment(o),c=e.getFragment(s);if(!l||!c)return;let[d,u]=oL(e,n,l),[p,h]=oL(e,n,c);for(let s of(oI(e,t,n,a,i,r,d,p),h))oE(e,t,n,a,i,r,o,s);for(let o of u)oE(e,t,n,a,i,r,o,s)}function oI(e,t,n,a,i,r,o,s){for(let[l,c]of Object.entries(o)){let o=s[l];if(o)for(let s of c)for(let c of o){let o=oT(e,n,a,i,r,l,s,c);o&&t.push(o)}}}function oT(e,t,n,a,i,r,o,s){let[l,c,d]=o,[u,p,h]=s,m=i||l!==u&&rr(l)&&rr(u);if(!m){let e=c.name.value,t=p.name.value;if(e!==t)return[[r,'"'.concat(e,'" and "').concat(t,'" are different fields')],[c],[p]];if(!function(e,t){let n=e.arguments,a=t.arguments;if(void 0===n||0===n.length)return void 0===a||0===a.length;if(void 0===a||0===a.length||n.length!==a.length)return!1;let i=new Map(a.map(e=>{let{name:t,value:n}=e;return[t.value,n]}));return n.every(e=>{let t=e.value,n=i.get(e.name.value);return void 0!==n&&oj(t)===oj(n)})}(c,p))return[[r,"they have differing arguments"],[c],[p]]}let f=null==d?void 0:d.type,g=null==h?void 0:h.type;if(f&&g&&function e(t,n){return rd(t)?!rd(n)||e(t.ofType,n.ofType):!!rd(n)||(ru(t)?!ru(n)||e(t.ofType,n.ofType):!!ru(n)||!!(rm(t)||rm(n))&&t!==n)}(f,g))return[[r,'they return conflicting types "'.concat((0,iW.inspect)(f),'" and "').concat((0,iW.inspect)(g),'"')],[c],[p]];let y=c.selectionSet,v=p.selectionSet;if(y&&v){var b=function(e,t,n,a,i,r,o,s,l){let c=[],[d,u]=o_(e,t,r,o),[p,h]=o_(e,t,s,l);for(let r of(oI(e,c,t,n,a,i,d,p),h))oS(e,c,t,n,a,i,d,r);for(let r of u)oS(e,c,t,n,a,i,p,r);for(let r of u)for(let o of h)oE(e,c,t,n,a,i,r,o);return c}(e,t,n,a,m,rw(f),y,rw(g),v),x=r,w=c,N=p;return b.length>0?[[x,b.map(e=>{let[t]=e;return t})],[w,...b.map(e=>{let[,t]=e;return t}).flat()],[N,...b.map(e=>{let[,,t]=e;return t}).flat()]]:void 0}}function oj(e){return(0,re.print)(function e(t){switch(t.kind){case iJ.Kind.OBJECT:return{...t,fields:t.fields.map(t=>({...t,value:e(t.value)})).sort((e,t)=>i4(e.name.value,t.name.value))};case iJ.Kind.LIST:return{...t,values:t.values.map(e)};case iJ.Kind.INT:case iJ.Kind.FLOAT:case iJ.Kind.STRING:case iJ.Kind.BOOLEAN:case iJ.Kind.NULL:case iJ.Kind.ENUM:case iJ.Kind.VARIABLE:return t}}(e))}function o_(e,t,n,a){let i=t.get(a);if(i)return i;let r=Object.create(null),o=Object.create(null);!function e(t,n,a,i,r){for(let o of a.selections)switch(o.kind){case iJ.Kind.FIELD:{let e,t=o.name.value;(rr(n)||ro(n))&&(e=n.getFields()[t]);let a=o.alias?o.alias.value:t;i[a]||(i[a]=[]),i[a].push([n,o,e]);break}case iJ.Kind.FRAGMENT_SPREAD:r[o.name.value]=!0;break;case iJ.Kind.INLINE_FRAGMENT:{let a=o.typeCondition,s=a?oc(t.getSchema(),a):n;e(t,s,o.selectionSet,i,r)}}}(e,n,a,r,o);let s=[r,Object.keys(o)];return t.set(a,s),s}function oL(e,t,n){let a=t.get(n.selectionSet);if(a)return a;let i=oc(e.getSchema(),n.typeCondition);return o_(e,t,i,n.selectionSet)}class oO{has(e,t,n){var a;let i=null==(a=this._data.get(e))?void 0:a.get(t);return void 0!==i&&(!!n||n===i)}add(e,t,n){let a=this._data.get(e);void 0===a?this._data.set(e,new Map([[t,n]])):a.set(t,n)}constructor(){this._data=new Map}}class oA{has(e,t,n){return e<t?this._orderedPairSet.has(e,t,n):this._orderedPairSet.has(t,e,n)}add(e,t,n){e<t?this._orderedPairSet.add(e,t,n):this._orderedPairSet.add(t,e,n)}constructor(){this._orderedPairSet=new oO}}let oR={[iJ.Kind.SCALAR_TYPE_DEFINITION]:iJ.Kind.SCALAR_TYPE_EXTENSION,[iJ.Kind.OBJECT_TYPE_DEFINITION]:iJ.Kind.OBJECT_TYPE_EXTENSION,[iJ.Kind.INTERFACE_TYPE_DEFINITION]:iJ.Kind.INTERFACE_TYPE_EXTENSION,[iJ.Kind.UNION_TYPE_DEFINITION]:iJ.Kind.UNION_TYPE_EXTENSION,[iJ.Kind.ENUM_TYPE_DEFINITION]:iJ.Kind.ENUM_TYPE_EXTENSION,[iJ.Kind.INPUT_OBJECT_TYPE_DEFINITION]:iJ.Kind.INPUT_OBJECT_TYPE_EXTENSION};function oD(e){var t,n;let a=Object.create(null),i=e.getSchema();for(let e of null!=(t=null==i?void 0:i.getDirectives())?t:oo)a[e.name]=i0(e.args.filter(rO),e=>e.name);for(let t of e.getDocument().definitions)if(t.kind===iJ.Kind.DIRECTIVE_DEFINITION){let e=null!=(n=t.arguments)?n:[];a[t.name.value]=i0(e.filter(oP),e=>e.name.value)}return{Directive:{leave(t){let n=t.name.value,i=a[n];if(i){var r;let a=new Set((null!=(r=t.arguments)?r:[]).map(e=>e.name.value));for(let[r,o]of Object.entries(i))if(!a.has(r)){let a=ra(o.type)?(0,iW.inspect)(o.type):(0,re.print)(o.type);e.reportError(new iH.GraphQLError('Directive "@'.concat(n,'" argument "').concat(r,'" of type "').concat(a,'" is required, but it was not provided.'),{nodes:t}))}}}}}}function oP(e){return e.type.kind===iJ.Kind.NON_NULL_TYPE&&null==e.defaultValue}function oF(e,t){let n=new Map;for(let a of e){let e=t(a),i=n.get(e);void 0===i?n.set(e,[a]):i.push(a)}return n}function oB(e){return{Field:t,Directive:t};function t(t){var n;for(let[a,i]of oF(null!=(n=t.arguments)?n:[],e=>e.name.value))i.length>1&&e.reportError(new iH.GraphQLError('There can be only one argument named "'.concat(a,'".'),{nodes:i.map(e=>e.name)}))}}function oM(e){let t=Object.create(null),n=e.getSchema();for(let e of n?n.getDirectives():oo)t[e.name]=!e.isRepeatable;for(let n of e.getDocument().definitions)n.kind===iJ.Kind.DIRECTIVE_DEFINITION&&(t[n.name.value]=!n.repeatable);let a=Object.create(null),i=Object.create(null);return{enter(n){let r;if("directives"in n&&n.directives){if(n.kind===iJ.Kind.SCHEMA_DEFINITION||n.kind===iJ.Kind.SCHEMA_EXTENSION)r=a;else if(ob(n)||ox(n)){let e=n.name.value;void 0===(r=i[e])&&(i[e]=r=Object.create(null))}else r=Object.create(null);for(let a of n.directives){let n=a.name.value;t[n]&&(r[n]?e.reportError(new iH.GraphQLError('The directive "@'.concat(n,'" can only be used once at this location.'),{nodes:[r[n],a]})):r[n]=a)}}}}}function oU(e){let t=[],n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){let e=t.pop();e||(0,iQ.invariant)(!1),n=e}},ObjectField(t){let a=t.name.value;n[a]?e.reportError(new iH.GraphQLError('There can be only one input field named "'.concat(a,'".'),{nodes:[n[a],t.name]})):n[a]=t.name}}}function oV(e,t){let n=e.getInputType();if(!n)return;let a=rw(n);if(!rm(a)){let a=(0,iW.inspect)(n);e.reportError(new iH.GraphQLError('Expected value of type "'.concat(a,'", found ').concat((0,re.print)(t),"."),{nodes:t}));return}try{let i=a.parseLiteral(t,void 0);if(void 0===i){let a=(0,iW.inspect)(n);e.reportError(new iH.GraphQLError('Expected value of type "'.concat(a,'", found ').concat((0,re.print)(t),"."),{nodes:t}))}}catch(i){let a=(0,iW.inspect)(n);i instanceof iH.GraphQLError?e.reportError(i):e.reportError(new iH.GraphQLError('Expected value of type "'.concat(a,'", found ').concat((0,re.print)(t),"; ")+i.message,{nodes:t,originalError:i}))}}Object.freeze([function(e){return{Document(t){for(let n of t.definitions)if(n.kind!==iJ.Kind.OPERATION_DEFINITION&&n.kind!==iJ.Kind.FRAGMENT_DEFINITION){let t=n.kind===iJ.Kind.SCHEMA_DEFINITION||n.kind===iJ.Kind.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new iH.GraphQLError("The ".concat(t," definition is not executable."),{nodes:n}))}return!1}}},function(e){let t=Object.create(null);return{OperationDefinition(n){let a=n.name;return a&&(t[a.value]?e.reportError(new iH.GraphQLError('There can be only one operation named "'.concat(a.value,'".'),{nodes:[t[a.value],a]})):t[a.value]=a),!1},FragmentDefinition:()=>!1}},function(e){let t=0;return{Document(e){t=e.definitions.filter(e=>e.kind===iJ.Kind.OPERATION_DEFINITION).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new iH.GraphQLError("This anonymous operation must be the only defined operation.",{nodes:n}))}}},function(e){return{OperationDefinition(t){if("subscription"===t.operation){let n=e.getSchema(),a=n.getSubscriptionType();if(a){let i,r=t.name?t.name.value:null,o=Object.create(null),s=e.getDocument(),l=Object.create(null);for(let e of s.definitions)e.kind===iJ.Kind.FRAGMENT_DEFINITION&&(l[e.name.value]=e);let c=(oh(n,l,o,a,t.selectionSet,i=new Map,new Set),i);if(c.size>1){let t=[...c.values()].slice(1).flat();e.reportError(new iH.GraphQLError(null!=r?'Subscription "'.concat(r,'" must select only one top level field.'):"Anonymous Subscription must select only one top level field.",{nodes:t}))}for(let t of c.values())t[0].name.value.startsWith("__")&&e.reportError(new iH.GraphQLError(null!=r?'Subscription "'.concat(r,'" must not select an introspection top level field.'):"Anonymous Subscription must not select an introspection top level field.",{nodes:t}))}}}}},oC,function(e){return{InlineFragment(t){let n=t.typeCondition;if(n){let t=oc(e.getSchema(),n);if(t&&!rf(t)){let t=(0,re.print)(n);e.reportError(new iH.GraphQLError('Fragment cannot condition on non composite type "'.concat(t,'".'),{nodes:n}))}}},FragmentDefinition(t){let n=oc(e.getSchema(),t.typeCondition);if(n&&!rf(n)){let n=(0,re.print)(t.typeCondition);e.reportError(new iH.GraphQLError('Fragment "'.concat(t.name.value,'" cannot condition on non composite type "').concat(n,'".'),{nodes:t.typeCondition}))}}}},function(e){return{VariableDefinition(t){let n=oc(e.getSchema(),t.type);if(void 0!==n&&!rp(n)){let n=t.variable.name.value,a=(0,re.print)(t.type);e.reportError(new iH.GraphQLError('Variable "$'.concat(n,'" cannot be non-input type "').concat(a,'".'),{nodes:t.type}))}}}},function(e){return{Field(t){let n=e.getType(),a=t.selectionSet;if(n)if(rm(rw(n))){if(a){let i=t.name.value,r=(0,iW.inspect)(n);e.reportError(new iH.GraphQLError('Field "'.concat(i,'" must not have a selection since type "').concat(r,'" has no subfields.'),{nodes:a}))}}else if(a){if(0===a.selections.length){let a=t.name.value,i=(0,iW.inspect)(n);e.reportError(new iH.GraphQLError('Field "'.concat(a,'" of type "').concat(i,'" must have at least one field selected.'),{nodes:t}))}}else{let a=t.name.value,i=(0,iW.inspect)(n);e.reportError(new iH.GraphQLError('Field "'.concat(a,'" of type "').concat(i,'" must have a selection of subfields. Did you mean "').concat(a,' { ... }"?'),{nodes:t}))}}}},function(e){return{Field(t){let n=e.getParentType();if(n&&!e.getFieldDef()){var a,i;let r=e.getSchema(),o=t.name.value,s=iX("to use an inline fragment on",function(e,t,n){if(!rg(t))return[];let a=new Set,i=Object.create(null);for(let o of e.getPossibleTypes(t))if(o.getFields()[n])for(let e of(a.add(o),i[o.name]=1,o.getInterfaces())){var r;e.getFields()[n]&&(a.add(e),i[e.name]=(null!=(r=i[e.name])?r:0)+1)}return[...a].sort((t,n)=>{let a=i[n.name]-i[t.name];return 0!==a?a:ro(t)&&e.isSubType(t,n)?-1:ro(n)&&e.isSubType(n,t)?1:i4(t.name,n.name)}).map(e=>e.name)}(r,n,o));""===s&&(s=iX((a=n,i=o,rr(a)||ro(a)?i5(i,Object.keys(a.getFields())):[]))),e.reportError(new iH.GraphQLError('Cannot query field "'.concat(o,'" on type "').concat(n.name,'".')+s,{nodes:t}))}}}},function(e){let t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){let a=n.name.value;return t[a]?e.reportError(new iH.GraphQLError('There can be only one fragment named "'.concat(a,'".'),{nodes:[t[a],n.name]})):t[a]=n.name,!1}}},function(e){return{FragmentSpread(t){let n=t.name.value;e.getFragment(n)||e.reportError(new iH.GraphQLError('Unknown fragment "'.concat(n,'".'),{nodes:t.name}))}}},function(e){let t=[],n=[];return{OperationDefinition:e=>(t.push(e),!1),FragmentDefinition:e=>(n.push(e),!1),Document:{leave(){let a=Object.create(null);for(let n of t)for(let t of e.getRecursivelyReferencedFragments(n))a[t.name.value]=!0;for(let t of n){let n=t.name.value;!0!==a[n]&&e.reportError(new iH.GraphQLError('Fragment "'.concat(n,'" is never used.'),{nodes:t}))}}}}},function(e){return{InlineFragment(t){let n=e.getType(),a=e.getParentType();if(rf(n)&&rf(a)&&!oe(e.getSchema(),n,a)){let i=(0,iW.inspect)(a),r=(0,iW.inspect)(n);e.reportError(new iH.GraphQLError('Fragment cannot be spread here as objects of type "'.concat(i,'" can never be of type "').concat(r,'".'),{nodes:t}))}},FragmentSpread(t){let n=t.name.value,a=function(e,t){let n=e.getFragment(t);if(n){let t=oc(e.getSchema(),n.typeCondition);if(rf(t))return t}}(e,n),i=e.getParentType();if(a&&i&&!oe(e.getSchema(),a,i)){let r=(0,iW.inspect)(i),o=(0,iW.inspect)(a);e.reportError(new iH.GraphQLError('Fragment "'.concat(n,'" cannot be spread here as objects of type "').concat(r,'" can never be of type "').concat(o,'".'),{nodes:t}))}}}},function(e){let t=Object.create(null),n=[],a=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:i=>((function i(r){if(t[r.name.value])return;let o=r.name.value;t[o]=!0;let s=e.getFragmentSpreads(r.selectionSet);if(0!==s.length){for(let t of(a[o]=n.length,s)){let r=t.name.value,o=a[r];if(n.push(t),void 0===o){let t=e.getFragment(r);t&&i(t)}else{let t=n.slice(o),a=t.slice(0,-1).map(e=>'"'+e.name.value+'"').join(", ");e.reportError(new iH.GraphQLError('Cannot spread fragment "'.concat(r,'" within itself')+(""!==a?" via ".concat(a,"."):"."),{nodes:t}))}n.pop()}a[o]=void 0}})(i),!1)}},function(e){return{OperationDefinition(t){var n;for(let[a,i]of oF(null!=(n=t.variableDefinitions)?n:[],e=>e.variable.name.value))i.length>1&&e.reportError(new iH.GraphQLError('There can be only one variable named "$'.concat(a,'".'),{nodes:i.map(e=>e.variable.name)}))}}},function(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){for(let{node:a}of e.getRecursiveVariableUsages(n)){let i=a.name.value;!0!==t[i]&&e.reportError(new iH.GraphQLError(n.name?'Variable "$'.concat(i,'" is not defined by operation "').concat(n.name.value,'".'):'Variable "$'.concat(i,'" is not defined.'),{nodes:[a,n]}))}}},VariableDefinition(e){t[e.variable.name.value]=!0}}},function(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){let a=Object.create(null);for(let{node:t}of e.getRecursiveVariableUsages(n))a[t.name.value]=!0;for(let i of t){let t=i.variable.name.value;!0!==a[t]&&e.reportError(new iH.GraphQLError(n.name?'Variable "$'.concat(t,'" is never used in operation "').concat(n.name.value,'".'):'Variable "$'.concat(t,'" is never used.'),{nodes:i}))}}},VariableDefinition(e){t.push(e)}}},oN,oM,function(e){return{...ow(e),Argument(t){let n=e.getArgument(),a=e.getFieldDef(),i=e.getParentType();if(!n&&a&&i){let n=t.name.value,r=i5(n,a.args.map(e=>e.name));e.reportError(new iH.GraphQLError('Unknown argument "'.concat(n,'" on field "').concat(i.name,".").concat(a.name,'".')+iX(r),{nodes:t}))}}}},oB,function(e){let t={};return{OperationDefinition:{enter(){t={}}},VariableDefinition(e){t[e.variable.name.value]=e},ListValue(t){if(!rd(rx(e.getParentInputType())))return oV(e,t),!1},ObjectValue(n){let a=rw(e.getInputType());if(!rc(a))return oV(e,n),!1;let i=i0(n.fields,e=>e.name.value);for(let t of Object.values(a.getFields()))if(!i[t.name]&&rV(t)){let i=(0,iW.inspect)(t.type);e.reportError(new iH.GraphQLError('Field "'.concat(a.name,".").concat(t.name,'" of required type "').concat(i,'" was not provided.'),{nodes:n}))}a.isOneOf&&function(e,t,n,a,i){var r;let o=Object.keys(a);if(1!==o.length)return e.reportError(new iH.GraphQLError('OneOf Input Object "'.concat(n.name,'" must specify exactly one key.'),{nodes:[t]}));let s=null==(r=a[o[0]])?void 0:r.value,l=!s||s.kind===iJ.Kind.NULL,c=(null==s?void 0:s.kind)===iJ.Kind.VARIABLE;if(l)return e.reportError(new iH.GraphQLError('Field "'.concat(n.name,".").concat(o[0],'" must be non-null.'),{nodes:[t]}));if(c){let a=s.name.value;i[a].type.kind!==iJ.Kind.NON_NULL_TYPE&&e.reportError(new iH.GraphQLError('Variable "'.concat(a,'" must be non-nullable to be used for OneOf Input Object "').concat(n.name,'".'),{nodes:[t]}))}}(e,n,a,i,t)},ObjectField(t){let n=rw(e.getParentInputType());if(!e.getInputType()&&rc(n)){let a=i5(t.name.value,Object.keys(n.getFields()));e.reportError(new iH.GraphQLError('Field "'.concat(t.name.value,'" is not defined by type "').concat(n.name,'".')+iX(a),{nodes:t}))}},NullValue(t){let n=e.getInputType();ru(n)&&e.reportError(new iH.GraphQLError('Expected value of type "'.concat((0,iW.inspect)(n),'", found ').concat((0,re.print)(t),"."),{nodes:t}))},EnumValue:t=>oV(e,t),IntValue:t=>oV(e,t),FloatValue:t=>oV(e,t),StringValue:t=>oV(e,t),BooleanValue:t=>oV(e,t)}},function(e){return{...oD(e),Field:{leave(t){var n;let a=e.getFieldDef();if(!a)return!1;let i=new Set(null==(n=t.arguments)?void 0:n.map(e=>e.name.value));for(let n of a.args)if(!i.has(n.name)&&rO(n)){let i=(0,iW.inspect)(n.type);e.reportError(new iH.GraphQLError('Field "'.concat(a.name,'" argument "').concat(n.name,'" of type "').concat(i,'" is required, but it was not provided.'),{nodes:t}))}}}}},function(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){for(let{node:c,type:d,defaultValue:u,parentType:p}of e.getRecursiveVariableUsages(n)){let n=c.name.value,h=t[n];if(h&&d){var a,i,r,o,s,l;let t=e.getSchema(),m=oc(t,h.type);if(m&&(i=t,r=m,o=h.defaultValue,s=d,l=u,ru(s)&&!ru(r)?!((null!=o&&o.kind!==iJ.Kind.NULL||void 0!==l)&&r9(i,r,s.ofType)):!r9(i,r,s))){let t=(0,iW.inspect)(m),a=(0,iW.inspect)(d);e.reportError(new iH.GraphQLError('Variable "$'.concat(n,'" of type "').concat(t,'" used in position expecting type "').concat(a,'".'),{nodes:[h,c]}))}rc(p)&&p.isOneOf&&ra(a=m)&&!ru(a)&&e.reportError(new iH.GraphQLError('Variable "$'.concat(n,'" is of type "').concat(m,'" but must be non-nullable to be used for OneOf Input Object "').concat(p,'".'),{nodes:[h,c]}))}}}},VariableDefinition(e){t[e.variable.name.value]=e}}},function(e){let t=new oO,n=new oA,a=new Map;return{SelectionSet(i){for(let[[r,o],s,l]of function(e,t,n,a,i,r){let o=[],[s,l]=o_(e,t,i,r);if(function(e,t,n,a,i,r){for(let[o,s]of Object.entries(r))if(s.length>1)for(let r=0;r<s.length;r++)for(let l=r+1;l<s.length;l++){let c=oT(e,n,a,i,!1,o,s[r],s[l]);c&&t.push(c)}}(e,o,t,n,a,s),0!==l.length)for(let i=0;i<l.length;i++){oS(e,o,t,n,a,!1,s,l[i]);for(let r=i+1;r<l.length;r++)oE(e,o,t,n,a,!1,l[i],l[r])}return o}(e,a,t,n,e.getParentType(),i)){let t=function e(t){return Array.isArray(t)?t.map(t=>{let[n,a]=t;return'subfields "'.concat(n,'" conflict because ')+e(a)}).join(" and "):t}(o);e.reportError(new iH.GraphQLError('Fields "'.concat(r,'" conflict because ').concat(t,". Use different aliases on the fields to fetch both if this was intentional."),{nodes:s.concat(l)}))}}}},oU,...Object.freeze([function(e){return{Field(t){if(("__schema"===t.name.value||"__type"===t.name.value)&&function t(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n.kind===iJ.Kind.FRAGMENT_SPREAD){let r=n.name.value;if(!0===a[r])return!1;let o=e.getFragment(r);if(!o)return!1;try{return a[r]=!0,t(o,a,i)}finally{a[r]=void 0}}if(n.kind===iJ.Kind.FIELD&&("fields"===n.name.value||"interfaces"===n.name.value||"possibleTypes"===n.name.value||"inputFields"===n.name.value)&&++i>=3)return!0;if("selectionSet"in n&&n.selectionSet){for(let e of n.selectionSet.selections)if(t(e,a,i))return!0}return!1}(t))return e.reportError(new iH.GraphQLError("Maximum introspection depth exceeded",{nodes:[t]})),!1}}}])]),Object.freeze([function(e){var t,n,a;let i=e.getSchema(),r=null!=(t=null!=(n=null!=(a=null==i?void 0:i.astNode)?a:null==i?void 0:i.getQueryType())?n:null==i?void 0:i.getMutationType())?t:null==i?void 0:i.getSubscriptionType(),o=0;return{SchemaDefinition(t){r?e.reportError(new iH.GraphQLError("Cannot define a new schema within a schema extension.",{nodes:t})):(o>0&&e.reportError(new iH.GraphQLError("Must provide only one schema definition.",{nodes:t})),++o)}}},function(e){let t=e.getSchema(),n=Object.create(null),a=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(t){var i;for(let r of null!=(i=t.operationTypes)?i:[]){let t=r.operation,i=n[t];a[t]?e.reportError(new iH.GraphQLError("Type for ".concat(t," already defined in the schema. It cannot be redefined."),{nodes:r})):i?e.reportError(new iH.GraphQLError("There can be only one ".concat(t," type in schema."),{nodes:[i,r]})):n[t]=r}return!1}},function(e){let t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:a,ObjectTypeDefinition:a,InterfaceTypeDefinition:a,UnionTypeDefinition:a,EnumTypeDefinition:a,InputObjectTypeDefinition:a};function a(a){let i=a.name.value;return null!=n&&n.getType(i)?void e.reportError(new iH.GraphQLError('Type "'.concat(i,'" already exists in the schema. It cannot also be defined in this type definition.'),{nodes:a.name})):(t[i]?e.reportError(new iH.GraphQLError('There can be only one type named "'.concat(i,'".'),{nodes:[t[i],a.name]})):t[i]=a.name,!1)}},function(e){let t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),a=Object.create(null);return{EnumTypeDefinition:i,EnumTypeExtension:i};function i(t){var i;let r=t.name.value;a[r]||(a[r]=Object.create(null));let o=null!=(i=t.values)?i:[],s=a[r];for(let t of o){let a=t.name.value,i=n[r];rl(i)&&i.getValue(a)?e.reportError(new iH.GraphQLError('Enum value "'.concat(r,".").concat(a,'" already exists in the schema. It cannot also be defined in this type extension.'),{nodes:t.name})):s[a]?e.reportError(new iH.GraphQLError('Enum value "'.concat(r,".").concat(a,'" can only be defined once.'),{nodes:[s[a],t.name]})):s[a]=t.name}return!1}},function(e){let t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),a=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(t){var i,r,o;let s=t.name.value;a[s]||(a[s]=Object.create(null));let l=null!=(i=t.fields)?i:[],c=a[s];for(let t of l){let a=t.name.value;(r=n[s],o=a,(rr(r)||ro(r)||rc(r))&&null!=r.getFields()[o])?e.reportError(new iH.GraphQLError('Field "'.concat(s,".").concat(a,'" already exists in the schema. It cannot also be defined in this type extension.'),{nodes:t.name})):c[a]?e.reportError(new iH.GraphQLError('Field "'.concat(s,".").concat(a,'" can only be defined once.'),{nodes:[c[a],t.name]})):c[a]=t.name}return!1}},function(e){return{DirectiveDefinition(e){var t;let a=null!=(t=e.arguments)?t:[];return n("@".concat(e.name.value),a)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(e){var t,a;let i=e.name.value;for(let r of null!=(t=e.fields)?t:[]){let e=r.name.value,t=null!=(a=r.arguments)?a:[];n("".concat(i,".").concat(e),t)}return!1}function n(t,n){for(let[a,i]of oF(n,e=>e.name.value))i.length>1&&e.reportError(new iH.GraphQLError('Argument "'.concat(t,"(").concat(a,':)" can only be defined once.'),{nodes:i.map(e=>e.name)}));return!1}},function(e){let t=Object.create(null),n=e.getSchema();return{DirectiveDefinition(a){let i=a.name.value;return null!=n&&n.getDirective(i)?void e.reportError(new iH.GraphQLError('Directive "@'.concat(i,'" already exists in the schema. It cannot be redefined.'),{nodes:a.name})):(t[i]?e.reportError(new iH.GraphQLError('There can be only one directive named "@'.concat(i,'".'),{nodes:[t[i],a.name]})):t[i]=a.name,!1)}}},oC,oN,oM,function(e){let t=e.getSchema(),n=Object.create(null);for(let t of e.getDocument().definitions)ob(t)&&(n[t.name.value]=t);return{ScalarTypeExtension:a,ObjectTypeExtension:a,InterfaceTypeExtension:a,UnionTypeExtension:a,EnumTypeExtension:a,InputObjectTypeExtension:a};function a(a){var i;let r,o=a.name.value,s=n[o],l=null==t?void 0:t.getType(o);if(s?r=oR[s.kind]:l&&(r=ri(i=l)?iJ.Kind.SCALAR_TYPE_EXTENSION:rr(i)?iJ.Kind.OBJECT_TYPE_EXTENSION:ro(i)?iJ.Kind.INTERFACE_TYPE_EXTENSION:rs(i)?iJ.Kind.UNION_TYPE_EXTENSION:rl(i)?iJ.Kind.ENUM_TYPE_EXTENSION:rc(i)?iJ.Kind.INPUT_OBJECT_TYPE_EXTENSION:void(0,iQ.invariant)(!1,"Unexpected type: "+(0,iW.inspect)(i))),r){if(r!==a.kind){let t=function(e){switch(e){case iJ.Kind.SCALAR_TYPE_EXTENSION:return"scalar";case iJ.Kind.OBJECT_TYPE_EXTENSION:return"object";case iJ.Kind.INTERFACE_TYPE_EXTENSION:return"interface";case iJ.Kind.UNION_TYPE_EXTENSION:return"union";case iJ.Kind.ENUM_TYPE_EXTENSION:return"enum";case iJ.Kind.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,iQ.invariant)(!1,"Unexpected kind: "+(0,iW.inspect)(e))}}(a.kind);e.reportError(new iH.GraphQLError("Cannot extend non-".concat(t,' type "').concat(o,'".'),{nodes:s?[s,a]:a}))}}else{let i=i5(o,Object.keys({...n,...null==t?void 0:t.getTypeMap()}));e.reportError(new iH.GraphQLError('Cannot extend type "'.concat(o,'" because it is not defined.')+iX(i),{nodes:a.name}))}}},ow,oB,oU,oD]);class oK{get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let t;if(this._fragments)t=this._fragments;else{for(let e of(t=Object.create(null),this.getDocument().definitions))e.kind===iJ.Kind.FRAGMENT_DEFINITION&&(t[e.name.value]=e);this._fragments=t}return t[e]}getFragmentSpreads(e){let t=this._fragmentSpreads.get(e);if(!t){let n;t=[];let a=[e];for(;n=a.pop();)for(let e of n.selections)e.kind===iJ.Kind.FRAGMENT_SPREAD?t.push(e):e.selectionSet&&a.push(e.selectionSet);this._fragmentSpreads.set(e,t)}return t}getRecursivelyReferencedFragments(e){let t=this._recursivelyReferencedFragments.get(e);if(!t){let n;t=[];let a=Object.create(null),i=[e.selectionSet];for(;n=i.pop();)for(let e of this.getFragmentSpreads(n)){let n=e.name.value;if(!0!==a[n]){a[n]=!0;let e=this.getFragment(n);e&&(t.push(e),i.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t}constructor(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}}Symbol.toStringTag;var oG=e.i(394426),oW=e.i(716005);oW.ApolloLink;var oQ=oW,oq=oW,oz=e.i(363461);class oH extends oq.ApolloLink{constructor(e={}){super((t,n)=>{let a=t.client,i=a.queryManager.clientOptions,r=t.getContext();{let{name:n,version:a,transport:o="headers"}=(0,oz.compact)({},i.clientAwareness,e.clientAwareness,r.clientAwareness);"headers"===o&&t.setContext(e=>{let{headers:t,extensions:i}=e;return{headers:(0,oz.compact)({"apollographql-client-name":n,"apollographql-client-version":a},t)}})}{let{transport:n="extensions"}=(0,oz.compact)({},i.enhancedClientAwareness,e.enhancedClientAwareness);"extensions"===n&&(t.extensions=(0,oz.compact)({clientLibrary:{name:"@apollo/client",version:a.version}},t.extensions))}return n(t)})}}var oY=e.i(254201),oJ=oW,oX=e.i(96623),o$=oW;class oZ{enqueueRequest(e){let t={...e,next:[],error:[],complete:[],subscribers:new Set},n=this.batchKey(e.operation);return t.observable||(t.observable=new oG.Observable(e=>{let a=this.batchesByKey.get(n);a||this.batchesByKey.set(n,a=new Set);let i=0===a.size,r=0===t.subscribers.size;return t.subscribers.add(e),r&&a.add(t),e.next&&t.next.push(e.next.bind(e)),e.error&&t.error.push(e.error.bind(e)),e.complete&&t.complete.push(e.complete.bind(e)),(i||this.batchDebounce)&&this.scheduleQueueConsumption(n),a.size===this.batchMax&&this.consumeQueue(n),()=>{if(t.subscribers.delete(e)&&t.subscribers.size<1&&a.delete(t)&&a.size<1){var i;this.consumeQueue(n),null==(i=a.subscription)||i.unsubscribe()}}})),t.observable}consumeQueue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.batchesByKey.get(e);if(this.batchesByKey.delete(e),!t||!t.size)return;let n=[],a=[],i=[],r=[],o=[],s=[];t.forEach(e=>{n.push(e.operation),a.push(e.forward),i.push(e.observable),r.push(e.next),o.push(e.error),s.push(e.complete)});let l=this.batchHandler(n,a),c=e=>{o.forEach(t=>{t&&t.forEach(t=>t(e))})};return t.subscription=l.subscribe({next:e=>{if(Array.isArray(e)||(e=[e]),r.length!==e.length){let t=Error("server returned results with length ".concat(e.length,", expected length of ").concat(r.length));return t.result=e,c(t)}e.forEach((e,t)=>{r[t]&&r[t].forEach(t=>t(e))})},error:c,complete:()=>{s.forEach(e=>{e&&e.forEach(e=>e())})}}),i}scheduleQueueConsumption(e){clearTimeout(this.scheduledBatchTimerByKey.get(e)),this.scheduledBatchTimerByKey.set(e,setTimeout(()=>{this.consumeQueue(e),this.scheduledBatchTimerByKey.delete(e)},this.batchInterval))}constructor({batchDebounce:e,batchInterval:t,batchMax:n,batchHandler:a,batchKey:i}){(0,il._)(this,"batchesByKey",new Map),(0,il._)(this,"scheduledBatchTimerByKey",new Map),(0,il._)(this,"batchDebounce",void 0),(0,il._)(this,"batchInterval",void 0),(0,il._)(this,"batchMax",void 0),(0,il._)(this,"batchHandler",void 0),(0,il._)(this,"batchKey",void 0),this.batchDebounce=e,this.batchInterval=t,this.batchMax=n||0,this.batchHandler=a,this.batchKey=i||(()=>"")}}class o0 extends o$.ApolloLink{request(e,t){return this.batcher.enqueueRequest({operation:e,forward:t})}constructor(e){super(),(0,il._)(this,"batcher",void 0);const{batchDebounce:t,batchInterval:n=10,batchMax:a=0,batchHandler:i=()=>oX.EMPTY,batchKey:r=()=>""}=e||{};this.batcher=new oZ({batchDebounce:t,batchInterval:n,batchMax:a,batchHandler:i,batchKey:r})}}var o1=e.i(310614),o2=e.i(287084);let o4={http:{includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},headers:{accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},options:{method:"POST"}},o3=(e,t)=>t(e);e.i(63936);var o6=e.i(394002),o5=e.i(84874);class o8 extends Error{static is(e){return(0,o5.isBranded)(e,"ServerError")}constructor(e,t){super(e),(0,il._)(this,"response",void 0),(0,il._)(this,"statusCode",void 0),(0,il._)(this,"bodyText",void 0),this.name="ServerError",this.response=t.response,this.statusCode=t.response.status,this.bodyText=t.bodyText,(0,o5.brand)(this),Object.setPrototypeOf(this,o8.prototype)}}class o7 extends Error{static is(e){return(0,o5.isBranded)(e,"ServerParseError")}constructor(e,t){super(e instanceof Error?e.message:"Could not parse server response",{cause:e}),(0,il._)(this,"response",void 0),(0,il._)(this,"statusCode",void 0),(0,il._)(this,"bodyText",void 0),this.name="ServerParseError",this.response=t.response,this.statusCode=t.response.status,this.bodyText=t.bodyText,(0,o5.brand)(this),Object.setPrototypeOf(this,o7.prototype)}}e.i(939296);let{hasOwnProperty:o9}=Object.prototype,se=(e,t)=>{let n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")};var st=e.i(785),sn=e.i(533697);let sa=(0,sn.maybe)(()=>fetch);class si extends oJ.ApolloLink{request(e,t){return this.batcher.request(e,t)}constructor(e={}){super(),(0,il._)(this,"batchDebounce",void 0),(0,il._)(this,"batchInterval",void 0),(0,il._)(this,"batchMax",void 0),(0,il._)(this,"batcher",void 0);let{uri:t="/graphql",fetch:n,print:a=o3,includeExtensions:i,preserveHeaderCase:r,batchInterval:o,batchDebounce:s,batchMax:l,batchKey:c,includeUnusedVariables:d=!1,...u}=e;st.__DEV__&&(0,o1.invariant)(n||sa||"undefined"!=typeof fetch,59);const p={http:(0,oz.compact)({includeExtensions:i,preserveHeaderCase:r}),options:u.fetchOptions,credentials:u.credentials,headers:u.headers};this.batchDebounce=s,this.batchInterval=o||10,this.batchMax=l||10,c=c||(e=>{let n=e.getContext(),a={http:n.http,options:n.fetchOptions,credentials:n.credentials,headers:n.headers};return se(e,t)+JSON.stringify(a)}),this.batcher=new o0({batchDebounce:this.batchDebounce,batchInterval:this.batchInterval,batchMax:this.batchMax,batchKey:c,batchHandler:e=>{let i,r=se(e[0],t),o=e[0].getContext(),s={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:o.headers},l=e.map(e=>{var t,n;let i,r,o=function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];let r={},o={};a.forEach(e=>{var t;r={...r,...e.options,headers:{...r.headers,...e.headers}},e.credentials&&(r.credentials=e.credentials),r.headers.accept=((null==(t=e.http)?void 0:t.accept)||[]).concat(r.headers.accept).join(","),o={...o,...e.http}}),r.headers=function(e,t){if(!t){let t={};return Object.keys(Object(e)).forEach(n=>{t[n.toLowerCase()]=e[n]}),t}let n={};Object.keys(Object(e)).forEach(t=>{n[t.toLowerCase()]={originalName:t,value:e[t]}});let a={};return Object.keys(n).forEach(e=>{a[n[e].originalName]=n[e].value}),a}(r.headers,o.preserveHeaderCase);let{operationName:s,extensions:l,variables:c,query:d}=e,u={operationName:s,variables:c};return o.includeExtensions&&Object.keys(l||{}).length&&(u.extensions=l),o.includeQuery&&(u.query=t(d,o2.print)),{options:r,body:u}}(e,a,o4,p,s);return o.body.variables&&!d&&(o.body.variables=(t=o.body.variables,n=e.query,i={...t},r=new Set(Object.keys(t)),(0,og.visit)(n,{Variable(e,t,n){n&&"VariableDefinition"!==n.kind&&r.delete(e.name.value)}}),r.forEach(e=>{delete i[e]}),i)),o}),c=l.map(e=>{let{body:t}=e;return t}),u=l[0].options;if("GET"===u.method)return(0,oY.throwError)(()=>Error("apollo-link-batch-http does not support GET requests"));try{u.body=JSON.stringify(c)}catch(e){return(0,oY.throwError)(()=>e)}return u.signal||"undefined"==typeof AbortController||(u.signal=(i=new AbortController).signal),new oG.Observable(t=>((n||(0,sn.maybe)(()=>fetch)||sa)(r,u).then(t=>(e.forEach(e=>e.setContext({response:t})),t)).then(t=>t.text().then(n=>{let a=function(e,t){let n=e.headers.get("content-type");if(null==n?void 0:n.includes("application/graphql-response+json"))try{return JSON.parse(t)}catch(n){throw new o7(n,{response:e,bodyText:t})}if(e.status>=300)throw new o8("Response not successful: Received status code ".concat(e.status),{response:e,bodyText:t});try{return JSON.parse(t)}catch(n){throw new o7(n,{response:e,bodyText:t})}}(t,n);if(!Array.isArray(a)&&!o9.call(a,"data")&&!o9.call(a,"errors"))throw new o8("Server response was malformed for query '".concat(Array.isArray(e)?e.map(e=>e.operationName):e.operationName,"'."),{response:t,bodyText:n});return a})).then(e=>(i=void 0,t.next(e),t.complete(),e)).catch(e=>{i=void 0,t.error(e)}),()=>{i&&i.abort()}))}})}}class sr extends oQ.ApolloLink{constructor(e={}){const{left:t,right:n,request:a}=oQ.ApolloLink.from([new oH(e),new si(e)]);super(a),Object.assign(this,{left:t,right:n})}}var so=e.i(876023),ss=oW;class sl extends ss.ApolloLink{constructor(e){super((t,n)=>new oG.Observable(a=>{let i,r,o;try{i=n(t).subscribe({next:i=>{let s=t.client.queryManager.incrementalHandler,l=s.isIncrementalResult(i)?s.extractErrors(i):i.errors;l?o=e({error:new so.CombinedGraphQLErrors(i,l),result:i,operation:t,forward:n}):(0,o6.graphQLResultHasProtocolErrors)(i)&&(o=e({error:i.extensions[o6.PROTOCOL_ERRORS_SYMBOL],result:i,operation:t,forward:n})),(r=null==o?void 0:o.subscribe(a))||a.next(i)},error:i=>{(r=null==(o=e({operation:t,error:(0,o6.toErrorLike)(i),forward:n}))?void 0:o.subscribe(a))||a.error(i)},complete:()=>{o||a.complete()}})}catch(i){e({error:(0,o6.toErrorLike)(i),operation:t,forward:n}),a.error(i)}return()=>{i&&i.unsubscribe(),r&&r.unsubscribe()}}))}}let sc=new oW.ApolloLink((e,t)=>{if(!em.isServer){let t=new URL(window.location.href),n={"request-origin-path":t.pathname+t.search,"x-apollo-operation-name":e.operationName};e.setContext({headers:n})}return t(e)});var sd=oW,su=e.i(204359),sp=e.i(702807),sh=e.i(276968),sm=e.i(149402),sf=e.i(964968),sg=e.i(245281),sy=e.i(869981),sv=e.i(431888),sb=e.i(927490),sx=e.i(418247);let sw=e=>{let{client:t,children:n}=e,a=(0,sx.getApolloContext)(),i=d.useContext(a),r=d.useMemo(()=>({...i,client:t||i.client}),[i,t]);return(0,o1.invariant)(r.client,38),d.createElement(a.Provider,{value:r},n)};e.i(899074),e.i(102134),e.i(911603),e.i(418895);var sN=e.i(895426),sC=e.i(992773);sd.ApolloLink,sd.ApolloLink,sd.ApolloLink;var sk={pkg:"@apollo/client-react-streaming"},sS=Symbol.for("apollo.source_package"),sE=(r=class extends su.InMemoryCache{constructor(e){super(e),(0,il._)(this,sS,void 0);const t=this.constructor.info;this[sS]="".concat(t.pkg,":InMemoryCache")}},(0,il._)(r,"info",sk),r),sI=(0,d.createContext)(null),sT={},sj=Symbol.for("apollo.tee.readableStreamController"),s_=Symbol.for("apollo.read.readableStream");function sL(e,t){return Object.assign(t,{[s_]:e})}var sO=class extends sd.ApolloLink{constructor(){super((e,t)=>{let n=e.getContext()[sj];if(n){let a=n(),i=()=>{try{a.close()}catch{}};return new oG.Observable(n=>{let r=t(e).subscribe({next(e){a.enqueue({type:"next",value:e}),n.next(e)},error(e){a.enqueue({type:"error"}),i(),n.error(e)},complete(){a.enqueue({type:"completed"}),i(),n.complete()}});return()=>{i(),r.unsubscribe()}})}return t(e)})}},sA=class extends sd.ApolloLink{constructor(){super((e,t)=>{let n=e.getContext()[s_];return n?new oG.Observable(a=>{let i=!1,r=(()=>{try{return n.getReader()}catch{}})();if(!r){let n=t(e).subscribe(a);return()=>n.unsubscribe()}s(r);let o=()=>{i=!0,r.cancel()};return()=>o();async function s(n){let r;for(;!i&&!(null==r?void 0:r.done)&&(r=await n.read(),!i);)if(r.value)switch(r.value.type){case"next":a.next(r.value.value);break;case"completed":a.complete();break;case"error":{o();let n=t(e).subscribe(a);o=()=>n.unsubscribe()}}}}):t(e)})}};function sR(e){return{...e,query:(0,sp.gql)((0,o2.print)((0,sp.gql)(e.query)))}}var sD=new WeakMap;function sP(e){var t;let n,a,i=(0,eo.useApolloClient)();(a=!!(e&&e.$__apollo_queryRef))&&(!function(e,t){let{$__apollo_queryRef:{options:n,stream:a,queryKey:i}}=e;if(!sD.has(e)){let r=sR(n),o=[r.query,(0,sN.canonicalStringify)(r.variables),i];sD.set(e,{cacheKey:o});let s=(0,sv.getSuspenseCache)(t).getQueryRef(o,()=>t.watchQuery({...r,fetchPolicy:"network-only",context:sQ(sL(a.pipeThrough(new sC.JSONDecodeStream),{...r.context,queryDeduplication:!0}))}));Object.assign(e,(0,sb.wrapQueryRef)(s))}}(e,i),n=null==(t=sD.get(e))?void 0:t.cacheKey);let r=(0,sb.unwrapQueryRef)(e);return(0,d.useEffect)(()=>{a&&n&&r.disposed&&(0,sv.getSuspenseCache)(i).add(n,r)}),(0,d.useEffect)(()=>{if(a)return r.softRetain()},[a,r]),e}var sF={useFragment:e=>sB(e,["data","complete","missing"]),useQuery:e=>sB(e,["data","loading","networkStatus"]),useSuspenseQuery:e=>sB(e,["data","networkStatus"]),useReadQuery:e=>sB(t=>e(sP(t)),["data","networkStatus"]),useQueryRefHandlers:e=>sB(t=>e(sP(t)),[]),useSuspenseFragment:e=>sB(e,["data"])};function sB(e,t){return function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];let r=e(...a);if(0==t.length)return r;let o=function(e){let t=(0,d.useContext)(sI);if(!t)throw Error("useTransportValue must be used within a streaming-specific ApolloProvider");let n=t.useStaticValueRef(e),a=(0,d.useSyncExternalStore)(()=>()=>{},()=>0,()=>n.current===sT?0:+!(0,sy.equal)(e,n.current));return 0===a&&(n.current=sT),1===a?n.current:e}((0,d.useMemo)(()=>{let e={};for(let n of t)e[n]=r[n];return e},[r]));return(0,d.useMemo)(()=>({...r,...o}),[r,o])}}function sM(e,t,n){if(e[sS]!=="".concat(t.pkg,":").concat(n))throw Error("When using `".concat(n,"` in streaming SSR, you must use the `").concat(n,'` export provided by `"').concat(t.pkg,'"`.'))}function sU(e){return e.queryManager}var sV=Symbol.for("apollo.hook.wrappers"),sK=(o=class extends sh.ApolloClient{setLink(e){super.setLink.call(this,sd.ApolloLink.from([new sA,new sO,e]))}constructor(e){const t=[];"ssrMode"in e&&(delete e.ssrMode,t.push("The `ssrMode` option is not supported in %s. Please remove it from your %s constructor options.")),"ssrForceFetchDelay"in e&&(delete e.ssrForceFetchDelay,t.push("The `ssrForceFetchDelay` option is not supported in %s. Please remove it from your %s constructor options.")),super(e),(0,il._)(this,sS,void 0);const n=this.constructor.info;for(const e of(this[sS]="".concat(n.pkg,":ApolloClient"),t))console.warn(e,n.pkg,"ApolloClient");sM(this.cache,n,"InMemoryCache"),this.setLink(this.link)}},(0,il._)(o,"info",sk),o),sG=class extends sK{onQueryStarted(e){let t,n,{options:a,id:i}=e,r=sR(a),[o,s]=(n=new ReadableStream({start(e){t=e}}),[t,n]),l=sU(this);l.fetchQuery({...r,query:l.transform(r.query),fetchPolicy:"network-only",context:sQ(sL(s,{...r.context,queryDeduplication:!0}))}),this.simulatedStreamingQueries.set(i,{controller:o,options:r})}constructor(e){super(e),(0,il._)(this,"simulatedStreamingQueries",new Map),(0,il._)(this,"onQueryProgress",e=>{let t=this.simulatedStreamingQueries.get(e.id);t&&("error"===e.type||"next"===e.type&&e.value.errors?(this.simulatedStreamingQueries.delete(e.id),o1.invariant.debug("Query failed on server, rerunning in browser:",t.options),this.rerunSimulatedQuery(t)):"completed"===e.type?(this.simulatedStreamingQueries.delete(e.id),t.controller.enqueue(e)):"next"===e.type&&t.controller.enqueue(e))}),(0,il._)(this,"rerunSimulatedQueries",()=>{for(let[e,t]of this.simulatedStreamingQueries)this.simulatedStreamingQueries.delete(e),o1.invariant.debug("streaming connection closed before server query could be fully transported, rerunning:",t.options),this.rerunSimulatedQuery(t)}),(0,il._)(this,"rerunSimulatedQuery",e=>{var t;let n=sU(this);n.fetchQuery({...e.options,fetchPolicy:"no-cache",query:n.transform(e.options.query),context:sQ((t=()=>e.controller,Object.assign({...e.options.context,queryDeduplication:!1},{[sj]:t})))})}),this.onQueryStarted=this.onQueryStarted.bind(this),sU(this)[sV]=sF}},sW=Symbol.for("apollo.dataTransport.skip");function sQ(e){return Object.assign(e,{[sW]:!0})}var sq=class extends sG{},sz=class extends sq{},sH=Symbol.for("ApolloClientSingleton");function sY(e){let t=n=>{var a,i,r;let{makeClient:o,children:s,...l}=n,c=(0,d.useRef)(void 0);return c.current||(c.current=null!=(r=(i=window)[sH])?r:i[sH]=o(),sM(c.current,t.info,"ApolloClient")),d.default.createElement(sw,{client:c.current},d.default.createElement(e,{onQueryEvent:e=>"started"===e.type?c.current.onQueryStarted(e):c.current.onQueryProgress(e),rerunSimulatedQueries:c.current.rerunSimulatedQueries,registerDispatchRequestStarted:null==(a=c.current.watchQueryQueue)?void 0:a.register,...l},s))};return t.info=sk,t}var sJ=Symbol.for("ApolloSSRDataTransport"),sX=Symbol.for("apollo.hookRehydrationCache");function s$(e){return e}var sZ={},s0=e=>{let{reviveFromStream:t=s$}=e;return function(e){var n,a;let{children:i,onQueryEvent:r,rerunSimulatedQueries:o}=e,s=(0,d.useRef)(null!=(a=(n=window)[sX])?a:n[sX]={});!function(e){var t;let n,{onQueryEvent:a,onRehydrate:i,revive:r}=e;t=e=>{let t=r(e);for(let e of(o1.invariant.debug("received data from the server:",t),i(t.rehydrate),t.events))a(e)},Array.isArray(n=window[sJ]||[])&&(window[sJ]={push:function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];for(let e of n)t(e)}},window[sJ].push(...n))}({onQueryEvent:r,onRehydrate(e){Object.assign(s.current,e)},revive:t}),(0,d.useEffect)(()=>{if("complete"!==document.readyState)return window.addEventListener("load",o,{once:!0}),()=>window.removeEventListener("load",o);o()},[o]);let l=(0,d.useCallback)(function(e){let t=(0,d.useId)(),n=s.current,a=(0,d.useRef)(sZ);return a.current===sZ&&(n&&t in n?(a.current=n[t],delete n[t]):a.current=e),a},[]);return d.default.createElement(sI.Provider,{value:(0,d.useMemo)(()=>({useStaticValueRef:l}),[l])},i)}},s1={pkg:"@apollo/client-integration-nextjs",client:"ApolloClient",cache:"InMemoryCache"},s2=(s=class extends sz{},(0,il._)(s,"info",s1),s),s4=(l=class extends sE{},(0,il._)(l,"info",s1),l);sY(s0({useInsertHtml(){let e=(0,d.useContext)(A.ServerInsertedHTMLContext);return e||(()=>{})}})).info=s1;var s3=e.i(973327);let s6="$placeholder.undefined$",s5=JSON.stringify(s6);function s8(e){let t=0,n=JSON.stringify(e,(e,n)=>void 0===n?(t++,s6):n);if(!t)return n;let a=n.replaceAll(s5,"undefined");if(a.length===n.length+t*(9-s5.length))return a;let i="$apollo.undefined$",r=JSON.stringify(e);for(;r.includes(JSON.stringify(i));)i="$apollo.undefined.".concat(Math.random());return JSON.stringify(e,(e,t)=>void 0===t?i:t).replaceAll(JSON.stringify(i),"undefined")}let s7=sY(s0({useInsertHtml(){let e=(0,d.useContext)(A.ServerInsertedHTMLContext);if(!e){if("browser"===nv.default.env.REACT_ENV)return()=>{};throw Error('The SSR build of ApolloNextAppProvider cannot be used outside of the Next App Router!\nIf you encounter this in a test, make sure that your tests are using the browser build by adding the "browser" import condition to your test setup.')}return e},stringifyForStream(e){if(!("object"==typeof e&&null!==e&&"rehydrate"in e&&"events"in e&&Array.isArray(e.events)))return s8(e);let{rehydrate:t,events:n}=e,a=n.filter(e=>"next"===e.type).map(e=>[e.id,e.value.data]).filter(e=>!!e[1]),i=(0,s3.default)(a,e=>{let[t,n]=e;return s8(n)}),r=Object.values(t).map(e=>e.data).filter(e=>!!e).map(e=>{let t=s8(e),n=i[t];return{stringifiedData:t,transportIdDataTuple:n}}).filter(e=>{let{transportIdDataTuple:t}=e;return!!t});if(0===r.length)return s8(e);let o=Object.fromEntries(r.map(e=>e.transportIdDataTuple)),s="const sharedValueMap = ".concat(s8(o),";"),l=s8(t),c=s8(n);for(let e of r)l=l.replaceAll(e.stringifiedData,"sharedValueMap['".concat(e.transportIdDataTuple[0],"']")),c=c.replaceAll(e.stringifiedData,"sharedValueMap['".concat(e.transportIdDataTuple[0],"']"));let d="const rehydrate = ".concat(l,";"),u="const events = ".concat(c,";");return"(function(){".concat(s,"\n").concat(d,"\n").concat(u,"\nreturn {rehydrate,events}})()")}}));async function s9(t){let{loginToken:n,searchParams:a}=t;if(!em.isServer)throw Error("Not server");let{cookies:i,headers:r}=await e.A(388554),{getApolloClientForSSR:o}=await e.A(908592),[s,l]=await Promise.all([i(),r()]);return await o({loginToken:n,cookies:s,headers:l,searchParams:a})}function le(e){let{loginToken:t,searchParams:n,children:a}=e;if(em.isServer){let e=(0,d.use)(s9({loginToken:t,searchParams:n})),i=(0,d.useCallback)(()=>e,[e]);return(0,c.jsx)(s7,{makeClient:i,children:a})}{let e=(0,d.useCallback)(()=>(function(e){var t;let n,a,i,{loginToken:r}=e;if(em.isServer)throw Error("Not client");let o=new s2({cache:new s4,link:oW.ApolloLink.from([sc,new sl(e=>{let{error:t}=e}),(t=em.isServer?(0,nF.getSiteUrl)():"/",n=t+"graphql",a="/"===t||t===(0,nF.getSiteUrl)(),i=em.isServer?(e,t)=>globalThis.fetch(e,{...t,headers:{...null==t?void 0:t.headers,"User-Agent":"ForumMagnum/2.1",...r?{loginToken:r}:{}}}):globalThis.fetch,new sr({uri:n,credentials:a?"same-origin":"omit",batchMax:em.isServer?1:K.graphqlBatchMaxSetting.get(),fetch:i,batchKey:e=>{let t=e.getContext(),a={http:t.http,options:t.fetchOptions,credentials:t.credentials},i=se(e,n)+JSON.stringify(a),r=t.batchKey;return r&&"string"==typeof r?i:i+r}}))])});return o.prioritizeCacheValues=!0,setTimeout(()=>{o.prioritizeCacheValues=!1},3e3),o})({loginToken:t}),[t]);return(0,c.jsx)(s7,{makeClient:e,children:a})}}s7.info={pkg:"@apollo/client-integration-nextjs",client:"ApolloClient",cache:"InMemoryCache"},(0,sp.disableFragmentWarnings)();var lt=e.i(413540);tH.default.updateLocale("en",{relativeTime:{future:"%s",past:"%s",s:"now",ss:"%ds",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),window.t3aAnalytics=(e,t)=>{(0,P.captureEvent)("type3.".concat(e),t)},e.i(4170);let ln=!1;em.isClient&&function(){if(!ln){let e;ln=!0,document.cookie.split("; ").find(e=>e.startsWith(ah.CLIENT_ID_COOKIE))||(document.cookie="".concat(ah.CLIENT_ID_COOKIE,"=").concat((0,aR.randomId)(),"; path=/; max-age=315360000")),window.tabId||(window.tabId=(0,aR.randomId)()),(e=K.googleTagManagerIdSetting.get())&&function(e,t,n,a,i){if(e[a]=e[a]||[],null==(o=e[a])||null==(r=o[0])?void 0:r["gtm.start"])return console.warn("googleTagManagerInit has already run, aborting");e[a].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var r,o,s=t.getElementsByTagName(n)[0],l=t.createElement(n);l.async=!0,l.src="https://www.googletagmanager.com/gtm.js?id="+i,s.parentNode.insertBefore(l,s)}(window,document,"script","dataLayer",e),(0,lt.initReCaptcha)()}}();let la=e=>{let{children:t}=e,n=(0,d.useRef)(null),a=(0,d.useRef)(null),i=(0,A.useRouter)(),r=(0,d.useRef)({history:i}),o=(0,A.useSearchParams)(),s=o.toString(),l={};[...o.entries()].reduce((e,t)=>{let[n,a]=t;return e[n]?Array.isArray(e[n])?e[n].push(a):e[n]=[e[n],a]:e[n]=a,e},l);let u=(0,A.usePathname)(),p=function(){let[e,t]=(0,d.useState)(""),n=(0,A.useParams)();return(0,d.useEffect)(()=>{t(window.location.hash)},[n]),e}(),h="".concat(u).concat(s?"?".concat(s):"").concat(p||""),m=(0,v.parsePath)(h),f={hash:p,params:(0,A.useParams)(),pathname:u,query:l,url:h,location:m};return n.current?Object.assign(n.current,f):n.current={...f},r.current?r.current.history=i:r.current={history:i},a.current&&a.current.pathname===f.pathname&&JSON.stringify(a.current.query)===JSON.stringify(f.query)&&a.current.hash===f.hash?Object.assign(a.current,f):a.current={...f},(0,c.jsx)(y.LocationContext.Provider,{value:n.current,children:(0,c.jsx)(y.NavigationContext.Provider,{value:r.current,children:(0,c.jsx)(y.SubscribeLocationContext.Provider,{value:a.current,children:t})})})};e.s(["EnvironmentOverrideContextProvider",0,e=>{let{ssrMetadata:t,children:n}=e,[a,i]=(0,d.useState)(t?{...t,matchSSR:!0}:{matchSSR:!1}),[r,o]=(0,d.useTransition)();return(0,d.useEffect)(()=>{!1!==a.matchSSR&&o(()=>{i({matchSSR:!1})})},[a.matchSSR]),(0,c.jsx)(f.EnvironmentOverrideContext.Provider,{value:a,children:n})},"default",0,t=>{let{abTestGroupsUsed:n,children:a}=t,i=(()=>{if(em.isServer){let{cookies:t}=(0,d.use)(e.A(388554)),n=(0,d.use)(t()).getAll();return new u.default(Object.fromEntries(n.map(e=>[e.name,e.value])))}{let e=document.cookie;return e.split(";").map(e=>{let[t,n]=e.split("=");return{name:t,value:n}}),new u.default(e)}})(),r=(0,A.useSearchParams)(),o=i.get("loginToken");return(0,c.jsx)(tF.EnableSuspenseContext.Provider,{value:em.isServer,children:(0,c.jsx)(le,{loginToken:null!=o?o:null,searchParams:Object.fromEntries(r.entries()),children:(0,c.jsx)(h,{cookies:i,children:(0,c.jsx)(O.UserContextProvider,{children:(0,c.jsx)(g.ThemeContextProvider,{children:(0,c.jsx)(m.ABTestGroupsUsedContext.Provider,{value:n,children:(0,c.jsx)(iK.HelmetProvider,{children:(0,c.jsx)(la,{children:(0,c.jsx)(_,{children:(0,c.jsx)(iV,{children:a})})})})})})})})})})}],74329)},907450,e=>{"use strict";var t=e.i(89458),n=e.i(695062);e.s(["default",0,e=>{let{clientIdNewCookieExists:a,clientIdInvalidated:i}=e;return(0,n.useEffectOnce)(()=>{(0,t.backgroundTask)((async()=>{if(a||i){let e=window.location.href,t=document.referrer;await fetch("/api/registerClientId",{method:"POST",body:JSON.stringify({landingPage:e,referrer:t})})}})())}),null}])},230572,e=>{"use strict";var t=e.i(843476),n=e.i(271645),a=e.i(467536),i=e.i(11954);let r=["https://use.typekit.net/jvr1gjm.css","https://use.typekit.net/tqv5rhd.css"];var o=e.i(552275);let s=()=>{let{public:e}=(0,i.getInstanceSettings)();return(0,t.jsxs)(t.Fragment,{children:[r.map(e=>(0,t.jsx)("link",{rel:"stylesheet",type:"text/css",href:e},e)),(0,t.jsx)("script",{dangerouslySetInnerHTML:{__html:"window.publicInstanceSettings = ".concat((0,a.toEmbeddableJson)(e))}}),(0,t.jsx)("script",{dangerouslySetInnerHTML:{__html:"_embedStyles=function(name,priority,css) {\n    const styleNode = document.createElement(\"style\");\n    styleNode.append(document.createTextNode(css));\n    styleNode.setAttribute(\"data-name\", name);\n    styleNode.setAttribute(\"data-priority\", priority);\n\n    const startNode = document.getElementById('jss-insertion-start');\n    const endNode = document.getElementById('jss-insertion-end');\n  \n    if (!startNode || !endNode) {\n      throw new Error('Insertion point markers not found');\n    }\n  \n    styleNode.setAttribute('data-priority', priority.toString());\n    styleNode.setAttribute('data-name', name);\n    if (!window.serverInsertedStyleNodes) {\n      window.serverInsertedStyleNodes = [];\n    }\n    window.serverInsertedStyleNodes.push(styleNode);\n  \n    const styleNodes = Array.from(document.querySelectorAll('style[data-priority]'));\n    let left = 0;\n    let right = styleNodes.length - 1;\n  \n    while (left <= right) {\n      const mid = Math.floor((left + right) / 2);\n      const midNode = styleNodes[mid];\n      const midPriority = parseInt(midNode.getAttribute('data-priority') || '0', 10);\n      const midName = midNode.getAttribute('data-name') || '';\n    \n      if (midPriority < priority || (midPriority === priority && midName < name)) {\n        left = mid + 1;\n      } else if (midPriority > priority || (midPriority === priority && midName > name)) {\n        right = mid - 1;\n      } else {\n        // Equal priority and name, insert after this node\n        midNode.insertAdjacentElement('afterend', styleNode);\n        return;\n      }\n    }\n  \n    // If we didn't find an exact match, insert at the position determined by 'left'\n    if (left === styleNodes.length) {\n      // Insert before the end marker\n      endNode.insertAdjacentElement('beforebegin', styleNode);\n    } else if (left === 0) {\n      // Insert after the start marker\n      startNode.insertAdjacentElement('afterend', styleNode);\n    } else {\n      // Insert before the node at the 'left' index\n      styleNodes[left].insertAdjacentElement('beforebegin', styleNode);\n    }\n  }"}}),(0,t.jsx)("meta",{httpEquiv:"delegate-ch",content:"sec-ch-dpr https://res.cloudinary.com;"}),(0,t.jsx)("meta",{httpEquiv:"Accept-CH",content:"DPR, Viewport-Width, Width"}),(0,t.jsx)("script",{id:"jss-insertion-start"}),(0,t.jsx)("script",{id:"jss-insertion-end"}),(0,t.jsx)("link",{rel:"icon",href:o.faviconUrlSetting.get()})]})};e.s(["SharedScripts",0,()=>(0,n.useMemo)(()=>(0,t.jsx)(s,{}),[])],230572)},930694,e=>{"use strict";var t=e.i(843476),n=e.i(343794),a=e.i(152100),i=e.i(119902),r=e.i(714818);function o(e){let{children:o}=e,s=(0,a.usePrerenderablePathname)(),l=(0,i.routeHasWhiteBackground)(s),c=r.isClient&&function(){let e="default";try{let t=(e=>{let t=document.cookie.split(";").filter(t=>t.trim().startsWith(e+"="))[0];if(t)return decodeURIComponent(t.split("=")[1])})("theme");e=t?JSON.parse(t).name:"default"}catch(e){console.error("Error seting theme from cookie: ".concat(e))}return"theme-"+e}();return(0,t.jsxs)("body",{suppressHydrationWarning:!0,className:(0,n.default)(l&&"whiteBackground",!l&&"greyBackground",c),children:[(0,t.jsx)("script",{children:'\n(function _addThemeClass() {\n  let themeName="default";\n  try {\n    const getCookie = (name) => {\n      const cookie = document.cookie.split(\';\').filter(c=>c.trim().startsWith(name+"="))[0];\n      console.log(cookie);\n      if (cookie) {\n        return decodeURIComponent(cookie.split("=")[1]);\n      }\n    }\n    const themeOptions = getCookie("theme")\n    themeName = themeOptions ? JSON.parse(themeOptions).name : "default";\n  } catch {\n  }\n  document.body.classList.add("theme-"+themeName);\n})()'}),o,(0,t.jsx)("div",{style:{opacity:.001,position:"absolute",top:0,left:0},children:"x"})]})}e.s(["BodyWithBackgroundColor",()=>o])},448078,e=>{"use strict";var t=e.i(271645),n=e.i(152100),a=e.i(119902);function i(){let e=(0,n.usePrerenderablePathname)(),i=(0,a.routeHasWhiteBackground)(e);return(0,t.useEffect)(()=>{document.body.classList.contains("whiteBackground")!==i&&(i?(document.body.classList.add("whiteBackground"),document.body.classList.remove("greyBackground")):(document.body.classList.remove("whiteBackground"),document.body.classList.add("greyBackground")))},[i]),null}e.s(["PageBackgroundColorSwitcher",()=>i,"default",0,i])}]);

//# debugId=817b9f0b-02a3-2480-d562-933cb3317cbd
//# sourceMappingURL=fb205737bfb7233d.js.map