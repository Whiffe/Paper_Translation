;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="a71f5e5b-9961-a42b-f6ae-9019e16a112f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7641,(e,t,r)=>{var n=e.i(467034),o=function(){"use strict";var e,t,r;function o(e,t){return null!=t&&e instanceof t}try{e=Map}catch(t){e=function(){}}try{t=Set}catch(e){t=function(){}}try{r=Promise}catch(e){r=function(){}}function a(i,u,s,l,f){"object"==typeof u&&(s=u.depth,l=u.prototype,f=u.includeNonEnumerable,u=u.circular);var p=[],y=[],d=void 0!==n.Buffer;return void 0===u&&(u=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h||"object"!=typeof s)return s;if(o(s,e))v=new e;else if(o(s,t))v=new t;else if(o(s,r))v=new r(function(e,t){s.then(function(t){e(i(t,h-1))},function(e){t(i(e,h-1))})});else if(a.__isArray(s))v=[];else if(a.__isRegExp(s))v=new RegExp(s.source,c(s)),s.lastIndex&&(v.lastIndex=s.lastIndex);else if(a.__isDate(s))v=new Date(s.getTime());else{if(d&&n.Buffer.isBuffer(s))return v=n.Buffer.allocUnsafe?n.Buffer.allocUnsafe(s.length):new n.Buffer(s.length),s.copy(v),v;o(s,Error)?v=Object.create(s):void 0===l?v=Object.create(m=Object.getPrototypeOf(s)):(v=Object.create(l),m=l)}if(u){var v,m,b,g=p.indexOf(s);if(-1!=g)return y[g];p.push(s),y.push(v)}for(var O in o(s,e)&&s.forEach(function(e,t){var r=i(t,h-1),n=i(e,h-1);v.set(r,n)}),o(s,t)&&s.forEach(function(e){var t=i(e,h-1);v.add(t)}),s)m&&(b=Object.getOwnPropertyDescriptor(m,O)),b&&null==b.set||(v[O]=i(s[O],h-1));if(Object.getOwnPropertySymbols)for(var _=Object.getOwnPropertySymbols(s),O=0;O<_.length;O++){var j=_[O],E=Object.getOwnPropertyDescriptor(s,j);(!E||E.enumerable||f)&&(v[j]=i(s[j],h-1),E.enumerable||Object.defineProperty(v,j,{enumerable:!1}))}if(f)for(var S=Object.getOwnPropertyNames(s),O=0;O<S.length;O++){var x=S[O],E=Object.getOwnPropertyDescriptor(s,x);E&&E.enumerable||(v[x]=i(s[x],h-1),Object.defineProperty(v,x,{enumerable:!1}))}return v}(i,s)}function i(e){return Object.prototype.toString.call(e)}function c(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=i,a.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},a.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},a.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},a.__getRegExpFlags=c,a}();t.exports&&(t.exports=o)},764731,(e,t,r)=>{t.exports=/<%=([\s\S]+?)%>/g},585027,(e,t,r)=>{var n,o=e.r(764731),a=1/0,i=/[&<>"']/g,c=RegExp(i.source),u=e.g&&e.g.Object===Object&&e.g,s="object"==typeof self&&self&&self.Object===Object&&self,l=u||s||Function("return this")(),f=(n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==n?void 0:n[e]}),p=Object.prototype,y=p.hasOwnProperty,d=p.toString,h=l.Symbol,v=h?h.toStringTag:void 0,m=h?h.prototype:void 0,b=m?m.toString:void 0,g=Array.isArray;t.exports={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:o,variable:"",imports:{_:{escape:function(e){var t;return(e=null==(t=e)?"":function e(t){if("string"==typeof t)return t;if(g(t))return function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(t,e)+"";if(function(e){var t;return"symbol"==typeof e||null!=e&&"object"==typeof e&&(null==e?void 0===e?"[object Undefined]":"[object Null]":v&&v in Object(e)?function(e){var t=y.call(e,v),r=e[v];try{e[v]=void 0;var n=!0}catch(e){}var o=d.call(e);return n&&(t?e[v]=r:delete e[v]),o}(e):(t=e,d.call(t)))=="[object Symbol]"}(t))return b?b.call(t):"";var r=t+"";return"0"==r&&1/t==-a?"-0":r}(t))&&c.test(e)?e.replace(i,f):e}}}}},232837,(e,t,r)=>{var n,o,a,i,c,u=e.r(764731),s=e.r(585027),l=1/0,f="[object Arguments]",p="[object Error]",y="[object Function]",d="[object Object]",h=/\b__p \+= '';/g,v=/\b(__p \+=) '' \+/g,m=/(__e\(.*?\)|\b__t\)) \+\n'';/g,b=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,g=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,_=/($^)/,j=/['\n\r\u2028\u2029\\]/g,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[f]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object Boolean]"]=E["[object DataView]"]=E["[object Date]"]=E[p]=E[y]=E["[object Map]"]=E["[object Number]"]=E[d]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object WeakMap]"]=!1;var S={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},x=e.g&&e.g.Object===Object&&e.g,P="object"==typeof self&&self&&self.Object===Object&&self,k=x||P||Function("return this")(),A=r&&!r.nodeType&&r,w=A&&t&&!t.nodeType&&t,K=w&&w.exports===A,T=K&&x.process,I=function(){try{var e=w&&w.require&&w.require("util").types;if(e)return e;return T&&T.binding&&T.binding("util")}catch(e){}}(),D=I&&I.isTypedArray;function N(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function C(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function M(e){return"\\"+S[e]}function $(e,t){return function(r){return e(t(r))}}var F=Function.prototype,V=Object.prototype,R=k["__core-js_shared__"],U=F.toString,L=V.hasOwnProperty,B=(i=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",G=V.toString,z=U.call(Object),W=RegExp("^"+U.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=K?k.Buffer:void 0,q=k.Symbol,Y=$(Object.getPrototypeOf,Object),Z=V.propertyIsEnumerable,Q=q?q.toStringTag:void 0,H=function(){try{var e=function(e,t){var r,n=null==e?void 0:e[t];return!(!eE(n)||(r=n,B&&B in r))&&(e_(n)?W:g).test(function(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(n))?n:void 0}(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),J=X?X.isBuffer:void 0,ee=$(Object.keys,Object),et=Math.max,er=Date.now,en=q?q.prototype:void 0,eo=en?en.toString:void 0;function ea(e,t){var r=em(e),n=!r&&ev(e),o=!r&&!n&&eg(e),a=!r&&!n&&!o&&ex(e),i=r||n||o||a,c=i?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=c.length;for(var s in e)(t||L.call(e,s))&&!(i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ef(s,u)))&&c.push(s);return c}function ei(e,t,r){"__proto__"==t&&H?H(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ec(e){var t;return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=L.call(e,Q),r=e[Q];try{e[Q]=void 0;var n=!0}catch(e){}var o=G.call(e);return n&&(t?e[Q]=r:delete e[Q]),o}(e):(t=e,G.call(t))}function eu(e){return eS(e)&&ec(e)==f}function es(e,t){var r,n,o;return ed((r=e,n=t,o=eA,n=et(void 0===n?r.length-1:n,0),function(){for(var e=arguments,t=-1,a=et(e.length-n,0),i=Array(a);++t<a;)i[t]=e[n+t];t=-1;for(var c=Array(n+1);++t<n;)c[t]=e[t];return c[n]=o(i),N(r,this,c)}),e+"")}function el(e,t,r,n){return void 0===e||eh(e,V[r])&&!L.call(n,r)?t:e}function ef(e,t){var r=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==r||"symbol"!=r&&O.test(e))&&e>-1&&e%1==0&&e<t}function ep(e,t,r){if(!eE(r))return!1;var n=typeof t;return("number"==n?!!(eb(r)&&ef(t,r.length)):"string"==n&&t in r)&&eh(r[t],e)}function ey(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||V)}var ed=(n=H?function(e,t){var r;return H(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0})}:eA,o=0,a=0,function(){var e=er(),t=16-(e-a);if(a=e,t>0){if(++o>=800)return arguments[0]}else o=0;return n.apply(void 0,arguments)});function eh(e,t){return e===t||e!=e&&t!=t}var ev=eu(function(){return arguments}())?eu:function(e){return eS(e)&&L.call(e,"callee")&&!Z.call(e,"callee")},em=Array.isArray;function eb(e){return null!=e&&ej(e.length)&&!e_(e)}var eg=J||function(){return!1};function eO(e){if(!eS(e))return!1;var t=ec(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!eS(e)||ec(e)!=d)return!1;var t=Y(e);if(null===t)return!0;var r=L.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&U.call(r)==z}(e)}function e_(e){if(!eE(e))return!1;var t=ec(e);return t==y||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ej(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function eE(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eS(e){return null!=e&&"object"==typeof e}var ex=D?function(e){return D(e)}:function(e){return eS(e)&&ej(e.length)&&!!E[ec(e)]},eP=(c=function(e,t,r,n){var o;!function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var c=t[a],u=n?n(r[c],e[c],c,r,e):void 0;void 0===u&&(u=e[c]),o?ei(r,c,u):function(e,t,r){var n=e[t];L.call(e,t)&&eh(n,r)&&(void 0!==r||t in e)||ei(e,t,r)}(r,c,u)}}(t,eb(o=t)?ea(o,!0):function(e){if(!eE(e)){var t=e,r=[];if(null!=t)for(var n in Object(t))r.push(n);return r}var o=ey(e),a=[];for(var i in e)"constructor"==i&&(o||!L.call(e,i))||a.push(i);return a}(o),e,n)},es(function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,a=n>2?t[2]:void 0;for(o=c.length>3&&"function"==typeof o?(n--,o):void 0,a&&ep(t[0],t[1],a)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var i=t[r];i&&c(e,i,r,o)}return e})),ek=es(function(e,t){try{return N(e,void 0,t)}catch(e){return eO(e)?e:Error(e)}});function eA(e){return e}t.exports=function(e,t,r){var n=s.imports._.templateSettings||s;r&&ep(e,t,r)&&(t=void 0),e=null==(o=e)?"":function e(t){if("string"==typeof t)return t;if(em(t))return C(t,e)+"";if("symbol"==typeof(r=t)||eS(r)&&"[object Symbol]"==ec(r))return eo?eo.call(t):"";var r,n=t+"";return"0"==n&&1/t==-l?"-0":n}(o),t=eP({},t,n,el);var o,a,i,c=eP({},t.imports,n.imports,el),f=eb(c)?ea(c):function(e){if(!ey(e))return ee(e);var t=[];for(var r in Object(e))L.call(e,r)&&"constructor"!=r&&t.push(r);return t}(c),p=C(f,function(e){return c[e]}),y=0,d=t.interpolate||_,g="__p += '",O=RegExp((t.escape||_).source+"|"+d.source+"|"+(d===u?b:_).source+"|"+(t.evaluate||_).source+"|$","g"),E=L.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(O,function(t,r,n,o,c,u){return n||(n=o),g+=e.slice(y,u).replace(j,M),r&&(a=!0,g+="' +\n__e("+r+") +\n'"),c&&(i=!0,g+="';\n"+c+";\n__p += '"),n&&(g+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),y=u+t.length,t}),g+="';\n";var S=L.call(t,"variable")&&t.variable;S||(g="with (obj) {\n"+g+"\n}\n"),g=(i?g.replace(h,""):g).replace(v,"$1").replace(m,"$1;"),g="function("+(S||"obj")+") {\n"+(S?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+g+"return __p\n}";var x=ek(function(){return Function(f,E+"return "+g).apply(void 0,p)});if(x.source=g,eO(x))throw x;return x}},912479,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach(function(r){Object.keys(r).forEach(function(n){r[n]&&r[n].constructor&&r[n].constructor===Object?(t[n]&&t[n].constructor&&t[n].constructor===Object||(t[n]={}),e(t[n],r[n])):t[n]=r[n]})}),t}},735486,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SUGGESTED_EVALUATE=r.DEFAULT_ESCAPE=r.DEFAULT_INTERPOLATE=void 0;var n=a(e.r(232837)),o=a(e.r(912479));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r.DEFAULT_INTERPOLATE=/{{{([^{}#][\s\S]+?)}}}/g,f=r.DEFAULT_ESCAPE=/{{([^{}#][\s\S]+?)}}/g;r.SUGGESTED_EVALUATE=/{{#([^{}].*?)}}/g;var p=function(){var e,t;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.escape,n=e.evaluate,o=e.initialLanguage,a=e.interpolate,i=e.messages,c=e.tracker;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");this.language=o||r.language||"en",this.messageList=i||{},c&&(this.tracker=c,this.trackerDep=new c.Dependency),this.interpolate=a||r.interpolate||l,this.evaluate=n||r.evaluate,this.escape=t||r.escape||f}return e=[{key:"clone",value:function(){var e=new r({escape:this.escape,evaluate:this.evaluate,initialLanguage:this.language,interpolate:this.interpolate,tracker:this.tracker});return e.messages(this.messageList),e}},{key:"getMessages",value:function(e){!e&&(e=this.language,this.trackerDep&&this.trackerDep.depend());var t=r.messages[e],n=this.messageList[e];if(n?t&&(n=(0,o.default)({},t,n)):n=t,!n)throw Error('No messages found for language "'.concat(e,'"'));return{messages:n,language:e}}},{key:"message",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.context,a=t.language;if(e.message)return e.message;var u=e.name,l=r.makeNameGeneric(u),f=this.getMessages(a).messages[e.type],p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({genericName:l},o,{},e);return(f&&"object"===i(f)&&(f=f[l]||f._default),"string"==typeof f&&(f=(0,n.default)(f,{interpolate:this.interpolate,evaluate:this.evaluate,escape:this.escape})),"function"!=typeof f)?"".concat(u," is invalid"):f(p)}},{key:"messages",value:function(e){(0,o.default)(this.messageList,e)}},{key:"setLanguage",value:function(e){this.language=e,this.trackerDep&&this.trackerDep.changed()}}],t=[{key:"makeNameGeneric",value:function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+(?=\.|$)/g,".$")}},{key:"defaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.escape,n=e.evaluate,a=e.initialLanguage,i=e.interpolate,c=e.messages;"string"==typeof a&&(r.language=a),i instanceof RegExp&&(r.interpolate=i),n instanceof RegExp&&(r.evaluate=n),t instanceof RegExp&&(r.escape=t),c&&(r.messages||(r.messages={}),(0,o.default)(r.messages,c))}}],e&&u(r.prototype,e),t&&u(r,t),r}();s(p,"messages",{}),r.default=p},924109,(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i="______MONGO_OBJECT_REMOVED______";function c(e,t){return"$each"===t?e:e?"".concat(e,".").concat(t):t}function u(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null}function s(e){if(null==e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;var t,r=Object.prototype.toString.call(e);if("[object Map]"===r||"[object Set]"===r)return!e.size;if(t=e&&e.constructor,e===("function"==typeof t&&t.prototype||Object.prototype))return!Object.keys(e).length;for(var n in e)if(hasOwnProperty.call(e,n))return!1;return!0}function l(e){var t=n(e);return null!=e&&("object"===t||"function"===t)}r.default=function(){var e,t;function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(this instanceof r))throw TypeError("Cannot call a class as a function");this._obj=e,this._blackboxKeys=t,this._reParseObj()}return e=[{key:"_reParseObj",value:function(){var e=this._blackboxKeys;this._affectedKeys={},this._genericAffectedKeys={},this._positionsByGenericKey={},this._positionsThatCreateGenericKey={},this._parentPositions=[],this._positionsInsideArrays=[],this._objectPositions=[],this._arrayItemPositions=[],!function t(n,o,a,i,u,l,f){!u&&i&&"$"===i.substring(0,1)&&(u=i,i=null);var p=!1,y=!1;if(i){l||("$push"===u||"$addToSet"===u||"$pop"===u?(r.isBasicObject(o)&&"$each"in o?(o=o.$each,a="".concat(a,"[$each]")):i="".concat(i,".0"),l=!0):"$pull"===u&&(i="".concat(i,".0"),r.isBasicObject(o)&&(y=!0),l=!0));var d=r.makeKeyGeneric(i);if(p=e.indexOf(d)>-1,a){n._affectedKeys[a]=i,n._genericAffectedKeys[a]=d;var h={key:i,operator:u||null,position:a};n._positionsByGenericKey[d]||(n._positionsByGenericKey[d]=[]),n._positionsByGenericKey[d].push(h),u&&"$unset"!==u&&r.objectsThatGenericKeyWillCreate(d).forEach(function(e){n._positionsThatCreateGenericKey[e]||(n._positionsThatCreateGenericKey[e]=[]),n._positionsThatCreateGenericKey[e].push(h)}),f&&n._positionsInsideArrays.push(a)}}!y&&(Array.isArray(o)&&o.length>0?(a&&n._parentPositions.push(a),o.forEach(function(e,r){a&&n._arrayItemPositions.push("".concat(a,"[").concat(r,"]")),t(n,e,a?"".concat(a,"[").concat(r,"]"):r,"".concat(i,".").concat(r),u,l,!0)})):(!r.isBasicObject(o)||p)&&a||(a&&!s(o)&&(n._parentPositions.push(a),n._objectPositions.push(a)),Object.keys(o).forEach(function(e){var r=o[e];void 0===r?delete o[e]:"$slice"!==e&&t(n,r,a?"".concat(a,"[").concat(e,"]"):e,c(i,e),u,l,f)})))}(this,this._obj)}},{key:"forEachNode",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.endPointsOnly,o=void 0===n||n;if("function"!=typeof e)throw Error("filter requires a loop function");var a={};Object.keys(this._affectedKeys).forEach(function(r){o&&t._parentPositions.indexOf(r)>-1||e.call({value:t.getValueForPosition(r),isArrayItem:t._arrayItemPositions.indexOf(r)>-1,operator:u(r),position:r,key:t._affectedKeys[r],genericKey:t._genericAffectedKeys[r],updateValue:function(e){a[r]=e},remove:function(){a[r]=void 0}})}),Object.keys(a).forEach(function(e){t.setValueForPosition(e,a[e])})}},{key:"getValueForPosition",value:function(e){for(var t=e.split("["),n=this._obj,o=t.length,a=0;a<o;a++){var c=t[a];if("]"===c.slice(-1)&&(c=c.slice(0,-1)),!Array.isArray(n=n[c])&&!r.isBasicObject(n)&&a<o-1)return}if(n!==i)return n}},{key:"setValueForPosition",value:function(e,t){for(var n=e.split("["),o=this._obj,a=n.length,u=!1,s="",l=0;l<a;l++){var f=n[l];if("]"===f.slice(-1)&&(f=f.slice(0,-1)),f&&"$"!==f.substring(0,1)&&(s=c(s,f)),l===a-1)void 0===t?Array.isArray(o)?o[f]=i:delete o[f]:o[f]=t,this._affectedKeys[e]=s;else{if(void 0===o[f]&&void 0!==t){var p=n[l+1];p=parseInt(p,10),o[f]=Number.isNaN(p)?{}:[],u=!0}if(!Array.isArray(o=o[f])&&!r.isBasicObject(o)&&l<a-1)return}}(u||Array.isArray(t)||r.isBasicObject(t))&&this._reParseObj()}},{key:"removeValueForPosition",value:function(e){this.setValueForPosition(e,void 0)}},{key:"getKeyForPosition",value:function(e){return this._affectedKeys[e]}},{key:"getGenericKeyForPosition",value:function(e){return this._genericAffectedKeys[e]}},{key:"getInfoForKey",value:function(e){var t=this.getPositionForKey(e);if(t)return{value:this.getValueForPosition(t),operator:u(t)};for(var r=this.getPositionsForGenericKey("".concat(e,".$")),n=0;n<r.length;n++){var o=r[n],a=this.getValueForPosition(o);if(void 0===a){var i=o.slice(0,o.lastIndexOf("["));a=this.getValueForPosition(i)}if(void 0!==a)return{value:a,operator:u(o)}}}},{key:"getPositionForKey",value:function(e){for(var t=Object.getOwnPropertyNames(this._affectedKeys),r=0;r<t.length;r++){var n=t[r];if(this._affectedKeys[n]===e)return n}}},{key:"getPositionsForGenericKey",value:function(e){return this.getPositionsInfoForGenericKey(e).map(function(e){return e.position})}},{key:"getPositionsInfoForGenericKey",value:function(e){var t=this,r=this._positionsByGenericKey[e];return r&&0!==r.length||(r=this._positionsByGenericKey["".concat(e,".$")]),r&&0!==r.length||(r=[]),r.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({value:t.getValueForPosition(e.position)},e)})}},{key:"getPositionsThatCreateGenericKey",value:function(e){return this._positionsThatCreateGenericKey[e]||[]}},{key:"getValueForKey",value:function(e){var t=this.getPositionForKey(e);if(t)return this.getValueForPosition(t)}},{key:"addKey",value:function(e,t,n){var o=n?"".concat(n,"[").concat(e,"]"):r._keyToPosition(e);this.setValueForPosition(o,t)}},{key:"removeGenericKeys",value:function(e){var t=this;Object.getOwnPropertyNames(this._genericAffectedKeys).forEach(function(r){e.indexOf(t._genericAffectedKeys[r])>-1&&t.removeValueForPosition(r)})}},{key:"removeGenericKey",value:function(e){var t=this;Object.getOwnPropertyNames(this._genericAffectedKeys).forEach(function(r){t._genericAffectedKeys[r]===e&&t.removeValueForPosition(r)})}},{key:"removeKey",value:function(e){var t=this;Object.getOwnPropertyNames(this._affectedKeys).forEach(function(r){t._affectedKeys[r]===e&&t.removeValueForPosition(r)})}},{key:"removeKeys",value:function(e){var t=this;e.forEach(function(e){return t.removeKey(e)})}},{key:"filterGenericKeys",value:function(e){var t=this,r=[],n=[];Object.getOwnPropertyNames(this._genericAffectedKeys).forEach(function(o){var a=t._genericAffectedKeys[o];-1===r.indexOf(a)&&(r.push(a),a&&!e(a)&&n.push(a))}),n.forEach(function(e){return t.removeGenericKey(e)})}},{key:"setValueForKey",value:function(e,t){var r=this;Object.getOwnPropertyNames(this._affectedKeys).forEach(function(n){r._affectedKeys[n]===e&&r.setValueForPosition(n,t)})}},{key:"setValueForGenericKey",value:function(e,t){var r=this;Object.getOwnPropertyNames(this._genericAffectedKeys).forEach(function(n){r._genericAffectedKeys[n]===e&&r.setValueForPosition(n,t)})}},{key:"removeArrayItems",value:function(){!function e(t){!function(e,t){if(null!=e){if(Array.isArray(e))return e.forEach(t);var r,n=Object(e);if(!(null!=e&&"function"!=typeof e&&"number"==typeof(r=e.length)&&r>-1&&r%1==0&&r<=0x1fffffffffffff))return Object.keys(n).forEach(function(e){return t(n[e],e,n)});for(var o=-1;++o<e.length&&!1!==t(n[o],o,n););}}(t,function(n,o){var a=t[o];r.isBasicObject(a)?e(a):Array.isArray(a)&&(t[o]=a.filter(function(e){return e!==i}),e(t[o]))})}(this._obj)}},{key:"getObject",value:function(){return this._obj}},{key:"getFlatObject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.keepArrays,n=void 0!==r&&r,o={};return Object.keys(this._affectedKeys).forEach(function(t){var r=e._affectedKeys[t];"string"==typeof r&&(!0===n&&-1===e._positionsInsideArrays.indexOf(t)&&-1===e._objectPositions.indexOf(t)||!0!==n&&-1===e._parentPositions.indexOf(t))&&(o[r]=e.getValueForPosition(t))}),o}},{key:"affectsKey",value:function(e){return!!this.getPositionForKey(e)}},{key:"affectsGenericKey",value:function(e){for(var t=Object.getOwnPropertyNames(this._genericAffectedKeys),r=0;r<t.length;r++){var n=t[r];if(this._genericAffectedKeys[n]===e)return!0}return!1}},{key:"affectsGenericKeyImplicit",value:function(e){for(var t=Object.getOwnPropertyNames(this._genericAffectedKeys),r=0;r<t.length;r++){var n,o,a=t[r];if(n=e,(o=this._genericAffectedKeys[a])===n||o.substring(0,n.length+1)==="".concat(n,".")||".$"===n.slice(-2)&&n.slice(0,-2)===o)return!0}return!1}}],t=[{key:"makeKeyGeneric",value:function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+(?=\.|$)/g,".$")}},{key:"expandKey",value:function(e,t,r){for(var n=t.split("["),o=r,a=0,i=n.length;a<i;a++){var c=n[a];if("]"===c.slice(-1)&&(c=c.slice(0,-1)),a===i-1)o[c]=e,void 0===e&&delete o[c];else{var u=n[a+1];u=parseInt(u,10),o[c]||(o[c]=Number.isNaN(u)?{}:[])}o=o[c]}}},{key:"_keyToPosition",value:function(e,t){var r="";return e.split(".").forEach(function(e,n){0!==n||t?r+="[".concat(e,"]"):r+=e}),r}},{key:"_positionToKey",value:function(e){var t=new r({});return t.setValueForPosition(e,1),t.getKeyForPosition(e)}},{key:"cleanNulls",value:function(e,t,n){var o=t?[]:{};return Object.keys(e).forEach(function(t){var a,i=e[t];!Array.isArray(i)&&r.isBasicObject(i)?s(i=r.cleanNulls(i,!1,n))||(o[t]=i):Array.isArray(i)?s(i=r.cleanNulls(i,!0,n))||(o[t]=i):null==(a=i)||"string"==typeof a&&0===a.length?n&&"string"==typeof i&&0===i.length&&(o[t]=i):o[t]=i}),o}},{key:"reportNulls",value:function(e,t){var n={};return Object.keys(e).forEach(function(o){var a=e[o];(null==a||!t&&"string"==typeof a&&0===a.length||Array.isArray(a)&&0===r.cleanNulls(a,!0,t).length)&&(n[o]="")}),n}},{key:"docToModifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepArrays,o=t.keepEmptyStrings,a=void 0!==o&&o,i=new r(e).getFlatObject({keepArrays:void 0!==n&&n}),c=r.reportNulls(i,a);i=r.cleanNulls(i,!1,a);var u={};return s(i)||(u.$set=i),s(c)||(u.$unset=c),u}},{key:"isBasicObject",value:function(e){return e===Object(e)&&Object.getPrototypeOf(e)===Object.prototype}},{key:"objAffectsKey",value:function(e,t){return new r(e).affectsKey(t)}},{key:"objectsThatGenericKeyWillCreate",value:function(e){var t=[];do{var r=e.lastIndexOf(".");(e=-1===r?"":e.slice(0,r)).length&&!e.endsWith(".$")&&t.push(e)}while(e.length)return t}},{key:"expandObj",value:function(e){var t={};return Object.keys(e).forEach(function(r){for(var n=e[r],o=r.split("."),a=o.length,i=t,c=0;c<a;c++){var u=o[c];if(void 0!==i[u]&&!l(i[u]))break;if(c===a-1)i[u]=n;else{var s=o[c+1];Number.isNaN(s=parseInt(s,10))&&!l(i[u])?i[u]={}:Number.isNaN(s)||Array.isArray(i[u])||(i[u]=[])}i=i[u]}}),t}}],e&&a(r.prototype,e),t&&a(r,t),r}(),t.exports=r.default,t.exports.default=r.default},933484,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default=function(e){var t,r,n,o;return(o=(o=(o=e=(e=((e=(e=(e=(e=e||"").toString()).trim()).replace((r=(t=e).lastIndexOf("."),n=t.substring(r,t.length),-1===r?"":n),""))||"").toString().trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()).replace(/[\W_]+/g," "))||"").trim())[0]&&(o=o[0].toUpperCase()+o.substr(1).toLowerCase()),o=(o=o.replace(/\bid\b/g,"ID")).replace(/\bId\b/g,"ID")},t.exports=r.default,t.exports.default=r.default},549728,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return"$each"===t?e:e?"".concat(e,".").concat(t):t},t.exports=r.default,t.exports.default=r.default},443266,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=e.getUTCMonth()+1;t<10&&(t="0".concat(t));var r=e.getUTCDate();return r<10&&(r="0".concat(r)),"".concat(e.getUTCFullYear(),"-").concat(t,"-").concat(r)},t.exports=r.default,t.exports.default=r.default},955941,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r,n=e;do if(-1!==(r=n.lastIndexOf("."))){n=n.slice(0,r);var o=e.slice(n.length+1);t(n,o)}while(-1!==r)},t.exports=r.default,t.exports.default=r.default},240691,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=[],n="".concat(t,".");return Object.keys(e||{}).forEach(function(o){null!=e[o]&&o.slice(0,t.length+1)===n&&r.push(o)}),r},t.exports=r.default,t.exports.default=r.default},488765,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r="",n="".concat(t,".");return 0===e.indexOf(n)&&(r=e.replace(n,"")).startsWith("$.")&&(r=r.slice(2)),r},t.exports=r.default,t.exports.default=r.default},478058,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=e.lastIndexOf(".");return -1===r?"":e.slice(0,r+Number(!!t))},t.exports=r.default,t.exports.default=r.default},463920,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.exports=r.default,t.exports.default=r.default},392567,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){try{if(e!==Object(e)||e instanceof Date||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)return!1}catch(e){return!1}return!0},t.exports=r.default,t.exports.default=r.default},187165,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return!!Object.keys(e||{}).find(function(e){return"$"===e.substring(0,1)})},t.exports=r.default,t.exports.default=r.default},11017,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach(function(r){Object.keys(r).forEach(function(n){"__proto__"!==n&&(r[n]&&r[n].constructor&&r[n].constructor===Object?(t[n]&&t[n].constructor&&t[n].constructor===Object||(t[n]={}),e(t[n],r[n])):t[n]=r[n])})}),t},t.exports=r.default,t.exports.default=r.default},881153,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"appendAffectedKey",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"dateToDateString",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"forEachKeyAncestor",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"getKeysWithValueInObj",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"getLastPartOfKey",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"getParentOfKey",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"isEmptyObject",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"isObjectWeShouldTraverse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"looksLikeModifier",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"merge",{enumerable:!0,get:function(){return p.default}});var n=y(e.r(549728)),o=y(e.r(443266)),a=y(e.r(955941)),i=y(e.r(240691)),c=y(e.r(488765)),u=y(e.r(478058)),s=y(e.r(463920)),l=y(e.r(392567)),f=y(e.r(187165)),p=y(e.r(11017));function y(e){return e&&e.__esModule?e:{default:e}}},161612,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return isNaN(t.getTime())?{type:n.SimpleSchema.ErrorTypes.BAD_DATE}:e.min&&"function"==typeof e.min.getTime&&e.min.getTime()>t.getTime()?{type:n.SimpleSchema.ErrorTypes.MIN_DATE,min:(0,o.dateToDateString)(e.min)}:e.max&&"function"==typeof e.max.getTime&&e.max.getTime()<t.getTime()?{type:n.SimpleSchema.ErrorTypes.MAX_DATE,max:(0,o.dateToDateString)(e.max)}:void 0};var n=e.r(333975),o=e.r(881153);t.exports=r.default,t.exports.default=r.default},975463,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r,o){return"number"!=typeof t||isNaN(t)?{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:o?"Integer":"Number"}:"$inc"!==r&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t)?{type:e.exclusiveMax?n.SimpleSchema.ErrorTypes.MAX_NUMBER_EXCLUSIVE:n.SimpleSchema.ErrorTypes.MAX_NUMBER,max:e.max}:"$inc"!==r&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t)?{type:e.exclusiveMin?n.SimpleSchema.ErrorTypes.MIN_NUMBER_EXCLUSIVE:n.SimpleSchema.ErrorTypes.MIN_NUMBER,min:e.min}:o&&!Number.isInteger(t)?{type:n.SimpleSchema.ErrorTypes.MUST_BE_INTEGER}:void 0};var n=e.r(333975);Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.exports=r.default,t.exports.default=r.default},854621,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if("string"!=typeof t)return{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:"String"};if(null!==e.max&&e.max<t.length)return{type:n.SimpleSchema.ErrorTypes.MAX_STRING,max:e.max};if(null!==e.min&&e.min>t.length)return{type:n.SimpleSchema.ErrorTypes.MIN_STRING,min:e.min};if(e.regEx instanceof RegExp&&!e.regEx.test(t))return{type:n.SimpleSchema.ErrorTypes.FAILED_REGULAR_EXPRESSION,regExp:e.regEx.toString()};if(Array.isArray(e.regEx)){var r;if(e.regEx.every(function(e){return!!e.test(t)||(r={type:n.SimpleSchema.ErrorTypes.FAILED_REGULAR_EXPRESSION,regExp:e.toString()},!1)}),r)return r}};var n=e.r(333975);t.exports=r.default,t.exports.default=r.default},655355,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return Array.isArray(t)?null!==e.minCount&&t.length<e.minCount?{type:n.SimpleSchema.ErrorTypes.MIN_COUNT,minCount:e.minCount}:null!==e.maxCount&&t.length>e.maxCount?{type:n.SimpleSchema.ErrorTypes.MAX_COUNT,maxCount:e.maxCount}:void 0:{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:"Array"}};var n=e.r(333975);t.exports=r.default,t.exports.default=r.default},372265,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(this.valueShouldBeChecked){var e=this.definition,t=e.type,r=this.value,u=this.operator;if(t===String)return(0,i.default)(e,r);if(t===Number)return(0,a.default)(e,r,u,!1);if(t===n.SimpleSchema.Integer)return(0,a.default)(e,r,u,!0);if(t===Boolean){if("boolean"==typeof r)return;return{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:"Boolean"}}if(t===Object||n.SimpleSchema.isSimpleSchema(t)){if(r===Object(r)&&"function"!=typeof r[Symbol.iterator]&&!(r instanceof Date))return;return{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:"Object"}}if(t===Array)return(0,c.default)(e,r);if(t instanceof Function){if(!(r instanceof t))return{type:n.SimpleSchema.ErrorTypes.EXPECTED_TYPE,dataType:t.name};if(t===Date)return(0,o.default)(e,r)}}};var n=e.r(333975),o=u(e.r(161612)),a=u(e.r(975463)),i=u(e.r(854621)),c=u(e.r(655355));function u(e){return e&&e.__esModule?e:{default:e}}t.exports=r.default,t.exports.default=r.default},132465,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){var e=this.definition,t=this.isInArrayItemObject,r=this.isInSubObject,a=this.key,i=this.obj,c=this.operator,u=this.value;if(e.optional)return;if(null===u||"$unset"===c||"$rename"===c)return n.SimpleSchema.ErrorTypes.REQUIRED;if(void 0===u){if(!c)return n.SimpleSchema.ErrorTypes.REQUIRED;if(!(0,o.getKeysWithValueInObj)(i.$set,a).length&&!(0,o.getKeysWithValueInObj)(i.$setOnInsert,a).length){var s=this.field(a);if((!s.isSet||null===s.value)&&(t||r||"$set"===c||"$setOnInsert"===c))return n.SimpleSchema.ErrorTypes.REQUIRED}}};var n=e.r(333975),o=e.r(881153);t.exports=r.default,t.exports.default=r.default},853753,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(this.valueShouldBeChecked){var e=this.definition.allowedValues;if(e)return!!("function"==typeof Set&&e instanceof Set?e.has(this.value):e.includes(this.value))||n.SimpleSchema.ErrorTypes.VALUE_NOT_ALLOWED}};var n=e.r(333975);t.exports=r.default,t.exports.default=r.default},690635,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e.r(924109)),o=e.r(333975),a=e.r(881153),i=s(e.r(372265)),c=s(e.r(132465)),u=s(e.r(853753));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.default=function(e){var t=e.extendedCustomContext,r=e.ignoreTypes,s=e.isModifier,f=e.isUpsert,d=e.keysToValidate,h=e.mongoObject,v=e.obj,m=e.schema,b=e.validationContext;if(!v||"object"!==y(v)&&"function"!=typeof v)throw Error("The first argument of validate() must be an object");if(!s&&(0,a.looksLikeModifier)(v))throw Error("When the validation object contains mongo operators, you must set the modifier option to true");function g(e){h||(h=new n.default(v,m.blackboxKeys()));var t=h.getInfoForKey(e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator||null}}var O=[];function _(e){var r,f,h=e.val,j=e.affectedKey,E=e.operator,S=e.isInArrayItemObject,x=void 0!==S&&S,P=e.isInSubObject,k=void 0!==P&&P;if(j){if(m.keyIsInBlackBox(j))return;r=n.default.makeKeyGeneric(j);var A=!d||d.some(function(e){return e===j||e===r||j.startsWith("".concat(e,"."))||r.startsWith("".concat(e,"."))}),w=(0,a.getParentOfKey)(j,!0),K=w.slice(0,-1),T=p({field:function(e){return g(e)},genericKey:r,isInArrayItemObject:x,isInSubObject:k,isModifier:s,isSet:void 0!==h,key:j,obj:v,operator:E,parentField:function(){return g(K)},siblingField:function(e){return g(w+e)},validationContext:b,value:h},t||{});f=m.getDefinition(j,null,T),A&&function(e,r,n,l,f,d,h){if(!l){if("$unset"===f)return;O.push({name:r,type:o.SimpleSchema.ErrorTypes.KEY_NOT_IN_SCHEMA,value:e});return}if("$rename"===f&&!m.allowsKey(e))return O.push({name:e,type:o.SimpleSchema.ErrorTypes.KEY_NOT_IN_SCHEMA,value:null});var _=(0,a.getParentOfKey)(r,!0),j=_.slice(0,-1),E=[],S=p({addValidationErrors:function(e){e.forEach(function(e){return E.push(e)})},field:function(e){return g(e)},genericKey:n,isInArrayItemObject:d,isInSubObject:h,isModifier:s,isSet:void 0!==e,key:r,obj:v,operator:f,parentField:function(){return g(j)},siblingField:function(e){return g(_+e)},validationContext:b,value:e,valueShouldBeChecked:"$unset"!==f&&"$rename"!==f&&(null!=e||".$"===n.slice(-2)&&null===e&&!l.optional)},t||{}),x=[c.default,i.default,u.default],P=x.concat(m._validators).concat(o.SimpleSchema._validators);l.type.some(function(t){if(t===o.SimpleSchema.Any)return!0;l.type;var n=p({},S,{definition:p({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(l,["type"]),{},t)}),a=P.slice(0);return"function"==typeof t.custom&&a.splice(x.length,0,t.custom),a.every(function(t){var o=t.call(n);return"string"==typeof o?(E.push({name:r,type:o,value:e}),!1):"object"===y(o)&&null!==o?(E.push(p({name:r,value:e},o)),!1):!1!==o})})||(O=O.concat(E))}(h,j,r,f,E,x,k)}var I=m.objectKeys(r);if(null==h&&(!f||!f.optional&&I&&I.length>0)&&(h={}),Array.isArray(h))h.forEach(function(e,t){_({val:e,affectedKey:"".concat(j,".").concat(t),operator:E})});else if((0,a.isObjectWeShouldTraverse)(h)&&(!f||!m._blackboxKeys.has(j))){var D=Object.keys(h);x=r&&".$"===r.slice(-2);for(var N=[],C=0,M=[].concat(l(D),l(I));C<M.length;C++){var $=M[C];-1===N.indexOf($)&&(N.push($),_({val:h[$],affectedKey:(0,a.appendAffectedKey)(j,$),operator:E,isInArrayItemObject:x,isInSubObject:!0}))}}}s?Object.keys(v).forEach(function(e){var t=v[e];if("$"!==e.slice(0,1))throw Error("Expected '".concat(e,"' to be a modifier operator like '$set'"));if(function(e){if("$pushAll"===e)throw Error("$pushAll is not supported; use $push + $each");return -1===["$pull","$pullAll","$pop","$slice"].indexOf(e)}(e)){if(f&&("$set"===e||"$setOnInsert"===e)){var r=Object.keys(t);m.objectKeys().forEach(function(t){r.includes(t)||_({val:void 0,affectedKey:t,operator:e})})}Object.keys(t).forEach(function(r){var n=t[r];("$push"===e||"$addToSet"===e)&&("object"===y(n)&&"$each"in n?n=n.$each:r="".concat(r,".0")),_({val:n,affectedKey:r,operator:e})})}}):_({val:v});var j=m._docValidators.concat(o.SimpleSchema._docValidators),E=p({ignoreTypes:r,isModifier:s,isUpsert:f,keysToValidate:d,mongoObject:h,obj:v,schema:m,validationContext:b},t||{});j.forEach(function(e){var t=e.call(E,v);if(!Array.isArray(t))throw Error("Custom doc validator must return an array of error objects");t.length&&(O=O.concat(t))});var S=[];return O=O.filter(function(e){return!(r.includes(e.type)||S.includes(e.name))&&(S.push(e.name),!0)})},t.exports=r.default,t.exports.default=r.default},596585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e.r(924109)),o=a(e.r(690635));function a(e){return e&&e.__esModule?e:{default:e}}r.default=function(){var e;function t(e,r){var n=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.name=r,this._simpleSchema=e,this._schema=e.schema(),this._schemaKeys=Object.keys(this._schema),this._validationErrors=[],this._deps={};var o=e._constructorOptions.tracker;o&&(this._depsAny=new o.Dependency,this._schemaKeys.forEach(function(e){n._deps[e]=new o.Dependency}))}return e=[{key:"_markKeyChanged",value:function(e){var t=n.default.makeKeyGeneric(e);Object.prototype.hasOwnProperty.call(this._deps,t)&&this._deps[t].changed()}},{key:"_markKeysChanged",value:function(e){var t=this;e&&Array.isArray(e)&&e.length&&(e.forEach(function(e){return t._markKeyChanged(e)}),this._depsAny&&this._depsAny.changed())}},{key:"setValidationErrors",value:function(e){var t=this._validationErrors.map(function(e){return e.name}),r=e.map(function(e){return e.name});this._validationErrors=e;var n=t.concat(r);this._markKeysChanged(n)}},{key:"addValidationErrors",value:function(e){var t=this,r=e.map(function(e){return e.name});e.forEach(function(e){return t._validationErrors.push(e)}),this._markKeysChanged(r)}},{key:"reset",value:function(){this.setValidationErrors([])}},{key:"getErrorForKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.default.makeKeyGeneric(e),r=this._validationErrors,o=r.find(function(t){return t.name===e});return o||r.find(function(e){return e.name===t})}},{key:"_keyIsInvalid",value:function(e,t){return!!this.getErrorForKey(e,t)}},{key:"keyIsInvalid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.default.makeKeyGeneric(e);return Object.prototype.hasOwnProperty.call(this._deps,t)&&this._deps[t].depend(),this._keyIsInvalid(e,t)}},{key:"keyErrorMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.default.makeKeyGeneric(e);Object.prototype.hasOwnProperty.call(this._deps,t)&&this._deps[t].depend();var r=this.getErrorForKey(e,t);return r?this._simpleSchema.messageForError(r):""}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.extendedCustomContext,n=t.ignore,a=t.keys,i=t.modifier,c=t.mongoObject,u=t.upsert,s=(0,o.default)({extendedCustomContext:void 0===r?{}:r,ignoreTypes:void 0===n?[]:n,isModifier:void 0!==i&&i,isUpsert:void 0!==u&&u,keysToValidate:a,mongoObject:c,obj:e,schema:this._simpleSchema,validationContext:this});if(a){var l=!0,f=!1,p=void 0;try{for(var y,d=this._validationErrors[Symbol.iterator]();!(l=(y=d.next()).done);l=!0)!function(){var e=y.value;a.some(function(t){return t===e.name||e.name.startsWith("".concat(t,"."))})||s.push(e)}()}catch(e){f=!0,p=e}finally{try{l||null==d.return||d.return()}finally{if(f)throw p}}}return this.setValidationErrors(s),!s.length}},{key:"isValid",value:function(){return this._depsAny&&this._depsAny.depend(),0===this._validationErrors.length}},{key:"validationErrors",value:function(){return this._depsAny&&this._depsAny.depend(),this._validationErrors}},{key:"clean",value:function(){var e;return(e=this._simpleSchema).clean.apply(e,arguments)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),t.exports=r.default,t.exports.default=r.default},213230,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,o=(n=e.r(924109))&&n.__esModule?n:{default:n};function a(e,t,r){return(a=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&i(o,r.prototype),o}:Reflect.construct).apply(null,arguments)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.default=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];this.definitions=r.map(function(e){return o.default.isBasicObject(e)?u({},e):e instanceof RegExp?{type:String,regEx:e}:{type:e}})}return e=[{key:"clone",value:function(){var e;return a(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e=this.definitions)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}())}},{key:"extend",value:function(e){this.definitions=this.definitions.map(function(t,r){var n=e.definitions[r];return n?u({},t,{},n):t})}},{key:"singleType",get:function(){return this.definitions[0].type}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),t.exports=r.default,t.exports.default=r.default},154861,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n="(?:(?:[0-1]?\\d{1,2}|2[0-4]\\d|25[0-5])(?:\\.|$)){4}",o="(?:(?:[\\dA-Fa-f]{1,4}(?::|$)){8}|(?=(?:[^:\\s]|:[^:\\s])*::(?:[^:\\s]|:[^:\\s])*$)[\\dA-Fa-f]{0,4}(?:::?(?:[\\dA-Fa-f]{1,4}|$)){1,6})",a="(?:".concat(["(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\.|$))+",n,o].join("|"),")"),i=function(e,t){return!e||Number.isSafeInteger(e)&&e>t},c=function(e,t){var r;if(!i(e,0))throw Error("Expected a non-negative safe integer, got ".concat(e));if(!i(t,e))throw Error("Expected a non-negative safe integer greater than 1 and greater than min, got ".concat(t));if(e&&t)r="".concat(e,",").concat(t);else if(e&&null===t)r="".concat(e,",");else if(e&&!t)r="".concat(e);else if(e||t)throw Error("Unexpected state for min (".concat(e,") and max (").concat(t,")"));else r="0,";return new RegExp("^[23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz]{".concat(r,"}$"))};r.default={Email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,EmailWithTLD:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Domain:new RegExp("^".concat("(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z](?:[a-z-]*[a-z])?","$")),WeakDomain:new RegExp("^".concat(a,"$")),IP:new RegExp("^(?:".concat(n,"|").concat(o,")$")),IPv4:new RegExp("^".concat(n,"$")),IPv6:new RegExp("^".concat(o,"$")),Url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,Id:c(17),idOfLength:c,ZipCode:/^\d{5}(?:[-\s]\d{4})?$/,Phone:/^[0-9---]{2}$|^[+]*(?:[-x-- ().\[\]/~*]*[0-9---]){3,}[-x-- ().\[\]/~0-9---]*(?:;ext=([0-9---]{1,7})|[ \t,]*(?:e?xt(?:ensi(?:o?|))?n?|??|[,x#~]|int|anexo|)[:\.]?[ \t,-]*([0-9---]{1,7})#?|[- ]+([0-9---]{1,5})#)?$/i},t.exports=r.default,t.exports.default=r.default},937446,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e.r(333975);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.default=function(e,t){if(Array.isArray(e)||e&&("function"==typeof e||"object"===o(e))&&!(e instanceof Date)||null===e)return e;if(t===String)return null==e?e:e.toString();if(t===Number||t===n.SimpleSchema.Integer){if("string"==typeof e&&e.length>0){var r=Number(e);if(!isNaN(r))return r}return e}if(t===Date){if("string"==typeof e){var a=Date.parse(e);if(!1===isNaN(a))return new Date(a)}if("number"==typeof e)return new Date(e)}if(t===Boolean){if("string"==typeof e){if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1}else if("number"==typeof e&&!isNaN(e))return!!e}return t===Array?[e]:e},t.exports=r.default,t.exports.default=r.default},233114,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=e.fieldName,r=e.isModifier,n=e.mongoObject,i=n.getPositionsInfoForGenericKey(t);if(r&&n.getPositionsThatCreateGenericKey(t).length>0)return i;if(-1===t.indexOf(".")&&0===i.length)return i.push({key:t,value:void 0,operator:r?"$set":null,position:r?"$set[".concat(t,"]"):t}),i;var c=(0,a.getParentOfKey)(t),u=(0,a.getLastPartOfKey)(t,c),s=u.replace(/\./g,"]["),l=n.getPositionsInfoForGenericKey(c);return l.length?l.forEach(function(e){var t="".concat(e.position,"[").concat(s,"]");i.find(function(e){return e.position===t})||i.push({key:"".concat(e.key,".").concat(u),value:void 0,operator:e.operator,position:t})}):".$"!==c.slice(-2)&&n.getPositionsThatCreateGenericKey(c).forEach(function(e){var r=e.operator,n=e.position;if(r){for(var u,s,l=n.slice(n.indexOf("[")+1,n.indexOf("]")).split("."),f=[];l.length&&s!==c;)f.push(l.shift()),s=f.join(".");s="".concat(s,".").concat(t.slice(s.length+1)),u="$set[".concat(s,"]")}else{var p=(0,a.getLastPartOfKey)(t,c).replace(/\./g,"][");u="".concat(n.slice(0,n.lastIndexOf("[")),"[").concat(p,"]")}i.find(function(e){return e.position===u})||i.push({key:o.default._positionToKey(u),value:void 0,operator:r?"$set":null,position:u})}),i};var n,o=(n=e.r(924109))&&n.__esModule?n:{default:n},a=e.r(881153);t.exports=r.default,t.exports.default=r.default},880859,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,o=(n=e.r(7641))&&n.__esModule?n:{default:n},a=e.r(881153);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e,t){var r=e.getInfoForKey(t)||{};return{isSet:void 0!==r.value,value:r.value,operator:r.operator||null}}r.default=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.options=e,this.doneKeys=[]}return e=[{key:"runForPosition",value:function(e){var t=e.key,r=e.operator,n=e.position,s=e.value,l=this.options,f=l.closestSubschemaFieldName,p=l.extendedAutoValueContext,y=l.func,d=l.isModifier,h=l.isUpsert,v=l.mongoObject;if(!this.doneKeys.includes(t)){var m=(0,a.getParentOfKey)(t,!0),b=u(v,m.slice(0,-1)),g=!1;if(!(Array.isArray(b.value)&&isNaN(t.split(".").slice(-1).pop()))){var O=y.call(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({closestSubschemaFieldName:f.length?f:null,field:function(e){return u(v,f+e)},isModifier:d,isUpsert:h,isSet:void 0!==s,key:t,operator:r,parentField:function(){return b},siblingField:function(e){return u(v,m+e)},unset:function(){g=!0},value:s},p||{}),v.getObject());if(this.doneKeys.push(t),g&&n&&v.removeValueForPosition(n),void 0!==O){if(d){if(O&&"object"===i(O)){var _,j,E=Object.keys(O).find(function(e){return"$"===e.substring(0,1)});E&&(_=E,j=O[E])}if(_||"$"===n.slice(0,1)||(_="$set",j=O),_){v.removeValueForPosition(n),v.setValueForPosition("".concat(_,"[").concat(t,"]"),(0,o.default)(j));return}}v.setValueForPosition(n,(0,o.default)(O))}}}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),t.exports=r.default,t.exports.default=r.default},150306,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sortAutoValueFunctions=i,r.default=void 0;var n=a(e.r(233114)),o=a(e.r(880859));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.reduce(function(e,t,r){return e[t.fieldName]=r,e},{});return e.sort(function(e,r){var n=e.fieldName.split(".").length-r.fieldName.split(".").length;return 0===n?t[e.fieldName]-t[r.fieldName]:n})}r.default=function(e,t,r,a,c){i(e).forEach(function(e){var i=e.func,u=e.fieldName,s=e.closestSubschemaFieldName,l=new o.default({closestSubschemaFieldName:s,extendedAutoValueContext:c,func:i,isModifier:r,isUpsert:a,mongoObject:t});(0,n.default)({fieldName:u,isModifier:r,mongoObject:t}).forEach(l.runForPosition.bind(l))})}},777509,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=l(e.r(7641)),o=l(e.r(924109)),a=e.r(881153),i=e.r(333975),c=l(e.r(937446)),u=l(e.r(150306)),s=l(e.r(372265));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}r.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({isModifier:(0,a.looksLikeModifier)(t),isUpsert:!1},e._cleanOptions,{},r)).mutate?t:(0,n.default)(t),y=r.mongoObject||new o.default(l,e.blackboxKeys());if(r.filter||r.autoConvert||r.removeEmptyStrings||r.trimStrings){var d=[];y.forEachNode(function(){if("$unset"!==this.operator){var t,n=this.genericKey;if(n){var o=this.value;if(void 0!==o){if(r.filter&&!e.allowsKey(n)||r.removeNullsFromArrays&&this.isArrayItem&&null===o){"[$each]"===this.position.slice(-7)?(y.removeValueForPosition(this.position.slice(0,-7)),d.push(this.position.slice(0,-7))):(this.remove(),d.push(this.position)),i.SimpleSchema.debug&&console.info('SimpleSchema.clean: filtered out value that would have affected key "'.concat(n,'", which is not allowed by the schema'));return}var a=e.schema(n),u=a&&a.type.definitions,l=u&&u[0];if(r.autoConvert&&l&&!u.some(function(e){return void 0===s.default.call({valueShouldBeChecked:!0,definition:e,value:o})})){var p=(0,c.default)(o,l.type);void 0!==p&&p!==o&&(i.SimpleSchema.debug&&console.info("SimpleSchema.clean: autoconverted value ".concat(o," from ").concat(f(o)," to ").concat(f(p)," for ").concat(n)),o=p,this.updateValue(p))}r.trimStrings&&(!l||!1!==l.trim)&&"string"==typeof o&&(o=o.trim(),this.updateValue(o)),r.removeEmptyStrings&&(!this.operator||"$set"===this.operator)&&"string"==typeof o&&!o.length&&(this.remove(),"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),y.setValueForPosition(t,"")))}}}},{endPointsOnly:!1}),d.forEach(function(e){var t=e.lastIndexOf("[");if(-1!==t){var r=e.slice(0,t),n=y.getValueForPosition(r);(0,a.isEmptyObject)(n)&&y.removeValueForPosition(r)}}),y.removeArrayItems()}return r.getAutoValues&&(0,u.default)(e.autoValueFunctions(),y,r.isModifier,r.isUpsert,r.extendAutoValueContext),r.isModifier&&Object.keys(l||{}).forEach(function(e){var t=l[e];"object"===f(t)&&null!==t&&(0,a.isEmptyObject)(t)&&delete l[e]}),l},t.exports=r.default,t.exports.default=r.default},906178,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,o=(n=e.r(924109))&&n.__esModule?n:{default:n};function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}r.default=function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if(o.default.isBasicObject(n)){t[r]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n);return}if(Array.isArray(n)){if(Array.isArray(n[0]))throw Error("Array shorthand may only be used to one level of depth (".concat(r,")"));var i=n[0];t[r]={type:Array};var c="".concat(r,".$");if(e[c])throw Error("Array shorthand used for ".concat(r," field but ").concat(r,".$ key is already in the schema"));i instanceof RegExp?t[c]={type:String,regEx:i}:t[c]={type:i};return}if(n instanceof RegExp){t[r]={type:String,regEx:n};return}t[r]={type:n}}),t},t.exports=r.default,t.exports.default=r.default},664988,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,o=(n=e.r(154861))&&n.__esModule?n:{default:n},a=[{exp:o.default.Email,msg:"must be a valid email address"},{exp:o.default.EmailWithTLD,msg:"must be a valid email address"},{exp:o.default.Domain,msg:"must be a valid domain"},{exp:o.default.WeakDomain,msg:"must be a valid domain"},{exp:o.default.IP,msg:"must be a valid IPv4 or IPv6 address"},{exp:o.default.IPv4,msg:"must be a valid IPv4 address"},{exp:o.default.IPv6,msg:"must be a valid IPv6 address"},{exp:o.default.Url,msg:"must be a valid URL"},{exp:o.default.Id,msg:"must be a valid alphanumeric ID"},{exp:o.default.ZipCode,msg:"must be a valid ZIP code"},{exp:o.default.Phone,msg:"must be a valid phone number"}];r.default={initialLanguage:"en",messages:{en:{required:"{{{label}}} is required",minString:"{{{label}}} must be at least {{min}} characters",maxString:"{{{label}}} cannot exceed {{max}} characters",minNumber:"{{{label}}} must be at least {{min}}",maxNumber:"{{{label}}} cannot exceed {{max}}",minNumberExclusive:"{{{label}}} must be greater than {{min}}",maxNumberExclusive:"{{{label}}} must be less than {{max}}",minDate:"{{{label}}} must be on or after {{min}}",maxDate:"{{{label}}} cannot be after {{max}}",badDate:"{{{label}}} is not a valid date",minCount:"You must specify at least {{minCount}} values",maxCount:"You cannot specify more than {{maxCount}} values",noDecimal:"{{{label}}} must be an integer",notAllowed:"{{{value}}} is not an allowed value",expectedType:"{{{label}}} must be of type {{dataType}}",regEx:function(e){var t,r=e.label,n=e.regExp;n&&(t=a.find(function(e){return e.exp&&e.exp.toString()===n}));var o=t?t.msg:"failed regular expression validation";return"".concat(r," ").concat(o)},keyNotInSchema:"{{name}} is not allowed by the schema"}}},t.exports=r.default,t.exports.default=r.default},333975,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ValidationContext",{enumerable:!0,get:function(){return c.default}}),r.SimpleSchema=r.schemaDefinitionOptions=void 0;var n=d(e.r(7641)),o=d(e.r(735486)),a=d(e.r(924109)),i=d(e.r(933484)),c=d(e.r(596585)),u=d(e.r(213230)),s=d(e.r(154861)),l=d(e.r(777509)),f=d(e.r(906178)),p=e.r(881153),y=d(e.r(664988));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){return(h=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&v(o,r.prototype),o}:Reflect.construct).apply(null,arguments)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=["type","label","optional","required","autoValue","defaultValue"];r.schemaDefinitionOptions=j;var E=["type","min","max","minCount","maxCount","allowedValues","exclusiveMin","exclusiveMax","regEx","custom","blackbox","trim"],S=["label","optional","min","max","minCount","maxCount","allowedValues","exclusiveMin","exclusiveMax","regEx"],x=function(){var e,t;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof r))throw TypeError("Cannot call a class as a function");_(this,"pick",k("pick")),_(this,"omit",k("omit")),this._constructorOptions=g({},r._constructorOptionDefaults,{},t),delete this._constructorOptions.clean,this._cleanOptions=g({},r._constructorOptionDefaults.clean,{},t.clean||{}),this._validators=[],this._docValidators=[],this._validationContexts={},this._schema={},this._depsLabels={},this.extend(e),this.messageBox=new o.default((0,n.default)(y.default)),this.version=r.version}return e=[{key:"forEachAncestorSimpleSchema",value:function(e,t){var n=this,o=a.default.makeKeyGeneric(e);(0,p.forEachKeyAncestor)(o,function(e){var a=n._schema[e];a&&a.type.definitions.forEach(function(n){r.isSimpleSchema(n.type)&&t(n.type,e,o.slice(e.length+1))})})}},{key:"reactiveLabelDependency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._constructorOptions.tracker;if(e&&t){var r=a.default.makeKeyGeneric(e);if(this._schema[r]){this._depsLabels[r]||(this._depsLabels[r]=new t.Dependency),this._depsLabels[r].depend();return}this.forEachAncestorSimpleSchema(e,function(e,r,n){e.reactiveLabelDependency(n,t)})}}},{key:"nearestSimpleSchemaInstance",value:function(e){if(!e)return[null,null];var t,r,n=a.default.makeKeyGeneric(e);return this._schema[n]?[this,n]:(this.forEachAncestorSimpleSchema(e,function(e,n,o){!r&&e._schema[o]&&(r=e,t=o)}),t?[r,t]:[null,null])}},{key:"schema",value:function(e){if(!e)return this._schema;var t=a.default.makeKeyGeneric(e),r=this._schema[t];if(!r){var n=!1;this.forEachAncestorSimpleSchema(e,function(e,t,o){n||(r=e.schema(o)),r&&(n=!0)})}return r}},{key:"mergedSchema",value:function(){var e=this,t={};return this._schemaKeys.forEach(function(n){var o=e._schema[n];t[n]=o,o.type.definitions.forEach(function(e){if(r.isSimpleSchema(e.type)){var o=e.type.mergedSchema();Object.keys(o).forEach(function(e){t["".concat(n,".").concat(e)]=o[e]})}})}),t}},{key:"getDefinition",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.schema(e);if(o){var a=function(o,a){return function(i){if(!Array.isArray(t)||t.includes(i)){var c=o[i];S.indexOf(i)>-1&&"function"==typeof c?(a[i]=c.call(g({key:e},n)),"label"===i&&"string"!=typeof a[i]&&(a[i]=P(e,r._constructorOptions.humanizeAutoLabels))):a[i]=c}}},i={};return Object.keys(o).forEach(a(o,i)),o.type&&(i.type=o.type.definitions.map(function(e){var t={};return Object.keys(e).forEach(a(e,t)),t})),i}}},{key:"getQuickTypeForKey",value:function(e){var t,n=this.schema(e);if(n){var o=n.type.singleType;if(o===String)t="string";else if(o===Number||o===r.Integer)t="number";else if(o===Boolean)t="boolean";else if(o===Date)t="date";else if(o===Array){var a=this.schema("".concat(e,".$"));if(!a)return;var i=a.type.singleType;i===String?t="stringArray":i===Number||i===r.Integer?t="numberArray":i===Boolean?t="booleanArray":i===Date?t="dateArray":(i===Object||r.isSimpleSchema(i))&&(t="objectArray")}else o===Object&&(t="object");return t}}},{key:"getObjectSchema",value:function(e){var t={},r=a.default.makeKeyGeneric(e),n="".concat(r,"."),o=this.mergedSchema();return Object.keys(o).forEach(function(e){0===e.indexOf(n)&&(t[e.slice(n.length)]=o[e])}),this._copyWithSchema(t)}},{key:"autoValueFunctions",value:function(){var e=this,t=[].concat(this._autoValues);return this._schemaKeys.forEach(function(n){e._schema[n].type.definitions.forEach(function(e){r.isSimpleSchema(e.type)&&(t=t.concat(e.type.autoValueFunctions().map(function(e){var t=e.func,r=e.fieldName,o=e.closestSubschemaFieldName;return{func:t,fieldName:"".concat(n,".").concat(r),closestSubschemaFieldName:o.length?"".concat(n,".").concat(o):n}})))})}),t}},{key:"blackboxKeys",value:function(){var e=this,t=new Set(this._blackboxKeys);return this._schemaKeys.forEach(function(n){e._schema[n].type.definitions.forEach(function(e){r.isSimpleSchema(e.type)&&e.type.blackboxKeys().forEach(function(e){t.add("".concat(n,".").concat(e))})})}),Array.from(t)}},{key:"keyIsInBlackBox",value:function(e){var t=this,n=!1;return(0,p.forEachKeyAncestor)(a.default.makeKeyGeneric(e),function(e,o){if(t._blackboxKeys.has(e))n=!0;else{var a=t.schema(e);a&&a.type.definitions.forEach(function(e){r.isSimpleSchema(e.type)&&e.type.keyIsInBlackBox(o)&&(n=!0)})}}),n}},{key:"allowsKey",value:function(e){var t=this;return this._schemaKeys.some(function(n){if(n===e)return!0;var o=t.schema(n),a=e.slice(0,n.length+2);if(a.slice(0,-1)!=="".concat(n,"."))return!1;if(t._blackboxKeys.has(n))return a!=="".concat(n,".$");var i=!1,c=e.slice(n.length+1);return o.type.definitions.forEach(function(e){r.isSimpleSchema(e.type)&&e.type.allowsKey(c)&&(i=!0)}),i})}},{key:"objectKeys",value:function(e){return e?this._objectKeys["".concat(e,".")]||[]:this._firstLevelSchemaKeys}},{key:"_copyWithSchema",value:function(e){var t=new r(e,g({},this._constructorOptions));return t._cleanOptions=this._cleanOptions,t.messageBox=this.messageBox.clone(),t}},{key:"clone",value:function(){return this._copyWithSchema(this._schema)}},{key:"extend",value:function(){var e,t,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(o))throw Error("You may not pass an array of schemas to the SimpleSchema constructor or to extend()");r.isSimpleSchema(o)?(t=o._schema,this._validators=this._validators.concat(o._validators),this._docValidators=this._docValidators.concat(o._docValidators),Object.assign(this._cleanOptions,o._cleanOptions),Object.assign(this._constructorOptions,o._constructorOptions)):t=(0,f.default)(o);var a=Object.keys(t),i=new Set([].concat(m(Object.keys(this._schema)),m(a)));return a.forEach(function(e){var r=function(e){var t=Object.keys(e).reduce(function(t,r){return E.includes(r)||(t[r]=e[r]),t},{});if(e.type&&e.type instanceof u.default)t.type=e.type.clone();else{var r=Object.keys(e).reduce(function(t,r){return E.includes(r)&&(t[r]=e[r]),t},{});t.type=new u.default(r)}return t}(t[e]);if(n._schema[e]){if(!Object.prototype.hasOwnProperty.call(n._schema,e))throw Error("".concat(e," key is actually the name of a method on Object, please rename it"));r.type;var o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,["type"]);n._schema[e]=g({},n._schema[e],{},o),r.type&&n._schema[e].type.extend(r.type)}else n._schema[e]=r;!function(e,t,r,n){if(!t.type)throw Error("".concat(e,' key is missing "type"'));Object.keys(t).forEach(function(t){if(-1===j.indexOf(t))throw Error("Invalid definition for ".concat(e,' field: "').concat(t,'" is not a supported property'))});var o,a=!1;if(t.type.definitions.forEach(function(t){var r=t.type;if(!r)throw Error("Invalid definition for ".concat(e,' field: "type" option is required'));if(Array.isArray(r))throw Error("Invalid definition for ".concat(e,' field: "type" may not be an array. Change it to Array.'));if(r.constructor===Object&&(0,p.isEmptyObject)(r))throw Error("Invalid definition for ".concat(e,' field: "type" may not be an object. Change it to Object'));r===Array&&(a=!0),x.isSimpleSchema(r)&&Object.keys(r._schema).forEach(function(t){var r="".concat(e,".").concat(t);if(n.has(r))throw Error('The type for "'.concat(e,'" is set to a SimpleSchema instance that defines "').concat(r,'", but the parent SimpleSchema instance also tries to define "').concat(r,'"'))})}),a&&!n.has("".concat(e,".$")))throw Error('"'.concat(e,'" is Array type but the schema does not include a "').concat(e,'.$" definition for the array items"'));if("defaultValue"in t)if("autoValue"in t&&!t.autoValue.isDefault)console.warn('SimpleSchema: Found both autoValue and defaultValue options for "'.concat(e,'". Ignoring defaultValue.'));else{if(e.endsWith(".$"))throw Error('An array item field (one that ends with ".$") cannot have defaultValue.');o=t.defaultValue,t.autoValue=function(){if(!this.isSet){if(null===this.operator)return o;if("$pull"!==this.operator){if("$push"===this.operator||this.parentField().isSet)return o;if(this.isUpsert)return{$setOnInsert:o}}}},t.autoValue.isDefault=!0}e.endsWith(".$")?t.optional=!0:Object.prototype.hasOwnProperty.call(t,"optional")||(Object.prototype.hasOwnProperty.call(t,"required")?"function"==typeof t.required?t.optional=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return!t.required.apply(this,r)}:t.optional=!t.required:t.optional=!1===r.requiredByDefault),delete t.required,Object.prototype.hasOwnProperty.call(t,"label")||(r.defaultLabel?t.label=r.defaultLabel:x.defaultLabel?t.label=x.defaultLabel:t.label=P(e,r.humanizeAutoLabels))}(e,n._schema[e],n._constructorOptions,i)}),Object.keys(e=this._schema).forEach(function(t){var r=e[t];if(!r.type)throw Error("".concat(t,' key is missing "type"'));r.type.definitions.forEach(function(r){x.isSimpleSchema(r.type)&&Object.keys(r.type._schema).forEach(function(r){var n="".concat(t,".").concat(r);if(Object.prototype.hasOwnProperty.call(e,n))throw Error('The type for "'.concat(t,'" is set to a SimpleSchema instance that defines "').concat(t,".").concat(r,'", but the parent SimpleSchema instance also tries to define "').concat(t,".").concat(r,'"'))})})}),this._schemaKeys=Object.keys(this._schema),this._autoValues=[],this._blackboxKeys=new Set,this._firstLevelSchemaKeys=[],this._objectKeys={},this._schemaKeys.forEach(function(e){if(e.indexOf(".")>-1){var t=e.slice(0,e.lastIndexOf("."));if(!Object.prototype.hasOwnProperty.call(n._schema,t))throw Error('"'.concat(e,'" is in the schema but "').concat(t,'" is not'))}var o=n._schema[e];-1===e.indexOf(".")&&n._firstLevelSchemaKeys.push(e);var a=!0,i=!1,c=void 0;try{for(var u,s=o.type.definitions[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var l=u.value;if(!0===l.blackbox||l.type===r.Any){n._blackboxKeys.add(e);break}}}catch(e){i=!0,c=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw c}}"function"==typeof o.autoValue&&n._autoValues.push({closestSubschemaFieldName:"",fieldName:e,func:o.autoValue})}),!function e(t,o){Object.keys(t).forEach(function(a){var i=t[a];if((a=o?"".concat(o,".").concat(a):a).indexOf(".")>-1&&".$"!==a.slice(-2)){var c=a.slice(0,a.lastIndexOf(".")),u="".concat(c,".");n._objectKeys[u]=n._objectKeys[u]||[],n._objectKeys[u].push(a.slice(a.lastIndexOf(".")+1))}i.type.definitions.forEach(function(t){var n=t.type;r.isSimpleSchema(n)&&e(n._schema,a)})})}(this._schema),this}},{key:"getAllowedValuesForKey",value:function(e){this.allowsKey("".concat(e,".$"))&&(e="".concat(e,".$"));var t=this.get(e,"allowedValues");return Array.isArray(t)||t instanceof Set?m(t):null}},{key:"newContext",value:function(){return new c.default(this)}},{key:"namedContext",value:function(e){return"string"!=typeof e&&(e="default"),this._validationContexts[e]||(this._validationContexts[e]=new c.default(this,e)),this._validationContexts[e]}},{key:"addValidator",value:function(e){this._validators.push(e)}},{key:"addDocValidator",value:function(e){this._docValidators.push(e)}},{key:"validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.check||this._constructorOptions.check;if("function"==typeof o)try{o(e)}catch(e){}(Array.isArray(e)?e:[e]).forEach(function(e){var o=t.newContext();if(!o.validate(e,n)){var a=o.validationErrors(),i=Error(t.messageForError(a[0]));if(i.errorType="ClientError",i.name="ClientError",i.error="validation-error",i.details=a.map(function(e){return g({},e,{message:t.messageForError(e)})}),"function"==typeof r.validationErrorTransform)throw r.validationErrorTransform(i);throw i}})}},{key:"validateAndReturnErrorsPromise",value:function(e,t){var r=this,n=this.newContext();return n.validate(e,t)?Promise.resolve([]):Promise.resolve(n.validationErrors().map(function(e){return g({},e,{message:r.messageForError(e)})}))}},{key:"validator",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){var n=g({},t);return(!0===t.clean&&(n.mongoObject=new a.default(r,e.blackboxKeys()),e.clean(r,n)),t.returnErrorsPromise)?e.validateAndReturnErrorsPromise(r,n):e.validate(r,n)}}},{key:"getFormValidator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.validator(g({},e,{returnErrorsPromise:!0}))}},{key:"clean",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return l.default.apply(void 0,[this].concat(t))}},{key:"labels",value:function(e){var t=this;Object.keys(e).forEach(function(r){var n,o=e[r];if("string"==typeof o||"function"==typeof o){var a=function(e){if(Array.isArray(e))return e}(n=t.nearestSimpleSchemaInstance(r))||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),2!==r.length);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}(),i=a[0],c=a[1];i&&(i._schema[c].label=o,i._depsLabels[c]&&i._depsLabels[c].changed())}})}},{key:"label",value:function(e){var t=this;if(null==e){var r={};return this._schemaKeys.forEach(function(e){r[e]=t.label(e)}),r}var n=this.get(e,"label");return n&&this.reactiveLabelDependency(e),n||null}},{key:"get",value:function(e,t,r){var n=this.getDefinition(e,["type",t],r);if(n)return j.includes(t)?n[t]:(n.type.find(function(e){return e[t]})||{})[t]}},{key:"defaultValue",value:function(e){return this.get(e,"defaultValue")}},{key:"messageForError",value:function(e){var t=e.name;return this.messageBox.message(e,{context:{key:t,label:this.label(t)}})}}],t=[{key:"isSimpleSchema",value:function(e){return e&&(e instanceof r||e._schema)}},{key:"extendOptions",value:function(e){Array.isArray(e)||(e=Object.keys(e)),e.forEach(function(e){j.push(e)})}},{key:"defineValidationErrorTransform",value:function(e){if("function"!=typeof e)throw Error("SimpleSchema.defineValidationErrorTransform must be passed a function that accepts an Error and returns an Error");r.validationErrorTransform=e}},{key:"validate",value:function(e,t,n){return r.isSimpleSchema(t)||(t=new r(t)),t.validate(e,n)}},{key:"oneOf",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return h(u.default,t)}},{key:"addValidator",value:function(e){r._validators.push(e)}},{key:"addDocValidator",value:function(e){r._docValidators.push(e)}},{key:"constructorOptionDefaults",value:function(e){if(!e)return r._constructorOptionDefaults;r._constructorOptionDefaults=g({},r._constructorOptionDefaults,{},e,{clean:g({},r._constructorOptionDefaults.clean,{},e.clean||{})})}}],e&&O(r.prototype,e),t&&O(r,t),r}();function P(e,t){var r,n=e.split(".");do r=n.pop();while("$"===r&&n.length)return t?(0,i.default)(r):r}function k(e){return function(){for(var t=this,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var a={};return this._schemaKeys.forEach(function(r){var o=n.some(function(e){return r===e||0===r.indexOf("".concat(e,"."))});(o&&"pick"===e||!o&&"omit"===e)&&(a[r]=t._schema[r])}),this._copyWithSchema(a)}}r.SimpleSchema=x,_(x,"version",2),_(x,"Any","___Any___"),_(x,"RegEx",s.default),_(x,"_validators",[]),_(x,"_docValidators",[]),_(x,"_constructorOptionDefaults",{clean:{autoConvert:!0,extendAutoValueContext:{},filter:!0,getAutoValues:!0,removeEmptyStrings:!0,removeNullsFromArrays:!1,trimStrings:!0},humanizeAutoLabels:!0,requiredByDefault:!0}),_(x,"ErrorTypes",{REQUIRED:"required",MIN_STRING:"minString",MAX_STRING:"maxString",MIN_NUMBER:"minNumber",MAX_NUMBER:"maxNumber",MIN_NUMBER_EXCLUSIVE:"minNumberExclusive",MAX_NUMBER_EXCLUSIVE:"maxNumberExclusive",MIN_DATE:"minDate",MAX_DATE:"maxDate",BAD_DATE:"badDate",MIN_COUNT:"minCount",MAX_COUNT:"maxCount",MUST_BE_INTEGER:"noDecimal",VALUE_NOT_ALLOWED:"notAllowed",EXPECTED_TYPE:"expectedType",FAILED_REGULAR_EXPRESSION:"regEx",KEY_NOT_IN_SCHEMA:"keyNotInSchema"}),_(x,"Integer","SimpleSchema.Integer"),_(x,"_makeGeneric",a.default.makeKeyGeneric),_(x,"ValidationContext",c.default),_(x,"setDefaultMessages",function(e){(0,p.merge)(y.default,e)})},262280,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e.r(333975);e.r(777509),n.SimpleSchema.ValidationContext=n.ValidationContext,r.default=n.SimpleSchema,t.exports=r.default,t.exports.default=r.default},448621,e=>{"use strict";var t=e.i(262280);t.default.extendOptions(["typescriptType"]),t.default.extendOptions(["needsUpdate"]),t.default.extendOptions(["getValue"]),t.default.extendOptions(["canAutoDenormalize"]),t.default.extendOptions(["logChanges"]),t.default.extendOptions(["countOfReferences"]),t.default.extendOptions(["editableFieldOptions"]),t.default.extendOptions(["slugCallbackOptions"]),t.default.extendOptions(["hidden","form","input","control","order","group","onCreate","onUpdate","onDelete","canRead","canCreate","canUpdate","resolveAs","description","beforeComponent","afterComponent","placeholder","options","query","unique","tooltip","canAutofillDefault","denormalized","foreignKey","nullable","vectorSize"]);let r=t.default;e.s(["default",0,r])}]);

//# debugId=a71f5e5b-9961-a42b-f6ae-9019e16a112f
//# sourceMappingURL=8c96b9cde32db21e.js.map